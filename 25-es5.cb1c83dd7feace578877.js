function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{WbAt:function(t,e,n){"use strict";n.r(e);var i,a,s=n("ofXK"),c=n("dlKe"),o=n("PCNd"),r=n("5cNS"),l=n("fXoL"),u=((i=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ob({type:i}),i.\u0275inj=l.Nb({factory:function(t){return new(t||i)},imports:[[s.c,o.a,c.b]]}),i),b=n("tyNb"),p=n("upKI"),m=n("RW1d"),d=n("quSY"),f=n("IzEk"),h="offset-lg-1 col-lg-10 offset-xl-2 col-xl-8",g=n("tk/3"),v=n("lJxs"),y=n("pLZG"),S=n("/uUt"),T=n("89iV"),O=n("xErE"),k=(n("G54m"),n("VnnJ")),C=n("yZrb"),E=((a=function(){function t(e,n,i){_classCallCheck(this,t),this.accountsService=e,this.companyService=n,this.apiService=i}return _createClass(t,[{key:"getStatement",value:function(t,e){var n="companies/".concat(this.companyService.currentId,"/accounts/").concat(t,"/statements"),i=Object(T.a)(e);return this.apiService.getObservable(n,null,i)}},{key:"downloadStatement",value:function(t,e,n){var i="companies/".concat(this.companyService.currentId,"/accounts/").concat(t,"/statements"),a=new g.g;a=(a=a.set("Accept-File",n)).set("Content-Type","application/octet-stream");var s=Object(T.a)(e),c=n.substring(n.lastIndexOf("/")+1,n.length);return"1c"===c&&(c+=".txt"),this.apiService.getObservable(i,a,s,{responseType:"blob"}).pipe(Object(v.a)((function(e){return{file:e,filename:"".concat(t,".").concat(c)}})))}},{key:"getRequisitesPdf",value:function(t){var e="companies/".concat(this.companyService.currentId,"/accounts/").concat(t,"/requisites"),n=new g.g;n=(n=n.set("Accept-File","application/pdf")).set("Content-Type","application/octet-stream");var i=new g.h;return this.apiService.getObservable(e,n,i,{responseType:"blob"})}},{key:"getDepositInterests",value:function(t,e){var n="deposit-service/companies/".concat(this.companyService.currentId,"/deposits/").concat(t,"/interests"),i=Object(T.a)(e);return this.apiService.getV2Observable(n,null,i)}},{key:"getDepositTerms",value:function(t){return this.apiService.getV2Observable("deposit-service/companies/".concat(this.companyService.currentId,"/deposits/").concat(t))}},{key:"getDepositByIban",value:function(t){return this.accountsService.getAccountsList().pipe(Object(y.a)((function(t){return t.length>0})),Object(S.a)(this.areArraysEqual),Object(v.a)((function(e){return e.find((function(e){return e.iban===t}))})),Object(y.a)((function(t){return!!t})))}},{key:"areArraysEqual",value:function(t,e){return t.length===e.length&&t.every((function(t,n){return t.id===e[n].id}))}}]),t}()).\u0275fac=function(t){return new(t||a)(l.ec(O.a),l.ec(k.a),l.ec(C.a))},a.\u0275prov=l.Mb({token:a,factory:a.\u0275fac,providedIn:"root"}),a),A=n("S1F0"),x=n("oKsb"),w=n("zN9f"),D=n("Kx/q"),j=n("xJkR"),I=n("tepA");function R(t,e){if(1&t&&(l.Wb(0,"div",4),l.Wb(1,"div",5),l.Wb(2,"div",6),l.Rb(3,"j-entity-logo",7),l.Vb(),l.Wb(4,"span",8),l.Tc(5),l.nc(6,"formatIban"),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"h1",9),l.Rb(8,"j-money",10),l.Vb()),2&t){var n=l.mc();l.Ab(3),l.uc("name",null==n.deposit.balance?null:n.deposit.balance.currency),l.Ab(2),l.Uc(l.oc(6,3,n.iban)),l.Ab(3),l.uc("money",n.deposit.balance)}}var V=function(){return{width:"28px",height:"28px","margin-bottom":"0","background-color":"#ECEEF1"}},W=function(){return{height:"46px",width:"60%","margin-bottom":"0","background-color":"#ECEEF1"}};function _(t,e){if(1&t&&(l.Wb(0,"div",4),l.Wb(1,"div",5),l.Wb(2,"div",6),l.Rb(3,"ngx-skeleton-loader",11),l.Vb(),l.Wb(4,"span",8),l.Tc(5),l.nc(6,"formatIban"),l.Vb(),l.Vb(),l.Vb(),l.Wb(7,"h1",9),l.Rb(8,"ngx-skeleton-loader",11),l.Vb()),2&t){var n=l.mc();l.Ab(3),l.uc("theme",l.yc(5,V)),l.Ab(2),l.Uc(l.oc(6,3,n.iban)),l.Ab(3),l.uc("theme",l.yc(6,W))}}var F,M=((F=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||F)},F.\u0275cmp=l.Kb({type:F,selectors:[["j-deposit-header"]],inputs:{iban:"iban",deposit:"deposit"},decls:6,vars:1,consts:[[1,"account-header"],[3,"ngTemplateOutlet"],["depositTemplate",""],["loadingTemplate",""],[1,"iban"],[1,"iban__number"],[1,"iban-img"],["size","sm",3,"name"],[1,"d-inline-block","text-muted","mr-4"],[1,"f-page-title"],[3,"money"],[3,"theme"]],template:function(t,e){if(1&t&&(l.Wb(0,"section",0),l.Sb(1,1),l.Vb(),l.Rc(2,R,9,5,"ng-template",null,2,l.Sc),l.Rc(4,_,9,7,"ng-template",null,3,l.Sc)),2&t){var n=l.Fc(3),i=l.Fc(5);l.Ab(1),l.uc("ngTemplateOutlet",e.deposit?n:i)}},directives:[s.B,w.a,D.a,j.a],pipes:[I.a],styles:[".iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:8px;flex-wrap:wrap}.iban-img[_ngcontent-%COMP%]{margin-right:12px;height:28px;border-radius:.5rem}.iban__number[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}"],changeDetection:0}),F),N=n("4wRv"),L=n("sYmb");function P(t,e){if(1&t&&(l.Wb(0,"a",3),l.Tc(1),l.nc(2,"translate"),l.Vb()),2&t){var n=e.$implicit;l.uc("routerLink",n.link),l.Ab(1),l.Vc(" ",l.oc(2,2,n.label)," ")}}var H,G=[{label:"DEPOSITS.STATEMENT.TITLE",link:"statement"},{label:"DEPOSITS.INTERESTS.TITLE",link:"interests",isRewards:!0},{label:"DEPOSITS.TERMS.TITLE",link:"terms"},{label:"DEPOSITS.REQUISITES.TITLE",link:"requisites"}],Q=((H=function(){function t(e){_classCallCheck(this,t),this.featureFlagsService=e,this.subscription=new d.a,this.initFeatureFlags()}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"initFeatureFlags",value:function(){var t=this;this.subscription.add(this.featureFlagsService.getFeatureFlags().subscribe((function(e){t.tabs=t.featureFlagsService.isDisabled(N.a.DEPOSIT_REWARDS)?G.filter((function(t){return!t.isRewards})):[].concat(G)})))}}]),t}()).\u0275fac=function(t){return new(t||H)(l.Qb(N.b))},H.\u0275cmp=l.Kb({type:H,selectors:[["j-deposit-tabs"]],decls:3,vars:1,consts:[[1,"f-page-tabs-wrap"],[1,"f-page-tabs"],["routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",3,"routerLink"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"nav",1),l.Rc(2,P,3,4,"a",2),l.Vb(),l.Vb()),2&t&&(l.Ab(2),l.uc("ngForOf",e.tabs))},directives:[s.t,b.f,b.e],pipes:[L.d],styles:[""]}),H);function $(t,e){1&t&&l.Rb(0,"router-outlet")}var B,Y,U,K=((B=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this.route=e,this.router=n,this.depositsService=i,this.isLoading=!0,this.subscription=new d.a,this.colsClasslist=h,this.route.params.pipe(Object(f.a)(1)).subscribe((function(t){a.iban=t.iban,a.deposit$=a.depositsService.getDepositByIban(a.iban)}))}return _createClass(t,[{key:"onClose",value:function(){this.router.navigate(["/accounts"])}}]),t}()).\u0275fac=function(t){return new(t||B)(l.Qb(b.a),l.Qb(b.c),l.Qb(E))},B.\u0275cmp=l.Kb({type:B,selectors:[["j-deposit"]],decls:7,vars:5,consts:[["closePosition","outside","headerClassList","bg-white",3,"colsClassList","closed"],[3,"deposit","iban"],["contentTemplate",""]],template:function(t,e){1&t&&(l.Wb(0,"f-page",0),l.ic("closed",(function(t){return e.onClose()})),l.Wb(1,"f-page-header"),l.Rb(2,"j-deposit-header",1),l.nc(3,"async"),l.Rb(4,"j-deposit-tabs"),l.Vb(),l.Rc(5,$,1,0,"ng-template",null,2,l.Sc),l.Vb()),2&t&&(l.uc("colsClassList",e.colsClasslist),l.Ab(2),l.uc("deposit",l.oc(3,3,e.deposit$))("iban",e.iban))},directives:[A.a,x.a,M,Q,b.h],pipes:[s.b],styles:["[_nghost-%COMP%]{background:#f6f7f8;display:block}.deposit-header[_ngcontent-%COMP%]{background:#fff}"]}),B),z=n("u+5l"),q=((Y=function(){function t(){_classCallCheck(this,t),this.filtered=new l.n,this.downloaded=new l.n,this.downloadList=[{label:"PDF",value:"application/pdf"},{label:"EXL",value:"application/xls"},{label:"1C",value:"application/1c"}]}return _createClass(t,[{key:"onFilter",value:function(t){this.filtered.emit(t)}},{key:"onDownload",value:function(t){this.downloaded.emit(t)}}]),t}()).\u0275fac=function(t){return new(t||Y)},Y.\u0275cmp=l.Kb({type:Y,selectors:[["j-deposit-interests-filter"]],inputs:{filterDates:"filterDates"},outputs:{filtered:"filtered",downloaded:"downloaded"},decls:1,vars:1,consts:[["placement","left-top",1,"filter-group",3,"customDates","submitted"]],template:function(t,e){1&t&&(l.Wb(0,"j-filter-period-dropdown",0),l.ic("submitted",(function(t){return e.onFilter(t)})),l.Vb()),2&t&&l.uc("customDates",e.filterDates)},directives:[z.a],styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end;-webkit-box-align:center;align-items:center}"]}),Y),X=n("Wgwc"),J=n.n(X),Z=n("LRne"),tt=n("e8Ap"),et=function(t){return{name:t}},nt=((U=function(){function t(e){_classCallCheck(this,t),this.translateService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.mapDate()}},{key:"mapDate",value:function(){var t=J()(this.transaction.documentDate);this.date$=t.isSame(J()(),"day")?this.translateService.get("DEPOSITS.INTERESTS.DATE.TODAY",{datetime:t.format("HH:mm")}):J()(this.transaction.documentDate).isSame(J()().subtract(1,"day"),"day")?this.translateService.get("DEPOSITS.INTERESTS.DATE.YESTERDAY",{datetime:t.format("HH:mm")}):Object(Z.a)(t.format("DD MMMM HH:mm"))}}]),t}()).\u0275fac=function(t){return new(t||U)(l.Qb(L.e))},U.\u0275cmp=l.Kb({type:U,selectors:[["j-deposit-interests-transaction"]],inputs:{transaction:"transaction",depositName:"depositName"},decls:13,vars:14,consts:[["inlineSVG","assets/icons/v2/gift-24.svg",1,"transaction-icon"],[1,"transaction-summary"],[1,"d-block","p1","mb-1","text-strong",3,"showSign","money"],[1,"text-muted"],[1,"transaction-content"],[1,"p1","mb-1"],[1,"text-muted","m-0"]],template:function(t,e){1&t&&(l.Rb(0,"i",0),l.Wb(1,"div",1),l.Rb(2,"j-money",2),l.Wb(3,"div",3),l.Tc(4),l.nc(5,"async"),l.Vb(),l.Vb(),l.Wb(6,"article",4),l.Wb(7,"h6",5),l.Tc(8),l.nc(9,"translate"),l.Vb(),l.Wb(10,"p",6),l.Tc(11),l.nc(12,"translate"),l.Vb(),l.Vb()),2&t&&(l.Ab(2),l.uc("showSign",!0)("money",e.transaction.interest),l.Ab(2),l.Vc(" ",l.oc(5,5,e.date$)," "),l.Ab(4),l.Vc(" ",l.pc(9,7,"DEPOSITS.INTERESTS.TRANSACTION.TITLE",l.zc(12,et,e.depositName))," "),l.Ab(3),l.Vc(" ",l.oc(12,10,"DEPOSITS.INTERESTS.TRANSACTION.DESCRIPTION")," "))},directives:[tt.a,D.a],pipes:[s.b,L.d],styles:["[_nghost-%COMP%]{display:grid;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px;grid-template-columns:40px 160px 1fr;margin:32px 0}.transaction-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#f6f7f8;border-radius:12px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}"],changeDetection:0}),U);function it(t,e){if(1&t&&l.Rb(0,"j-deposit-interests-transaction",4),2&t){var n=e.$implicit,i=l.mc();l.uc("transaction",n)("depositName",i.depositName)}}var at,st=((at=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){this.mapGroupTitle()}},{key:"mapGroupTitle",value:function(){this.title=J()(this.group.groupDate).format("YYYY")}}]),t}()).\u0275fac=function(t){return new(t||at)},at.\u0275cmp=l.Kb({type:at,selectors:[["j-deposit-interests-group"]],inputs:{group:"group",depositName:"depositName"},decls:5,vars:4,consts:[[1,"d-flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"text-success",3,"showSign","money"],[3,"transaction","depositName",4,"ngFor","ngForOf"],[3,"transaction","depositName"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"h5",1),l.Tc(2),l.Vb(),l.Rb(3,"j-money",2),l.Vb(),l.Rc(4,it,1,2,"j-deposit-interests-transaction",3)),2&t&&(l.Ab(2),l.Vc(" ",e.title," "),l.Ab(1),l.uc("showSign",!0)("money",e.group.creditSum),l.Ab(1),l.uc("ngForOf",e.group.transactions))},directives:[D.a,s.t,nt],styles:["[_nghost-%COMP%]{display:block;margin:24px 0}"],changeDetection:0}),at),ct=n("4cI0");function ot(t,e){if(1&t&&l.Rb(0,"j-deposit-interests-group",2),2&t){var n=e.$implicit,i=l.mc();l.uc("group",n)("depositName",i.depositName)}}function rt(t,e){1&t&&l.Rb(0,"j-empty-placeholder",3)}var lt,ut,bt=((lt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||lt)},lt.\u0275cmp=l.Kb({type:lt,selectors:[["j-deposit-interests-statement"]],inputs:{statement:"statement",depositName:"depositName"},decls:2,vars:2,consts:[[3,"group","depositName",4,"ngFor","ngForOf"],["label","DEPOSITS.INTERESTS.EMPTY",4,"ngIf"],[3,"group","depositName"],["label","DEPOSITS.INTERESTS.EMPTY"]],template:function(t,e){1&t&&(l.Rc(0,ot,1,2,"j-deposit-interests-group",0),l.Rc(1,rt,1,0,"j-empty-placeholder",1)),2&t&&(l.uc("ngForOf",null==e.statement?null:e.statement.transactionGroups),l.Ab(1),l.uc("ngIf",0===e.statement.transactionGroups.length))},directives:[s.t,s.u,st,ct.a],styles:[""],changeDetection:0}),lt),pt=n("XNiG"),mt=n("eIep"),dt=n("bOdf"),ft=n("GJmQ"),ht=n("kAiJ"),gt=n("y5b2"),vt=n("jZlK"),yt=n("mR7B"),St=n("ZF+8"),Tt=n("THGi"),Ot=n("R0Ic"),kt={opacity:0,transform:"scale(0.8)",transformOrigin:"50% 50%"},Ct="200ms ease-in-out",Et={right:"-100%"},At=[Object(Ot.o)("wrapperAnimations",[Object(Ot.l)("in",Object(Ot.m)({opacity:1,transform:"scale(1)",transformOrigin:"50% 50%"})),Object(Ot.n)(":enter",[Object(Ot.m)(kt),Object(Ot.e)(Ct),Object(Ot.j)("@childAnimations",[Object(Ot.f)()])]),Object(Ot.n)(":leave",[Object(Ot.j)("@childAnimations",[Object(Ot.f)()]),Object(Ot.e)(Ct,Object(Ot.m)(kt))])]),Object(Ot.o)("childAnimations",[Object(Ot.l)("in",Object(Ot.m)({right:0})),Object(Ot.n)(":enter",[Object(Ot.m)(Et),Object(Ot.e)(Ct)]),Object(Ot.n)(":leave",[Object(Ot.e)(Ct,Object(Ot.m)(Et))])])],xt={hasDetails:!1},wt=((ut=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"mapStatementOptions",value:function(t){return Object.assign(Object.assign({},xt),t)}}]),t}()).\u0275fac=function(t){return new(t||ut)},ut.\u0275prov=l.Mb({token:ut,factory:ut.\u0275fac,providedIn:"root"}),ut);function Dt(t,e){if(1&t&&(l.Wb(0,"div",1),l.Wb(1,"label",2),l.Tc(2),l.nc(3,"translate"),l.Vb(),l.Rb(4,"j-money",3),l.Vb()),2&t){var n=e.$implicit;l.Ab(2),l.Uc(l.oc(3,7,n.label)),l.Ab(2),l.Db(n.classList),l.uc("showSign",n.showSign)("isDebit",n.isDebit)("isCredit",n.isCredit)("money",n.money)}}var jt,It=((jt=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){this.balances=[{label:"DEPOSITS.STATEMENT.HEADER.INCOME",classList:"text-success",showSign:!0,isCredit:!0,money:this.statement.creditTotalSum},{label:"DEPOSITS.STATEMENT.HEADER.OUTCOME",classList:"text-danger",showSign:!0,isDebit:!0,money:this.statement.debitTotalSum},{label:"DEPOSITS.STATEMENT.HEADER.BALANCE_IN",money:this.statement.balanceIn},{label:"DEPOSITS.STATEMENT.HEADER.BALANCE_OUT",money:this.statement.balanceOut}]}}]),t}()).\u0275fac=function(t){return new(t||jt)},jt.\u0275cmp=l.Kb({type:jt,selectors:[["j-statement2-header"]],inputs:{statement:"statement"},decls:1,vars:1,consts:[["class","balances",4,"ngFor","ngForOf"],[1,"balances"],[1,"balance-label","text-muted","p3","m-0"],[1,"h5","d-block",3,"showSign","isDebit","isCredit","money"]],template:function(t,e){1&t&&l.Rc(0,Dt,5,9,"div",0),2&t&&l.uc("ngForOf",e.balances)},directives:[s.t,D.a],pipes:[L.d],styles:["[_nghost-%COMP%]{display:grid;padding-top:24px;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px;grid-template-columns:repeat(4,1fr)}"]}),jt),Rt=function(t){return t.CREDIT="CREDIT",t.DEBIT="DEBIT",t}({}),Vt=function(t){return t.DAY="DAY",t.MONTH="MONTH",t.NONE="NONE",t}({});function Wt(t,e){if(1&t&&(l.Rb(0,"i",3),l.Wb(1,"div",4),l.Rb(2,"j-money",5),l.Wb(3,"div",6),l.Tc(4),l.nc(5,"async"),l.Vb(),l.Vb(),l.Wb(6,"article",7),l.Wb(7,"h6",8),l.Tc(8),l.nc(9,"translate"),l.Vb(),l.Wb(10,"p",9),l.Tc(11),l.Vb(),l.Vb()),2&t){var n=l.mc();l.Ab(2),l.uc("showSign",!0)("isCredit",!0)("money",n.transaction.credit),l.Ab(2),l.Vc(" ",l.oc(5,6,n.date$)," "),l.Ab(4),l.Vc(" ",l.oc(9,8,"DEPOSITS.STATEMENT.CREDIT")," "),l.Ab(3),l.Vc(" ",n.transaction.description," ")}}function _t(t,e){if(1&t&&(l.Rb(0,"i",10),l.Wb(1,"div",4),l.Rb(2,"j-money",11),l.Wb(3,"div",6),l.Tc(4),l.nc(5,"async"),l.Vb(),l.Vb(),l.Wb(6,"article",7),l.Wb(7,"h6",8),l.Tc(8),l.nc(9,"translate"),l.Vb(),l.Wb(10,"p",9),l.Tc(11),l.Vb(),l.Vb()),2&t){var n=l.mc();l.Ab(2),l.uc("showSign",!0)("isDebit",!0)("money",n.transaction.debit),l.Ab(2),l.Vc(" ",l.oc(5,6,n.date$)," "),l.Ab(4),l.Vc(" ",l.oc(9,8,"DEPOSITS.STATEMENT.DEBIT")," "),l.Ab(3),l.Vc(" ",n.transaction.description," ")}}var Ft,Mt=((Ft=function(){function t(e){_classCallCheck(this,t),this.translateService=e}return _createClass(t,[{key:"ngOnInit",value:function(){this.mapTransactionType(),this.mapDate()}},{key:"mapDate",value:function(){var t=J()(this.transaction.documentDate);this.date$=t.isSame(J()(),"day")?this.translateService.get("DEPOSITS.INTERESTS.DATE.TODAY",{datetime:t.format("HH:mm")}):J()(this.transaction.documentDate).isSame(J()().subtract(1,"day"),"day")?this.translateService.get("DEPOSITS.INTERESTS.DATE.YESTERDAY",{datetime:t.format("HH:mm")}):Object(Z.a)(t.format("DD MMMM HH:mm"))}},{key:"mapTransactionType",value:function(){this.isCredit=this.transaction.type===Rt.CREDIT}}]),t}()).\u0275fac=function(t){return new(t||Ft)(l.Qb(L.e))},Ft.\u0275cmp=l.Kb({type:Ft,selectors:[["j-statement2-transaction"]],inputs:{transaction:"transaction"},decls:5,vars:1,consts:[[3,"ngTemplateOutlet"],["creditTemplate",""],["debitTemplate",""],["inlineSVG","/assets/icons/v2/credit-40.svg",1,"transaction-icon"],[1,"transaction-summary"],[1,"d-block","p1","mb-1","text-strong",3,"showSign","isCredit","money"],[1,"text-muted"],[1,"transaction-content"],[1,"p1","mb-1"],[1,"text-muted","m-0"],["inlineSVG","/assets/icons/v2/debit-40.svg",1,"transaction-icon"],[1,"d-block","p1","mb-1","text-strong",3,"showSign","isDebit","money"]],template:function(t,e){if(1&t&&(l.Sb(0,0),l.Rc(1,Wt,12,10,"ng-template",null,1,l.Sc),l.Rc(3,_t,12,10,"ng-template",null,2,l.Sc)),2&t){var n=l.Fc(2),i=l.Fc(4);l.uc("ngTemplateOutlet",e.isCredit?n:i)}},directives:[s.B,tt.a,D.a],pipes:[s.b,L.d],styles:["[_nghost-%COMP%]{display:grid;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px;grid-template-columns:40px 160px 1fr;margin:32px 0}"]}),Ft);function Nt(t,e){if(1&t){var n=l.Xb();l.Wb(0,"j-statement2-transaction",5),l.ic("click",(function(t){l.Ic(n);var i=e.$implicit;return l.mc().onClick(i)})),l.Vb()}2&t&&l.uc("transaction",e.$implicit)}var Lt,Pt,Ht=((Pt=function(){function t(){_classCallCheck(this,t),this.clicked=new l.n}return _createClass(t,[{key:"ngOnInit",value:function(){this.mapTitle()}},{key:"onClick",value:function(t){this.clicked.emit(t)}},{key:"mapTitle",value:function(){switch(this.groupType){case Vt.MONTH:var t=J()(this.group.groupDate).format("MMMM");this.title="".concat(t[0].toUpperCase()).concat(t.slice(1));break;default:case Vt.DAY:this.title=J()(this.group.groupDate).format("DD.MM.YYYY")}}}]),t}()).\u0275fac=function(t){return new(t||Pt)},Pt.\u0275cmp=l.Kb({type:Pt,selectors:[["j-statement2-group"]],inputs:{group:"group",groupType:"groupType",groupHeaderTemplate:"groupHeaderTemplate",transactionTemplate:"transactionTemplate"},outputs:{clicked:"clicked"},decls:7,vars:8,consts:[[1,"d-flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"text-success",3,"showSign","isCredit","money"],[1,"text-dark","ml-2",3,"showSign","isDebit","money"],[3,"transaction","click",4,"ngFor","ngForOf"],[3,"transaction","click"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Wb(1,"h5",1),l.Tc(2),l.Vb(),l.Wb(3,"div"),l.Rb(4,"j-money",2),l.Rb(5,"j-money",3),l.Vb(),l.Vb(),l.Rc(6,Nt,1,1,"j-statement2-transaction",4)),2&t&&(l.Ab(2),l.Vc(" ",e.title," "),l.Ab(2),l.uc("showSign",!0)("isCredit",!0)("money",e.group.creditSum),l.Ab(1),l.uc("showSign",!0)("isDebit",!0)("money",e.group.debitSum),l.Ab(1),l.uc("ngForOf",e.group.transactions))},directives:[D.a,s.t,Mt],styles:["[_nghost-%COMP%]{display:block;margin:20px 0}"],changeDetection:0}),Pt),Gt=((Lt=function(){function t(){_classCallCheck(this,t),this.closed=new l.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"onClose",value:function(){this.closed.emit()}}]),t}()).\u0275fac=function(t){return new(t||Lt)},Lt.\u0275cmp=l.Kb({type:Lt,selectors:[["j-statement2-details"]],inputs:{transaction:"transaction"},outputs:{closed:"closed"},decls:2,vars:0,template:function(t,e){1&t&&(l.Wb(0,"p"),l.Tc(1," statement2-details works!\n"),l.Vb())},styles:[""],changeDetection:0}),Lt);function Qt(t,e){if(1&t){var n=l.Xb();l.Wb(0,"j-statement2-group",5),l.ic("clicked",(function(t){return l.Ic(n),l.mc().onClick(t)})),l.Vb()}if(2&t){var i=e.$implicit,a=l.mc();l.uc("group",i)("groupType",a.statement.groupType)}}function $t(t,e){1&t&&l.Rb(0,"j-empty-placeholder",6)}function Bt(t,e){if(1&t){var n=l.Xb();l.Wb(0,"section",7),l.ic("click",(function(t){return l.Ic(n),l.mc().onClose()})),l.Wb(1,"j-statement2-details",8),l.ic("click",(function(t){return l.Ic(n),t.stopPropagation()}))("closed",(function(t){return l.Ic(n),l.mc().onClose()})),l.Vb(),l.Vb()}if(2&t){var i=l.mc();l.uc("@wrapperAnimations","in"),l.Ab(1),l.uc("transaction",i.activeTransaction)("@childAnimations","in")}}var Yt,Ut=((Yt=function(){function t(e){_classCallCheck(this,t),this.statementService=e,this.scrolled=new l.n}return _createClass(t,[{key:"ngOnInit",value:function(){this._options=this.statementService.mapStatementOptions(this.options)}},{key:"onScroll",value:function(){this.scrolled.emit()}},{key:"onClick",value:function(t){this._options.hasDetails&&(this.activeTransaction=t)}},{key:"onClose",value:function(){this.activeTransaction=null}}]),t}()).\u0275fac=function(t){return new(t||Yt)(l.Qb(wt))},Yt.\u0275cmp=l.Kb({type:Yt,selectors:[["j-statement2"]],inputs:{statement:"statement",options:"options"},outputs:{scrolled:"scrolled"},decls:5,vars:8,consts:[["infiniteScroll","",3,"scrollWindow","alwaysCallback","infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"statement"],[3,"group","groupType","clicked",4,"ngFor","ngForOf"],["label","DEPOSITS.STATEMENT.EMPTY",4,"ngIf"],["class","details-wrapper",3,"click",4,"ngIf"],[3,"group","groupType","clicked"],["label","DEPOSITS.STATEMENT.EMPTY"],[1,"details-wrapper",3,"click"],[1,"details",3,"transaction","click","closed"]],template:function(t,e){1&t&&(l.Wb(0,"section",0),l.ic("scrolled",(function(t){return e.onScroll()})),l.Rb(1,"j-statement2-header",1),l.Rc(2,Qt,1,2,"j-statement2-group",2),l.Vb(),l.Rc(3,$t,1,0,"j-empty-placeholder",3),l.Rc(4,Bt,2,3,"section",4)),2&t&&(l.uc("scrollWindow",!0)("alwaysCallback",!0)("infiniteScrollDistance",2)("infiniteScrollThrottle",500),l.Ab(1),l.uc("statement",e.statement),l.Ab(1),l.uc("ngForOf",e.statement.transactionGroups),l.Ab(1),l.uc("ngIf",!e.statement.transactionGroups||0===e.statement.transactionGroups.length),l.Ab(1),l.uc("ngIf",e.activeTransaction))},directives:[c.a,It,s.t,s.u,Ht,ct.a,Gt],styles:[".details-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(246,247,248,.8);z-index:5000}.details[_ngcontent-%COMP%]{top:0;right:0;bottom:0;position:absolute;width:25%;min-width:425px;background:#f6f7f8;box-shadow:0 24px 32px rgba(0,0,0,.04),0 16px 24px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.04),0 0 1px rgba(0,0,0,.04);border-radius:12px 0 0 12px}"],data:{animation:At}}),Yt),Kt=function(){return{height:"18px",margin:"0px","background-color":"#ECEEF1"}},zt=function(){return{height:"36px",margin:"0px","background-color":"#ECEEF1"}};function qt(t,e){1&t&&(l.Wb(0,"div",5),l.Rb(1,"ngx-skeleton-loader",3),l.Rb(2,"ngx-skeleton-loader",3),l.Vb()),2&t&&(l.Ab(1),l.uc("theme",l.yc(2,Kt)),l.Ab(1),l.uc("theme",l.yc(3,zt)))}var Xt=function(){return{width:"40px",height:"40px",margin:"0px","background-color":"#ECEEF1"}},Jt=function(){return{height:"25px",margin:"0px","background-color":"#ECEEF1"}},Zt=function(){return{height:"22px",margin:"0px","background-color":"#ECEEF1"}};function te(t,e){1&t&&(l.Wb(0,"div",6),l.Rb(1,"ngx-skeleton-loader",3),l.Wb(2,"div"),l.Rb(3,"ngx-skeleton-loader",3),l.Rb(4,"ngx-skeleton-loader",3),l.Vb(),l.Wb(5,"div"),l.Rb(6,"ngx-skeleton-loader",3),l.Rb(7,"ngx-skeleton-loader",3),l.Vb(),l.Vb()),2&t&&(l.Ab(1),l.uc("theme",l.yc(5,Xt)),l.Ab(2),l.uc("theme",l.yc(6,Jt)),l.Ab(1),l.uc("theme",l.yc(7,Zt)),l.Ab(2),l.uc("theme",l.yc(8,Jt)),l.Ab(1),l.uc("theme",l.yc(9,Zt)))}var ee,ne=function(){return{width:"60px",height:"36px",margin:"0px","background-color":"#ECEEF1"}},ie=function(){return{width:"120px",height:"36px",margin:"0px","background-color":"#ECEEF1"}},ae=((ee=function t(){_classCallCheck(this,t),this.headerCount=Array(4),this.transactionCount=Array(1)}).\u0275fac=function(t){return new(t||ee)},ee.\u0275cmp=l.Kb({type:ee,selectors:[["j-statement2-loading"]],decls:6,vars:6,consts:[[1,"header"],["class","header-item",4,"ngFor","ngForOf"],[1,"pt-4","d-flex","justify-content-between"],[3,"theme"],["class","transaction",4,"ngFor","ngForOf"],[1,"header-item"],[1,"transaction"]],template:function(t,e){1&t&&(l.Wb(0,"div",0),l.Rc(1,qt,3,4,"div",1),l.Vb(),l.Wb(2,"div",2),l.Rb(3,"ngx-skeleton-loader",3),l.Rb(4,"ngx-skeleton-loader",3),l.Vb(),l.Rc(5,te,8,10,"div",4)),2&t&&(l.Ab(1),l.uc("ngForOf",e.headerCount),l.Ab(2),l.uc("theme",l.yc(4,ne)),l.Ab(1),l.uc("theme",l.yc(5,ie)),l.Ab(1),l.uc("ngForOf",e.transactionCount))},directives:[s.t,j.a],styles:[".header[_ngcontent-%COMP%]{padding-top:24px;grid-template-columns:repeat(4,1fr)}.header[_ngcontent-%COMP%], .transaction[_ngcontent-%COMP%]{display:grid;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px}.transaction[_ngcontent-%COMP%]{grid-template-columns:40px 160px 1fr;margin:32px 0}"]}),ee);function se(t,e){if(1&t){var n=l.Xb();l.Wb(0,"j-statement2",8),l.ic("scrolled",(function(t){return l.Ic(n),l.mc().onScroll()})),l.Vb()}if(2&t){var i=l.mc();l.uc("statement",i.statement)}}function ce(t,e){1&t&&l.Rb(0,"j-statement2-loading")}var oe,re=((oe=function(){function t(e,n,i,a,s){var c=this;_classCallCheck(this,t),this.route=e,this.filterService=n,this.depositsService=i,this.maskedService=a,this.filesService=s,this.filterMode=gt.c.DEPOSITS,this.colsClasslist=h,this.filter=this.filterService.getDefaults(gt.c.DEPOSITS),this.statementOptions={hasDetails:!1},this.errorText="",this.emptyLabel="ACCOUNTS.EMPTY_STATEMENT",this.subscription=new d.a,this.page$=new pt.a,this.filter$=new pt.a,this.page=1,this.pageSize=10,this.route.parent.params.pipe(Object(f.a)(1)).subscribe((function(t){c.iban=t.iban,c.initSubscriptions(),c.initStatementSubscriptions()}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onDownload",value:function(t){var e=this,n=Object.assign(Object.assign({},this.mapFilter(this.filter)),{pageSize:this.statement.totalTransactionsCount});this.depositsService.downloadStatement(this.iban,n,t).pipe(Object(f.a)(1)).subscribe((function(t){var n=t.file,i=t.filename;e.filesService.downloadFile(n,i)}))}},{key:"onFilter",value:function(t){this.statement=null,this.page=1,this.filter=Object.assign({},t),this.filter$.next(t)}},{key:"onScroll",value:function(){this.page$.next(++this.page)}},{key:"initSubscriptions",value:function(){this.currency$=this.depositsService.getDepositByIban(this.iban).pipe(Object(v.a)((function(t){return t.balance.currency})))}},{key:"initStatementSubscriptions",value:function(){var t=this;this.subscription.add(this.filter$.pipe(Object(S.a)(),Object(v.a)((function(e){return t.mapFilter(e)})),Object(mt.a)((function(e){return t.depositsService.getStatement(t.iban,e)}))).subscribe((function(e){t.statement=e}))),this.subscription.add(this.page$.pipe(Object(S.a)(),Object(v.a)((function(e){return Object.assign(Object.assign({},t.mapFilter(t.filter)),{page:e})})),Object(dt.a)((function(e){return t.depositsService.getStatement(t.iban,e)})),Object(ft.a)((function(t){var e;return(null===(e=t.transactionGroups)||void 0===e?void 0:e.length)>0}))).subscribe((function(e){t.statement=Object.assign(Object.assign({},t.statement),t.statement.transactionGroups[t.statement.transactionGroups.length-1].groupDate===e.transactionGroups[0].groupDate?{transactionGroups:[].concat(_toConsumableArray(t.statement.transactionGroups.slice(0,-1)),_toConsumableArray(t.statement.transactionGroups.slice(-1).map((function(t){return Object.assign(Object.assign({},t),{transactions:[].concat(_toConsumableArray(t.transactions),_toConsumableArray(e.transactionGroups[0].transactions))})}))))}:{transactionGroups:[].concat(_toConsumableArray(t.statement.transactionGroups),_toConsumableArray(e.transactionGroups))})})))}},{key:"mapFilter",value:function(t){return{dateFrom:t.periodFrom?Object(ht.d)(t.periodFrom):null,dateTo:t.periodTo?Object(ht.d)(t.periodTo):null,documentNumber:t.documentNumber,correspondentAccount:t.recipientIban,correspondentBin:t.recipientBin,type:t.operationType!=gt.h.ALL?t.operationType:null,sort:t.sortBy!==gt.f.DEFAULT?t.sortBy:null,amountFrom:t.amountFrom?this.maskedService.getNumberedAmount(t.amountFrom):null,amountTo:t.amountTo?this.maskedService.getNumberedAmount(t.amountTo):null,withCommission:t.comission?t.comission===gt.a.WITH_COMISSION:null,page:this.page,pageSize:this.pageSize}}}]),t}()).\u0275fac=function(t){return new(t||oe)(l.Qb(b.a),l.Qb(vt.a),l.Qb(E),l.Qb(yt.a),l.Qb(St.b))},oe.\u0275cmp=l.Kb({type:oe,selectors:[["j-deposit-statement"]],decls:15,vars:9,consts:[[1,"f-page-body","no-grow"],[1,"container","f-page-container"],[1,"row"],[3,"currency","mode","filtered","downloaded"],[1,"f-page-extra"],[3,"ngTemplateOutlet"],["statementTemplate",""],["statementLoadingTemplate",""],[3,"statement","scrolled"]],template:function(t,e){if(1&t&&(l.Wb(0,"section",0),l.Wb(1,"section",1),l.Wb(2,"div",2),l.Wb(3,"div"),l.Wb(4,"j-filter",3),l.ic("filtered",(function(t){return e.onFilter(t)}))("downloaded",(function(t){return e.onDownload(t)})),l.nc(5,"async"),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(6,"section",4),l.Wb(7,"section",1),l.Wb(8,"section",2),l.Wb(9,"section"),l.Sb(10,5),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Rc(11,se,1,1,"ng-template",null,6,l.Sc),l.Rc(13,ce,1,0,"ng-template",null,7,l.Sc)),2&t){var n=l.Fc(12),i=l.Fc(14);l.Ab(3),l.Db(e.colsClasslist),l.Ab(1),l.uc("currency",l.oc(5,7,e.currency$))("mode",e.filterMode),l.Ab(5),l.Db(e.colsClasslist),l.Ab(1),l.uc("ngTemplateOutlet",e.statement?n:i)}},directives:[Tt.a,s.B,Ut,ae],pipes:[s.b],styles:["[_nghost-%COMP%]{-webkit-box-flex:1;flex-grow:1;background:#fff}"]}),oe);function le(t,e){if(1&t){var n=l.Xb();l.Wb(0,"j-deposit-interests-filter",9),l.ic("filtered",(function(t){return l.Ic(n),l.mc().onFilter(t)}))("downloaded",(function(t){return l.Ic(n),l.mc().onDownload(t)})),l.Vb()}if(2&t){var i=l.mc();l.uc("filterDates",i.filterDates)}}var ue=function(){return{width:"250px",height:"36px",margin:"0px","background-color":"#ECEEF1"}};function be(t,e){1&t&&(l.Wb(0,"div",10),l.Rb(1,"ngx-skeleton-loader",11),l.Vb()),2&t&&(l.Ab(1),l.uc("theme",l.yc(1,ue)))}function pe(t,e){if(1&t){var n=l.Xb();l.Wb(0,"j-deposit-interests-statement",12),l.ic("scrolled",(function(t){return l.Ic(n),l.mc().onScroll()})),l.Vb()}if(2&t){var i=l.mc();l.uc("statement",i.statement)("depositName",i.depositName)("scrollWindow",!0)("alwaysCallback",!0)("infiniteScrollDistance",2)("infiniteScrollThrottle",500)}}var me=function(){return{width:"40px",height:"40px",margin:"0px","background-color":"#ECEEF1"}},de=function(){return{height:"25px",margin:"0px","background-color":"#ECEEF1"}},fe=function(){return{height:"22px",margin:"0px","background-color":"#ECEEF1"}};function he(t,e){1&t&&(l.Wb(0,"div",15),l.Rb(1,"ngx-skeleton-loader",11),l.Wb(2,"div"),l.Rb(3,"ngx-skeleton-loader",11),l.Rb(4,"ngx-skeleton-loader",11),l.Vb(),l.Wb(5,"div"),l.Rb(6,"ngx-skeleton-loader",11),l.Rb(7,"ngx-skeleton-loader",11),l.Vb(),l.Vb()),2&t&&(l.Ab(1),l.uc("theme",l.yc(5,me)),l.Ab(2),l.uc("theme",l.yc(6,de)),l.Ab(1),l.uc("theme",l.yc(7,fe)),l.Ab(2),l.uc("theme",l.yc(8,de)),l.Ab(1),l.uc("theme",l.yc(9,fe)))}var ge=function(){return{width:"60px",height:"36px",margin:"0px","background-color":"#ECEEF1"}},ve=function(){return{width:"120px",height:"36px",margin:"0px","background-color":"#ECEEF1"}};function ye(t,e){if(1&t&&(l.Wb(0,"div",13),l.Rb(1,"ngx-skeleton-loader",11),l.Rb(2,"ngx-skeleton-loader",11),l.Vb(),l.Rc(3,he,8,10,"div",14)),2&t){var n=l.mc();l.Ab(1),l.uc("theme",l.yc(3,ge)),l.Ab(1),l.uc("theme",l.yc(4,ve)),l.Ab(1),l.uc("ngForOf",n.loadingCount)}}var Se,Te=((Se=function(){function t(e,n,i){var a=this;_classCallCheck(this,t),this.route=e,this.translateService=n,this.depositsService=i,this.colsClasslist=h,this.subscription=new d.a,this.loadingCount=Array(3),this.page=1,this.pageSize=5,this.page$=new pt.a,this.dates$=new pt.a,this.route.parent.params.pipe(Object(f.a)(1)).subscribe((function(t){a.iban=t.iban,a.initSubscriptions()}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onDownload",value:function(t){console.log("download"),console.log(t)}},{key:"onFilter",value:function(t){this.page=1,this.dates$.next(t)}},{key:"onScroll",value:function(){this.page$.next(++this.page)}},{key:"initSubscriptions",value:function(){var t=this;this.subscription.add(this.depositsService.getDepositByIban(this.iban).subscribe((function(e){t.deposit=e,t.filterDates={from:J()(e.openDate).toDate(),to:J()().toDate()},t.mapDepositName(),t.initStatementSubscriptions()}))),this.subscription.add(this.translateService.onLangChange.subscribe((function(){t.mapDepositName()})))}},{key:"initStatementSubscriptions",value:function(){var t=this;this.subscription.add(this.dates$.pipe(Object(S.a)(),Object(v.a)((function(e){return{page:t.page,pageSize:t.pageSize,dateFrom:J()(e.from).format(ht.a),dateTo:J()(e.to).format(ht.a)}})),Object(mt.a)((function(e){return t.depositsService.getDepositInterests(t.iban,e)}))).subscribe((function(e){t.statement=e}))),this.subscription.add(this.page$.pipe(Object(S.a)(),Object(v.a)((function(e){var n,i;return{page:e,pageSize:t.pageSize,dateFrom:J()(null===(n=t.filterDates)||void 0===n?void 0:n.from).format(ht.a),dateTo:J()(null===(i=t.filterDates)||void 0===i?void 0:i.to).format(ht.a)}})),Object(dt.a)((function(e){return t.depositsService.getDepositInterests(t.iban,e)})),Object(ft.a)((function(t){return t.transactionGroups.length>0}))).subscribe((function(e){t.statement=Object.assign(Object.assign({},t.statement),t.statement.transactionGroups[t.statement.transactionGroups.length-1].groupDate===e.transactionGroups[0].groupDate?{transactionGroups:[].concat(_toConsumableArray(t.statement.transactionGroups.slice(0,-1)),_toConsumableArray(t.statement.transactionGroups.slice(-1).map((function(t){return Object.assign(Object.assign({},t),{transactions:[].concat(_toConsumableArray(t.transactions),_toConsumableArray(e.transactionGroups[0].transactions))})}))))}:{transactionGroups:[].concat(_toConsumableArray(t.statement.transactionGroups),_toConsumableArray(e.transactionGroups))})})))}},{key:"mapDepositName",value:function(){this.depositName=this.deposit.depositType.descriptionTranslations.translations["en"===this.translateService.currentLang?"eng":this.translateService.currentLang]}}]),t}()).\u0275fac=function(t){return new(t||Se)(l.Qb(b.a),l.Qb(L.e),l.Qb(E))},Se.\u0275cmp=l.Kb({type:Se,selectors:[["j-deposit-interests"]],decls:18,vars:6,consts:[[1,"f-page-body","py-3","no-grow"],[1,"container","f-page-container"],[1,"row"],[3,"ngTemplateOutlet"],[1,"f-page-extra"],["filterTemplate",""],["filterLoadingTemplate",""],["statementTemplate",""],["statementLoadingTemplate",""],[3,"filterDates","filtered","downloaded"],[1,"d-flex","justify-content-end"],[3,"theme"],["infiniteScroll","",3,"statement","depositName","scrollWindow","alwaysCallback","infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[1,"pt-4","d-flex","justify-content-between"],["class","loader",4,"ngFor","ngForOf"],[1,"loader"]],template:function(t,e){if(1&t&&(l.Wb(0,"section",0),l.Wb(1,"section",1),l.Wb(2,"div",2),l.Wb(3,"div"),l.Sb(4,3),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Wb(5,"section",4),l.Wb(6,"section",1),l.Wb(7,"section",2),l.Wb(8,"section"),l.Sb(9,3),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Rc(10,le,1,1,"ng-template",null,5,l.Sc),l.Rc(12,be,2,2,"ng-template",null,6,l.Sc),l.Rc(14,pe,1,6,"ng-template",null,7,l.Sc),l.Rc(16,ye,4,5,"ng-template",null,8,l.Sc)),2&t){var n=l.Fc(11),i=l.Fc(13),a=l.Fc(15),s=l.Fc(17);l.Ab(3),l.Db(e.colsClasslist),l.Ab(1),l.uc("ngTemplateOutlet",e.filterDates?n:i),l.Ab(4),l.Db(e.colsClasslist),l.Ab(1),l.uc("ngTemplateOutlet",e.statement?a:s)}},directives:[s.B,q,j.a,bt,c.a,s.t],styles:["[_nghost-%COMP%]{-webkit-box-flex:1;flex-grow:1;background:#fff}.loader[_ngcontent-%COMP%]{display:grid;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px;grid-template-columns:40px 160px 1fr;margin:32px 0}"]}),Se),Oe=n("7rOj"),ke=function(t){return{height:t,margin:"0px","background-color":"#ECEEF1"}};function Ce(t,e){if(1&t&&(l.Wb(0,"div",11),l.Rb(1,"ngx-skeleton-loader",8),l.Rb(2,"ngx-skeleton-loader",8),l.Vb()),2&t){var n=e.index;l.Ab(1),l.uc("theme",l.zc(2,ke,0===n||2===n?"18px":"41px")),l.Ab(1),l.uc("theme",l.zc(4,ke,0===n||2===n?"18px":"41px"))}}function Ee(t,e){if(1&t&&(l.Wb(0,"div",11),l.Rb(1,"ngx-skeleton-loader",8),l.Rb(2,"ngx-skeleton-loader",8),l.Vb()),2&t){var n=e.index;l.Ab(1),l.uc("theme",l.zc(2,ke,0===n?"18px":"41px")),l.Ab(1),l.uc("theme",l.zc(4,ke,0===n?"18px":"41px"))}}var Ae=function(){return{height:"41px",margin:"0px","background-color":"#ECEEF1"}};function xe(t,e){1&t&&(l.Wb(0,"div",11),l.Rb(1,"ngx-skeleton-loader",8),l.Rb(2,"ngx-skeleton-loader",8),l.Vb()),2&t&&(l.Ab(1),l.uc("theme",l.yc(2,Ae)),l.Ab(1),l.uc("theme",l.yc(3,Ae)))}var we=function(){return{height:"17px","margin-bottom":"6px",width:"45%"}},De=function(){return{height:"25px","margin-bottom":"0px",width:"40%"}};function je(t,e){if(1&t&&(l.Wb(0,"div",6),l.Wb(1,"div",7),l.Wb(2,"div"),l.Rb(3,"ngx-skeleton-loader",8),l.Vb(),l.Rb(4,"ngx-skeleton-loader",8),l.Vb(),l.Rc(5,Ce,3,6,"div",9),l.Vb(),l.Wb(6,"div",6),l.Wb(7,"h5",10),l.Tc(8),l.nc(9,"translate"),l.Vb(),l.Rc(10,Ee,3,6,"div",9),l.Vb(),l.Wb(11,"div",6),l.Wb(12,"h5",10),l.Tc(13),l.nc(14,"translate"),l.Vb(),l.Rc(15,xe,3,4,"div",9),l.Vb()),2&t){var n=l.mc();l.Ab(3),l.uc("theme",l.yc(11,we)),l.Ab(1),l.uc("theme",l.yc(12,De)),l.Ab(1),l.uc("ngForOf",n.mainLoadingCount),l.Ab(3),l.Uc(l.oc(9,7,"DEPOSITS.TERMS.REPLENISHMENT.TITLE")),l.Ab(2),l.uc("ngForOf",n.otherLoadingCount),l.Ab(3),l.Uc(l.oc(14,9,"DEPOSITS.TERMS.WITHDRAWAL.TITLE")),l.Ab(2),l.uc("ngForOf",n.otherLoadingCount)}}function Ie(t,e){if(1&t&&(l.Wb(0,"div",15),l.Wb(1,"div",16),l.Tc(2),l.nc(3,"translate"),l.Vb(),l.Rb(4,"div",17),l.Vb()),2&t){var n=e.$implicit;l.Ab(2),l.Vc(" ",l.oc(3,2,n.label),": "),l.Ab(2),l.uc("innerHTML",n.value,l.Jc)}}function Re(t,e){if(1&t&&(l.Wb(0,"div",15),l.Wb(1,"div",16),l.Tc(2),l.nc(3,"translate"),l.Vb(),l.Rb(4,"div",17),l.Vb()),2&t){var n=e.$implicit;l.Ab(2),l.Vc(" ",l.oc(3,2,n.label),": "),l.Ab(2),l.uc("innerHTML",n.value,l.Jc)}}function Ve(t,e){if(1&t&&(l.Wb(0,"div",15),l.Wb(1,"div",16),l.Tc(2),l.nc(3,"translate"),l.Vb(),l.Rb(4,"div",17),l.Vb()),2&t){var n=e.$implicit;l.Ab(2),l.Vc(" ",l.oc(3,2,n.label),": "),l.Ab(2),l.uc("innerHTML",n.value,l.Jc)}}function We(t,e){if(1&t&&(l.Wb(0,"div",6),l.Wb(1,"div",12),l.Wb(2,"div",13),l.Tc(3),l.nc(4,"translate"),l.Vb(),l.Wb(5,"h4"),l.Tc(6),l.Vb(),l.Vb(),l.Rc(7,Ie,5,4,"div",14),l.Vb(),l.Wb(8,"div",6),l.Wb(9,"h5",10),l.Tc(10),l.nc(11,"translate"),l.Vb(),l.Rc(12,Re,5,4,"div",14),l.Vb(),l.Wb(13,"div",6),l.Wb(14,"h5",10),l.Tc(15),l.nc(16,"translate"),l.Vb(),l.Rc(17,Ve,5,4,"div",14),l.Vb()),2&t){var n=l.mc();l.Ab(3),l.Uc(l.oc(4,7,"DEPOSITS.TERMS.MAIN.NAME")),l.Ab(3),l.Vc(" ",n.name," "),l.Ab(1),l.uc("ngForOf",n.mainInfo),l.Ab(3),l.Uc(l.oc(11,9,"DEPOSITS.TERMS.REPLENISHMENT.TITLE")),l.Ab(2),l.uc("ngForOf",n.replenishmentInfo),l.Ab(3),l.Uc(l.oc(16,11,"DEPOSITS.TERMS.WITHDRAWAL.TITLE")),l.Ab(2),l.uc("ngForOf",n.withdrawalInfo)}}var _e,Fe=((_e=function(){function t(e,n,i,a,s){var c=this;_classCallCheck(this,t),this.route=e,this.depositsService=n,this.translateService=i,this.moneyPipe=a,this.formatIban=s,this.colsClasslist=h,this.subscription=new d.a,this.mainLoadingCount=Array(5),this.otherLoadingCount=Array(2),this.route.parent.params.pipe(Object(f.a)(1)).subscribe((function(t){c.initSubscriptions(t.iban)}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"initSubscriptions",value:function(t){var e=this;this.subscription.add(this.depositsService.getDepositTerms(t).subscribe((function(t){e.terms=t,e.generateInfo()}))),this.subscription.add(this.translateService.onLangChange.pipe(Object(v.a)((function(t){return t.lang}))).subscribe((function(){e.generateInfo()})))}},{key:"generateInfo",value:function(){this.name=this.extractTranslation(this.terms.depositType.descriptionTranslations),this.generateMainInfo(),this.generateReplenishmentInfo(),this.generateWithdrawalInfo()}},{key:"generateMainInfo",value:function(){this.mainInfo=[{label:this.mapMainLabel("RATE"),value:this.terms.interestRate?"".concat(this.terms.interestRate,"%"):""},{label:this.mapMainLabel("DOCUMENT_NUMBER"),value:this.terms.contractCode},{label:this.mapMainLabel("PERIOD"),value:this.mapPeriodLabel()},{label:this.mapMainLabel("AMOUNT"),value:this.moneyPipe.transform({amount:this.terms.contractSum,currency:this.terms.balance.currency})},{label:this.mapMainLabel("INTEREST"),value:this.extractTranslation(this.terms.interestPaymentOption.descriptionTranslations)},{label:this.mapMainLabel("IBAN"),value:this.formatIban.transform(this.terms.clientAccount)}]}},{key:"generateReplenishmentInfo",value:function(){this.replenishmentInfo=[{label:this.mapReplenishmentLabel("TITLE"),value:this.translateService.instant(this.terms.addPay?"SHARED.YES":"SHARED.NO")},{label:this.mapReplenishmentLabel("MAX_AMOUNT"),value:this.moneyPipe.transform({amount:this.terms.maxSum,currency:this.terms.balance.currency})}]}},{key:"generateWithdrawalInfo",value:function(){this.withdrawalInfo=[{label:this.mapWithdrawalLabel("PARTIAL_WITHDRAWAL"),value:this.translateService.instant(this.terms.payOut?"SHARED.YES":"SHARED.NO")},{label:this.mapWithdrawalLabel("IRREDUCIBLE_AMOUNT"),value:this.moneyPipe.transform({amount:this.terms.irreducibleBalance,currency:this.terms.balance.currency})}]}},{key:"mapMainLabel",value:function(t){return this.mapLabel("MAIN",t)}},{key:"mapReplenishmentLabel",value:function(t){return this.mapLabel("REPLENISHMENT",t)}},{key:"mapWithdrawalLabel",value:function(t){return this.mapLabel("WITHDRAWAL",t)}},{key:"mapLabel",value:function(t,e){return e?this.mapTranslate("".concat(t,".").concat(e)):""}},{key:"mapPeriodLabel",value:function(){var t,e=Object(ht.c)(this.terms.fromDate),n=Object(ht.c)(this.terms.toDate),i=J()(this.terms.toDate).diff(this.terms.fromDate,"month");switch(i%20){case 1:t="ONE";break;case 2:case 3:case 4:t="FEW";break;default:t="MANY"}return"".concat(e," - ").concat(n," <br> (").concat(this.translateService.instant(this.mapMainLabel("MONTHS.".concat(t)),{count:i}),")")}},{key:"extractTranslation",value:function(t){var e=this.translateService.currentLang;return t.translations["en"===e?"eng":e]}},{key:"mapTranslate",value:function(t){return t?"DEPOSITS.TERMS.".concat(t):""}}]),t}()).\u0275fac=function(t){return new(t||_e)(l.Qb(b.a),l.Qb(E),l.Qb(L.e),l.Qb(Oe.e),l.Qb(Oe.d))},_e.\u0275cmp=l.Kb({type:_e,selectors:[["j-deposit-terms"]],decls:9,vars:3,consts:[[1,"f-page-body"],[1,"container","f-page-container"],[1,"row"],[3,"ngTemplateOutlet"],["loadingTemplate",""],["termsTemplate",""],[1,"deposit-info"],[1,"mb-4"],[3,"theme"],["class","j-desc-row j-desc-row--loading",4,"ngFor","ngForOf"],[1,"j-desc-heading"],[1,"j-desc-row","j-desc-row--loading"],[1,"text-dark","mb-4"],[1,"p2"],["class","p2 j-desc-row",4,"ngFor","ngForOf"],[1,"p2","j-desc-row"],[1,"j-desc-child","text-muted"],[1,"j-desc-child","text-dark",3,"innerHTML"]],template:function(t,e){if(1&t&&(l.Wb(0,"section",0),l.Wb(1,"section",1),l.Wb(2,"div",2),l.Wb(3,"div"),l.Sb(4,3),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Rc(5,je,16,13,"ng-template",null,4,l.Sc),l.Rc(7,We,18,13,"ng-template",null,5,l.Sc)),2&t){var n=l.Fc(6),i=l.Fc(8);l.Ab(3),l.Db(e.colsClasslist),l.Ab(1),l.uc("ngTemplateOutlet",e.terms?i:n)}},directives:[s.B,j.a,s.t],pipes:[L.d],styles:[".deposit-info[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0;background:#fff;border-radius:.75rem;max-width:435px}.deposit-info[_ngcontent-%COMP%] + .deposit-info[_ngcontent-%COMP%]{margin-top:1rem}"]}),_e),Me=n("nYR2"),Ne=n("S09V"),Le=n("tmjD"),Pe=n("VO+5"),He=n("Dvla"),Ge=n("M6pS"),Qe=function(){return{height:"17px","background-color":"#ECEEF1"}},$e=function(){return{height:"17px",margin:"0px","background-color":"#ECEEF1"}};function Be(t,e){1&t&&(l.Wb(0,"div",11),l.Rb(1,"ngx-skeleton-loader",12),l.Rb(2,"ngx-skeleton-loader",12),l.Vb()),2&t&&(l.Ab(1),l.uc("theme",l.yc(2,Qe)),l.Ab(1),l.uc("theme",l.yc(3,$e)))}var Ye=function(){return{height:"50px","margin-bottom":"0px",width:"100%","background-color":"#ECEEF1"}};function Ue(t,e){if(1&t&&(l.Rc(0,Be,3,4,"div",7),l.Wb(1,"div",8),l.Rb(2,"ngx-skeleton-loader",9),l.Rb(3,"ngx-skeleton-loader",10),l.Vb()),2&t){var n=l.mc();l.uc("ngForOf",n.loadingCount),l.Ab(2),l.uc("theme",l.yc(3,Ye)),l.Ab(1),l.uc("theme",l.yc(4,Ye))}}function Ke(t,e){if(1&t&&(l.Wb(0,"div",18),l.Wb(1,"div",19),l.Tc(2),l.nc(3,"translate"),l.Vb(),l.Wb(4,"div",20),l.Tc(5),l.Vb(),l.Vb()),2&t){var n=e.$implicit;l.Ab(2),l.Vc(" ",l.oc(3,2,n.label),": "),l.Ab(3),l.Vc(" ",n.value," ")}}function ze(t,e){if(1&t){var n=l.Xb();l.Rc(0,Ke,6,4,"div",13),l.Wb(1,"div",8),l.Wb(2,"button",14),l.ic("click",(function(t){return l.Ic(n),l.mc().onCopy()})),l.Rb(3,"span",15),l.Wb(4,"strong",16),l.Tc(5),l.nc(6,"translate"),l.Vb(),l.Vb(),l.Wb(7,"button",17),l.ic("click",(function(t){return l.Ic(n),l.mc().onDownload()})),l.Rb(8,"span",15),l.Wb(9,"strong",16),l.Tc(10),l.nc(11,"translate"),l.Vb(),l.Vb(),l.Vb()}if(2&t){var i=l.mc();l.uc("ngForOf",i.list),l.Ab(2),l.uc("cbContent",i.textToCopy),l.Ab(1),l.uc("inlineSVG","assets/icons/account/copy.svg"),l.Ab(2),l.Uc(l.oc(6,9,"ACCOUNTS.REQUISITES.COPY")),l.Ab(2),l.uc("disabled",i.isDownloading)("jLoading",i.isDownloading)("jLoadingInverted",!0),l.Ab(1),l.uc("inlineSVG","assets/icons/account/pdf.svg"),l.Ab(2),l.Uc(l.oc(11,11,"ACCOUNTS.REQUISITES.DOWNLOAD"))}}var qe,Xe,Je=[{path:":iban",component:K,children:[{path:"",redirectTo:"statement"},{path:"statement",component:re},{path:"interests",canActivate:[m.a],data:{featureFlag:p.a.DEPOSIT_REWARDS},component:Te},{path:"terms",component:Fe},{path:"requisites",component:(qe=function(){function t(e,n,i,a,s,c,o,r,l){var u=this;_classCallCheck(this,t),this.route=e,this.depositsService=n,this.companyService=i,this.maskPipe=a,this.formatIban=s,this.bankFromAccount=c,this.translateService=o,this.notifierService=r,this.filesService=l,this.colsClasslist=h,this.loadingCount=Array(6),this.isReady=!1,this.isDownloading=!1,this.subscription=new d.a,this.route.parent.params.pipe(Object(f.a)(1)).subscribe((function(t){u.iban=t.iban,u.initSubscriptions()}))}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onCopy",value:function(){this.notifierService.notify("default",this.translateService.instant(this.mapTranslate("COPIED")))}},{key:"onDownload",value:function(){var t=this;this.isDownloading=!0,this.depositsService.getRequisitesPdf(this.iban).pipe(Object(f.a)(1),Object(Me.a)((function(){return t.isDownloading=!1}))).subscribe((function(e){t.filesService.downloadFile(e,"".concat(t.iban,".pdf"))}))}},{key:"initSubscriptions",value:function(){var t=this;this.depositsService.getDepositByIban(this.iban).pipe(Object(f.a)(1)).subscribe((function(e){t.list=t.generateList(e),t.textToCopy=t.generateTextToCopy(),t.isReady=!0})),this.subscription.add(this.translateService.onLangChange.subscribe((function(){t.generateTextToCopy()})))}},{key:"generateTextToCopy",value:function(){var t=this;return this.list.map((function(e){if(e.value||e.valueToCopy)return"".concat(t.translateService.instant(e.label),": ").concat(e.valueToCopy||e.value)})).join("\n")}},{key:"mapListTranslate",value:function(t){return t?this.mapTranslate("LIST.".concat(t)):""}},{key:"mapTranslate",value:function(t){return"DEPOSITS.REQUISITES.".concat(t)}},{key:"generateList",value:function(t){return[{label:this.mapListTranslate("COMPANY"),value:this.companyService.currentCompany.name},{label:this.mapListTranslate("BIN"),value:this.maskPipe.transform(this.companyService.currentCompany.bin,Ne.a.iin.mask),valueToCopy:this.companyService.currentCompany.bin},{label:this.mapListTranslate("KBE"),value:this.companyService.currentCompany.kod},{label:this.mapListTranslate("IBAN"),value:this.formatIban.transform(t.iban),valueToCopy:t.iban},{label:this.mapListTranslate("BANK"),value:this.bankFromAccount.transform(t.iban,"name")},{label:this.mapListTranslate("BIC"),value:this.bankFromAccount.transform(t.iban,"bic")}]}}]),t}(),qe.\u0275fac=function(t){return new(t||qe)(l.Qb(b.a),l.Qb(E),l.Qb(k.a),l.Qb(Le.b),l.Qb(Oe.d),l.Qb(Oe.b),l.Qb(L.e),l.Qb(Pe.c),l.Qb(St.b))},qe.\u0275cmp=l.Kb({type:qe,selectors:[["j-deposit-requisites"]],decls:10,vars:3,consts:[[1,"f-page-body"],[1,"container","f-page-container"],[1,"row"],[1,"deposit-info"],[3,"ngTemplateOutlet"],["loadingTemplate",""],["requisitesTemplate",""],["class","j-desc-row j-desc-row--loading",4,"ngFor","ngForOf"],[1,"requisites__footer"],[1,"requisites__button",3,"theme"],[1,"requisites__button","ml-3",3,"theme"],[1,"j-desc-row","j-desc-row--loading"],[3,"theme"],["class","j-desc-row",4,"ngFor","ngForOf"],["ngxClipboard","",1,"requisites__button","btn","btn-outline-primary","btn-md",3,"cbContent","click"],[3,"inlineSVG"],[1,"ml-2"],[1,"requisites__button","btn","btn-outline-primary","btn-md",3,"disabled","jLoading","jLoadingInverted","click"],[1,"j-desc-row"],[1,"j-desc-child","text-muted"],[1,"j-desc-child","text-dark"]],template:function(t,e){if(1&t&&(l.Wb(0,"section",0),l.Wb(1,"section",1),l.Wb(2,"div",2),l.Wb(3,"div"),l.Wb(4,"div",3),l.Sb(5,4),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Vb(),l.Rc(6,Ue,4,5,"ng-template",null,5,l.Sc),l.Rc(8,ze,12,13,"ng-template",null,6,l.Sc)),2&t){var n=l.Fc(7),i=l.Fc(9);l.Ab(3),l.Db(e.colsClasslist),l.Ab(2),l.uc("ngTemplateOutlet",e.isReady?i:n)}},directives:[s.B,s.t,j.a,He.a,tt.a,Ge.a],pipes:[L.d],styles:[".deposit-info[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0;background:#fff;border-radius:.75rem;max-width:435px}.deposit-info[_ngcontent-%COMP%] + .deposit-info[_ngcontent-%COMP%]{margin-top:1rem}.requisites__footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.requisites__button[_ngcontent-%COMP%]{margin-top:1rem;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;min-width:calc(50% - .5rem)}"]}),qe)}]}],Ze=((Xe=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ob({type:Xe}),Xe.\u0275inj=l.Nb({factory:function(t){return new(t||Xe)},imports:[[b.g.forChild(Je)],b.g]}),Xe);n.d(e,"DepositsModule",(function(){return en}));var tn,en=((tn=function t(){_classCallCheck(this,t)}).\u0275mod=l.Ob({type:tn}),tn.\u0275inj=l.Nb({factory:function(t){return new(t||tn)},imports:[[s.c,c.b,r.a,u,o.a,Ze]]}),tn)}}]);