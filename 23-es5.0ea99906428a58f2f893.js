function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,a=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(c){a=!0,i=c}finally{try{r||null==o.return||o.return()}finally{if(a)throw i}}return n}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _possibleConstructorReturn(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?_assertThisInitialized(t):e}function _assertThisInitialized(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function _getPrototypeOf(t){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_setPrototypeOf(t,e)}function _setPrototypeOf(t,e){return(_setPrototypeOf=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"POq/":function(t,e,n){"use strict";n.r(e);var r,a,i,s,o=n("ofXK"),c=n("3Pt+"),l=n("PCNd"),u=n("tyNb"),b=n("fXoL"),f=n("lABO"),m=((r=function(){function t(e){_classCallCheck(this,t),this.router=e}return _createClass(t,[{key:"onRetry",value:function(){this.router.navigate(["/landing"])}}]),t}()).\u0275fac=function(t){return new(t||r)(b.Qb(u.c))},r.\u0275cmp=b.Kb({type:r,selectors:[["j-went-wrong"]],decls:2,vars:0,consts:[[1,"vh-100","d-flex","justify-content-center","align-items-center"],[3,"retried"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"j-error-placeholder",1),b.ic("retried",(function(t){return e.onRetry()})),b.Vb(),b.Vb())},directives:[f.a],styles:[""]}),r),g=n("mrSG"),p=n("zP0r"),h=n("VnnJ"),d=n("yZrb"),_=((i=function(t){function e(t){var n;return _classCallCheck(this,e),(n=_possibleConstructorReturn(this,_getPrototypeOf(e).call(this))).apiService=t,n}return _inherits(e,t),_createClass(e,[{key:"getCategories",value:function(){return this.apiService.get("dictionaries/store-product-categories")}}]),e}(function(){return function t(){_classCallCheck(this,t)}}())).\u0275fac=function(t){return new(t||i)(b.ec(d.a))},i.\u0275prov=b.Mb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),v=((a=function(){function t(e,n){_classCallCheck(this,t),this.apiService=e,this.companyService=n,this.isJmart=null}return _createClass(t,[{key:"resolveAccess",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e=this.apiService.get("companies/".concat(this.companyService.currentId,"/is-jmart")),t.next=3,e;case 3:return this.isJmart=t.sent,t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})))}},{key:"hasAccess",value:function(){return this.isJmart}},{key:"createApplication",value:function(t){return this.apiService.post("companies/".concat(this.companyService.currentId,"/store-claim"),t)}}]),t}()).\u0275fac=function(t){return new(t||a)(b.ec(d.a),b.ec(h.a))},a.\u0275prov=b.Mb({token:a,factory:a.\u0275fac}),a),C=n("5gsm"),y=n("sYmb"),S=n("e8Ap"),T=((s=function(){function t(e){_classCallCheck(this,t),this.analytics=e}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"logMoveToJmart",value:function(){this.analytics.logEvent("JMart_Open_Click",{version:1})}}]),t}()).\u0275fac=function(t){return new(t||s)(b.Qb(C.b))},s.\u0275cmp=b.Kb({type:s,selectors:[["j-has-store"]],decls:18,vars:0,consts:[[1,"container-fluid","has-store"],[1,"row","justify-content-between"],[1,"col-4","align-self-center"],["translate","",1,"has-store__title","mb-4"],["translate","",1,"text-gray","mb-4"],[1,"mb-4"],["translate","",1,"has-store__partners"],["href","tel:+77081110447",1,"d-block","text-gray","has-store__phone"],["href","mailto:business@jmart.kz",1,"has-store__email"],["href","https://old.jmart.kz/vendor.php","target","_blank","translate","",1,"btn","btn-primary",3,"click"],["inlineSVG","./assets/jmart/landing/hookup-store.svg"]],template:function(t,e){1&t&&(b.Wb(0,"section",0),b.Wb(1,"div",1),b.Wb(2,"div",2),b.Wb(3,"h1",3),b.Tc(4,"JMART.LANDING.STORE_CONNECTED.TITLE"),b.Vb(),b.Wb(5,"p",4),b.Tc(6,"JMART.LANDING.CONNECT_STORE.TEXT"),b.Vb(),b.Wb(7,"div",5),b.Wb(8,"p",6),b.Tc(9,"JMART.LANDING.STORE_CONNECTED.PARTNERS"),b.Vb(),b.Wb(10,"a",7),b.Tc(11,"+7 (708) 111 04 47"),b.Vb(),b.Wb(12,"a",8),b.Tc(13,"business@jmart.kz"),b.Vb(),b.Vb(),b.Wb(14,"a",9),b.ic("click",(function(t){return e.logMoveToJmart()})),b.Tc(15,"JMART.LANDING.GOTOSTORE"),b.Vb(),b.Vb(),b.Wb(16,"div"),b.Rb(17,"span",10),b.Vb(),b.Vb(),b.Vb())},directives:[y.a,S.a],styles:[".has-store__title[_ngcontent-%COMP%]{line-height:3.75rem;color:#000}.has-store__partners[_ngcontent-%COMP%]{font-weight:500;font-size:1.125rem;line-height:1.5rem;color:#1a1c1f;margin-bottom:.375rem}.has-store__phone[_ngcontent-%COMP%]{margin-bottom:.375rem;text-decoration:none}.has-store__email[_ngcontent-%COMP%], .has-store__phone[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.125rem}.has-store__email[_ngcontent-%COMP%]{color:#ef5630;margin-bottom:0}"]}),s);function O(t,e){1&t&&(b.Wb(0,"div"),b.Wb(1,"section",2),b.Wb(2,"div",3),b.Wb(3,"div",4),b.Wb(4,"h1",5),b.Tc(5,"JMART.LANDING.CONNECT_STORE.CLAIM_SENT"),b.Vb(),b.Wb(6,"p",6),b.Tc(7,"JMART.LANDING.CONNECT_STORE.CLAIM_SENT_TEXT"),b.Vb(),b.Vb(),b.Wb(8,"div"),b.Rb(9,"span",7),b.Vb(),b.Vb(),b.Vb(),b.Vb())}function R(t,e){if(1&t){var n=b.Xb();b.Wb(0,"section",2),b.Wb(1,"div",3),b.Wb(2,"div",4),b.Wb(3,"h1",5),b.Tc(4,"JMART.LANDING.CONNECT_STORE.TITLE"),b.Vb(),b.Wb(5,"p",6),b.Tc(6,"JMART.LANDING.CONNECT_STORE.TEXT"),b.Vb(),b.Wb(7,"button",8),b.ic("click",(function(t){return b.Ic(n),b.mc().scroll()})),b.Tc(8,"JMART.LANDING.CONNECT_STORE.SCROLL_BTN"),b.Vb(),b.Vb(),b.Wb(9,"div"),b.Rb(10,"span",7),b.Vb(),b.Vb(),b.Vb()}}var A,E=((A=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"scroll",value:function(){window.scrollTo(0,document.body.scrollHeight)}}]),t}()).\u0275fac=function(t){return new(t||A)},A.\u0275cmp=b.Kb({type:A,selectors:[["j-connect-store"]],inputs:{isStoreClaimSent:"isStoreClaimSent"},decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["storeClaimNotSent",""],[1,"container-fluid","connect-store"],[1,"row","justify-content-between"],[1,"col-4","align-self-center"],["translate","",1,"connect-store__title","m-0","pb-4"],["translate","",1,"text-gray","connect-store__text","m-0","pb-4"],["inlineSVG","./assets/jmart/landing/hookup-store.svg"],["type","button","translate","",1,"btn","btn-primary","btn-block",3,"click"]],template:function(t,e){if(1&t&&(b.Rc(0,O,10,0,"div",0),b.Rc(1,R,11,0,"ng-template",null,1,b.Sc)),2&t){var n=b.Fc(2);b.uc("ngIf",e.isStoreClaimSent)("ngIfElse",n)}},directives:[o.u,y.a,S.a],styles:[".connect-store[_ngcontent-%COMP%]{margin-bottom:6.25rem}.connect-store__title[_ngcontent-%COMP%]{line-height:3.75rem;color:#000}.btn[_ngcontent-%COMP%]{width:176px}"]}),A);function k(t,e){if(1&t&&(b.Wb(0,"div"),b.Wb(1,"div",7),b.Wb(2,"p",8),b.Tc(3),b.Vb(),b.Wb(4,"p",9),b.Tc(5),b.Vb(),b.Vb(),b.Vb()),2&t){var n=e.$implicit;b.Ab(3),b.Uc(n.value),b.Ab(2),b.Uc(n.name)}}var N,w=((N=function(){function t(){_classCallCheck(this,t),this.facts=[{name:"JMART.LANDING.STORE_FACTS.GOODS",value:"400 000+"},{name:"JMART.LANDING.STORE_FACTS.CATEGORIES",value:"3 000+"},{name:"JMART.LANDING.STORE_FACTS.PARTNERS",value:"1 000+"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||N)},N.\u0275cmp=b.Kb({type:N,selectors:[["j-store-facts"]],decls:9,vars:1,consts:[[1,"container-fluid","facts"],[1,"header"],["translate","",1,"text-center","header__title","m-0","pb-2"],["translate","",1,"text-center","text-dark","header__text","m-0"],[1,"container-fluid","px-0"],[1,"store-fact"],[4,"ngFor","ngForOf"],[1,"fact"],[1,"fact__text","text-center","mt-3"],["translate","",1,"text-center","text-black"]],template:function(t,e){1&t&&(b.Wb(0,"section",0),b.Wb(1,"div",1),b.Wb(2,"h3",2),b.Tc(3,"JMART.LANDING.STORE_FACTS.STORE"),b.Vb(),b.Wb(4,"p",3),b.Tc(5,"JMART.LANDING.STORE_FACTS.DESC"),b.Vb(),b.Vb(),b.Wb(6,"div",4),b.Wb(7,"div",5),b.Rc(8,k,6,2,"div",6),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Ab(8),b.uc("ngForOf",e.facts))},directives:[y.a,o.t],styles:[".facts[_ngcontent-%COMP%]{margin-bottom:6.25rem}.header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.header__title[_ngcontent-%COMP%]{font-size:2rem;line-height:2.5rem}.header__text[_ngcontent-%COMP%]{line-height:1.5rem;opacity:.7}.fact[_ngcontent-%COMP%]{background:#fff;border:1px solid #fff;border-radius:12px}.fact__text[_ngcontent-%COMP%]{font-weight:500;font-size:3rem;line-height:3.75rem}.fact__text[_ngcontent-%COMP%], .text-dark[_ngcontent-%COMP%]{color:#1a1c1f}.text-orange[_ngcontent-%COMP%]{font-weight:500;font-size:3rem;line-height:3.75rem;color:#ef5630}.text-black[_ngcontent-%COMP%]{color:#666c72}.store-fact[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(295px,1fr));gap:1.25rem}"]}),N);function M(t,e){if(1&t&&(b.Wb(0,"div",6),b.Wb(1,"div",7),b.Wb(2,"div",8),b.Wb(3,"h6",9),b.Tc(4),b.Vb(),b.Wb(5,"p",10),b.Tc(6),b.Vb(),b.Vb(),b.Wb(7,"div"),b.Rb(8,"span",11),b.Vb(),b.Vb(),b.Vb()),2&t){var n=e.$implicit;b.Ab(4),b.Uc(n.subheader),b.Ab(2),b.Uc(n.description),b.Ab(2),b.uc("inlineSVG",n.img)}}var V,P,I,W,j=((P=function(){function t(){_classCallCheck(this,t),this.translatePrefix="JMART.LANDING.ADVANTAGES",this.advantages=[{subheader:this.mapTranslate("INCREACE"),description:this.mapTranslate("INCREACE_DESC"),img:"./assets/jmart/landing/advantages-1.svg"},{subheader:this.mapTranslate("BRAND"),description:this.mapTranslate("BRAND_DESC"),img:"./assets/jmart/landing/advantages-2.svg"},{subheader:this.mapTranslate("COOPERATION"),description:this.mapTranslate("COOPERATION_DESC"),img:"./assets/jmart/landing/advantages-3.svg"},{subheader:this.mapTranslate("DELIVERY"),description:this.mapTranslate("DELIVERY_DESC"),img:"./assets/jmart/landing/advantages-4.svg"},{subheader:this.mapTranslate("INSTALLMENT"),description:this.mapTranslate("INSTALLMENT_DESC"),img:"./assets/jmart/landing/advantages-5.svg"},{subheader:this.mapTranslate("SALES"),description:this.mapTranslate("SALES_DESC"),img:"./assets/jmart/landing/advantages-6.svg"}]}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"mapTranslate",value:function(t){return"".concat(this.translatePrefix,".").concat(t)}}]),t}()).\u0275fac=function(t){return new(t||P)},P.\u0275cmp=b.Kb({type:P,selectors:[["j-advantages"]],decls:8,vars:3,consts:[[1,"container-fluid","advantages"],[1,"advantages-header"],["translate","",1,"text-center","advantages-header__title","m-0","pb-2"],["translate","",1,"text-center","advantages-header__text","m-0"],[1,"container-fluid","px-0","advantages-main"],["class","advantage-main__wrap",4,"ngFor","ngForOf"],[1,"advantage-main__wrap"],[1,"advantages-main__item"],[1,"advantages-main__text"],["translate","",1,"advantages-main__subheader"],["translate","",1,"advantages-main__description"],[1,"advantages-main__img",3,"inlineSVG"]],template:function(t,e){1&t&&(b.Wb(0,"section",0),b.Wb(1,"div",1),b.Wb(2,"h3",2),b.Tc(3),b.Vb(),b.Wb(4,"p",3),b.Tc(5),b.Vb(),b.Vb(),b.Wb(6,"div",4),b.Rc(7,M,9,3,"div",5),b.Vb(),b.Vb()),2&t&&(b.Ab(3),b.Uc(e.mapTranslate("TITLE")),b.Ab(2),b.Uc(e.mapTranslate("DESC")),b.Ab(2),b.uc("ngForOf",e.advantages))},directives:[y.a,o.t,S.a],styles:[".advantages[_ngcontent-%COMP%]{margin-bottom:6.25rem}.advantages-header[_ngcontent-%COMP%]{margin-bottom:2.5rem}.advantages-header__title[_ngcontent-%COMP%]{font-size:2rem;line-height:2.5rem}.advantages-header__text[_ngcontent-%COMP%]{opacity:.7}.advantages-main[_ngcontent-%COMP%]{display:grid;grid-template-columns:4fr 1fr 1fr 4fr;grid-template-rows:repeat(3,1fr);gap:1.25rem}.advantages-main__item[_ngcontent-%COMP%]{background:#fff;border:1px solid #fff;border-radius:20px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.advantages-main__subheader[_ngcontent-%COMP%]{line-height:1.25rem;color:#000}.advantages-main__description[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.125rem;color:#666c72}.advantages-main__text[_ngcontent-%COMP%]{padding-top:2rem;padding-left:2rem}.advantage-main__wrap[_ngcontent-%COMP%]:first-child{grid-column:1/3;grid-row:1/2}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(2){grid-column:3/5;grid-row:1/2}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(3){grid-column:1/2;grid-row:2/3}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(4){grid-column:2/5;grid-row:2/3}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(5){grid-column:1/4;grid-row:3/4}.advantage-main__wrap[_ngcontent-%COMP%]:nth-child(6){grid-column:4/5;grid-row:3/4}"]}),P),x=((V=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||V)},V.\u0275cmp=b.Kb({type:V,selectors:[["j-jmart-logo"]],decls:1,vars:0,consts:[["inlineSVG","./assets/jmart/logo.svg"]],template:function(t,e){1&t&&b.Rb(0,"span",0)},directives:[S.a],styles:[""]}),V),L=n("h7tf"),D=n("ZVDf"),J=n("9odQ"),G=((W=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"ngOnInit",value:function(){}}]),t}()).\u0275fac=function(t){return new(t||W)},W.\u0275cmp=b.Kb({type:W,selectors:[["j-success-form"]],decls:7,vars:0,consts:[[1,"container","success"],[1,"text-center","success__icon"],["inlineSVG","./assets/jmart/success.svg",1,"mr-2"],["translate","",1,"text-center","success__text"],["translate","",1,"text-center"]],template:function(t,e){1&t&&(b.Wb(0,"section",0),b.Wb(1,"div",1),b.Rb(2,"span",2),b.Vb(),b.Wb(3,"h4",3),b.Tc(4,"JMART.LANDING.FORM_RESPONSE.SUCCESS"),b.Vb(),b.Wb(5,"p",4),b.Tc(6,"JMART.LANDING.FORM_RESPONSE.SUCCESS_TEXT"),b.Vb(),b.Vb())},directives:[S.a,y.a],styles:[".success[_ngcontent-%COMP%]{margin-top:7rem}.success__icon[_ngcontent-%COMP%], .success__text[_ngcontent-%COMP%]{margin-bottom:1.875rem}"]}),W),F=((I=function(){function t(){_classCallCheck(this,t),this.onRepeat=new b.n}return _createClass(t,[{key:"ngOnInit",value:function(){}},{key:"repeat",value:function(){this.onRepeat.emit("default")}}]),t}()).\u0275fac=function(t){return new(t||I)},I.\u0275cmp=b.Kb({type:I,selectors:[["j-failed-form"]],outputs:{onRepeat:"onRepeat"},decls:9,vars:0,consts:[[1,"container","failed"],[1,"text-center","failed__icon"],["src","./assets/jmart/error.svg","width","48px","height","48px"],["translate","",1,"text-center","failed__text"],["translate","",1,"text-center"],["type","button","translate","",1,"btn","btn-primary","btn-block",3,"click"]],template:function(t,e){1&t&&(b.Wb(0,"section",0),b.Wb(1,"div",1),b.Rb(2,"img",2),b.Vb(),b.Wb(3,"h4",3),b.Tc(4,"JMART.LANDING.FORM_RESPONSE.FAILED"),b.Vb(),b.Wb(5,"p",4),b.Tc(6,"JMART.LANDING.FORM_RESPONSE.FAILED_TEXT"),b.Vb(),b.Wb(7,"button",5),b.ic("click",(function(t){return e.repeat()})),b.Tc(8,"JMART.LANDING.FORM_RESPONSE.REPEAT"),b.Vb(),b.Vb())},directives:[y.a],styles:[".failed[_ngcontent-%COMP%]{margin-top:7rem}.failed__icon[_ngcontent-%COMP%], .failed__text[_ngcontent-%COMP%]{margin-bottom:1.875rem}"]}),I),z=function(){return{id:"phoneKz"}};function K(t,e){if(1&t){var n=b.Xb();b.Wb(0,"form",8),b.ic("ngSubmit",(function(t){return b.Ic(n),b.mc().submit()})),b.Wb(1,"h4",9),b.Tc(2,"JMART.LANDING.FORM.TITLE"),b.Vb(),b.Wb(3,"p",10),b.Tc(4,"JMART.LANDING.FORM.DESC"),b.Vb(),b.Wb(5,"j-dropdown-input",11),b.ic("selected",(function(t){return b.Ic(n),b.mc().selectedCategory(t)})),b.Vb(),b.Rb(6,"j-phone-input",12),b.Rb(7,"j-input",13),b.Wb(8,"button",14),b.Tc(9," JMART.LANDING.FORM.APPLICATION "),b.Vb(),b.Vb()}if(2&t){var r=b.mc();b.uc("formGroup",r.form),b.Ab(5),b.uc("options",r.categoryNames)("hasError",r.categoryError&&r.isSubmitted),b.Ab(1),b.uc("isClearable",!1)("formControl",r.form.get("phone"))("hasError",r.phoneError&&r.isSubmitted)("countryCode",b.yc(11,z))("defaultFocus",!1),b.Ab(1),b.uc("isClearable",!1)("formControl",r.form.get("email"))("hasError",r.emailError&&r.isSubmitted)}}function Q(t,e){1&t&&(b.Wb(0,"div"),b.Rb(1,"j-success-form"),b.Vb())}function X(t,e){if(1&t){var n=b.Xb();b.Wb(0,"div"),b.Wb(1,"j-failed-form",15),b.ic("onRepeat",(function(t){return b.Ic(n),b.mc().onRepeat(t)})),b.Vb(),b.Vb()}}var U,H=((U=function(){function t(e,n,r,a){var i=this;_classCallCheck(this,t),this.categoriesService=e,this.landingService=n,this.analytics=r,this.companyService=a,this.isSubmitted=!1,this.formStatus="default",this.emailPattern="^[a-z0-9._%+-]+@[a-z0-9.-]+\\.[a-z]{2,4}$",this.form=new c.k({category:new c.h(null,c.H.required),phone:new c.h("",c.H.required),email:new c.h("",[c.H.required,c.H.email,c.H.pattern(this.emailPattern)])}),this.changeAuthoritySubscribtion=this.companyService.currentAuthoritySubject$.pipe(Object(p.a)(1)).subscribe((function(){"default"!==i.formStatus&&i.onRepeat("default")}))}return _createClass(t,[{key:"ngOnInit",value:function(){this.getCategories()}},{key:"ngOnDestroy",value:function(){this.changeAuthoritySubscribtion.unsubscribe()}},{key:"submit",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e,n=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.isSubmitted=!0,!this.form.invalid){t.next=2;break}return t.abrupt("return");case 2:return e={category:this.categories.find((function(t){if(t.name===n.form.value.category)return t})).id,phone:"+7"+this.form.value.phone,email:this.form.value.email},t.prev=3,t.next=6,this.landingService.createApplication(e);case 6:this.formStatus="success",this.logSubmitResult(),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(3),this.formStatus="failed",this.logSubmitResult(!0);case 13:return t.prev=13,this.formReset(),t.finish(13);case 16:case"end":return t.stop()}}),t,this,[[3,10,13,16]])})))}},{key:"logSubmitResult",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.analytics.logEvent("JMart_SendRequest_Click",{version:1,error:t})}},{key:"selectedCategory",value:function(t){this.analytics.logEvent("JMart_Category_Click",{version:1}),this.form.get("category").setValue(t)}},{key:"onRepeat",value:function(t){this.formStatus=t}},{key:"getCategories",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.categoriesService.getCategories();case 2:e=t.sent,this.categories=e,this.categoryNames=e.map((function(t){return t.name}));case 4:case"end":return t.stop()}}),t,this)})))}},{key:"formReset",value:function(){this.form.get("category").reset(),this.form.get("phone").setValue(""),this.form.get("email").reset(),this.isSubmitted=!1}},{key:"categoryError",get:function(){return this.form.get("category").errors}},{key:"phoneError",get:function(){return this.form.get("phone").errors}},{key:"emailError",get:function(){return this.form.get("email").errors}}]),t}()).\u0275fac=function(t){return new(t||U)(b.Qb(_),b.Qb(v),b.Qb(C.b),b.Qb(h.a))},U.\u0275cmp=b.Kb({type:U,selectors:[["j-application-form"]],decls:10,vars:4,consts:[[1,"container-fluid","application"],[1,"row","m-0","justify-content-between","application-container"],[1,"col-6","application__form"],[3,"ngSwitch"],[3,"formGroup","ngSubmit",4,"ngSwitchCase"],[4,"ngSwitchCase"],[1,"application__img"],["inlineSVG","./assets/jmart/landing/form.svg",1,"mr-2"],[3,"formGroup","ngSubmit"],["translate","",1,"container-fluid","mb-2","p-0","application__title"],["translate","",1,"mb-4"],["label","\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u044f",3,"options","hasError","selected"],["label","\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",3,"isClearable","formControl","hasError","countryCode","defaultFocus"],["label","\u041f\u043e\u0447\u0442\u0430",3,"isClearable","formControl","hasError"],["type","submit","translate","",1,"btn","btn-primary","btn-block"],[3,"onRepeat"]],template:function(t,e){1&t&&(b.Wb(0,"section",0),b.Wb(1,"div",1),b.Wb(2,"div",2),b.Rb(3,"j-jmart-logo"),b.Ub(4,3),b.Rc(5,K,10,12,"form",4),b.Rc(6,Q,2,0,"div",5),b.Rc(7,X,2,0,"div",5),b.Tb(),b.Vb(),b.Wb(8,"div",6),b.Rb(9,"span",7),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Ab(4),b.uc("ngSwitch",e.formStatus),b.Ab(1),b.uc("ngSwitchCase","default"),b.Ab(1),b.uc("ngSwitchCase","success"),b.Ab(1),b.uc("ngSwitchCase","failed"))},directives:[x,o.y,o.z,S.a,c.J,c.u,c.l,y.a,L.a,D.a,c.t,c.i,J.b,G,F],styles:[".application__form[_ngcontent-%COMP%]{padding:3.75rem}.application__title[_ngcontent-%COMP%]{margin-top:3rem}.application-container[_ngcontent-%COMP%]{background:#fff;border-radius:40px}"]}),U);function q(t,e){1&t&&b.Rb(0,"j-application-form")}var $,B=(($=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||$)},$.\u0275cmp=b.Kb({type:$,selectors:[["j-has-not-store"]],inputs:{isStoreClaimSent:"isStoreClaimSent"},decls:4,vars:2,consts:[[3,"isStoreClaimSent"],[4,"ngIf"]],template:function(t,e){1&t&&(b.Rb(0,"j-connect-store",0),b.Rb(1,"j-store-facts"),b.Rb(2,"j-advantages"),b.Rc(3,q,1,0,"j-application-form",1)),2&t&&(b.uc("isStoreClaimSent",e.isStoreClaimSent),b.Ab(3),b.uc("ngIf",!e.isStoreClaimSent))},directives:[E,w,j,o.u,H],styles:[""]}),$);function Y(t,e){1&t&&b.Rb(0,"j-has-store")}function Z(t,e){if(1&t&&b.Rb(0,"j-has-not-store",3),2&t){var n=b.mc();b.uc("isStoreClaimSent",n.isJmart.isStoreClaimSent)}}var tt,et,nt,rt=((et=function(){function t(e,n,r){_classCallCheck(this,t),this.route=e,this.companyService=n,this.landingService=r}return _createClass(t,[{key:"ngOnDestroy",value:function(){this.changeAuthoritySubscribtion.unsubscribe()}},{key:"ngOnInit",value:function(){var t=this;this.isJmart=this.route.snapshot.data.isJmart,this.changeAuthoritySubscribtion=this.companyService.currentAuthoritySubject$.pipe(Object(p.a)(1)).subscribe((function(){return Object(g.a)(t,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.landingService.resolveAccess();case 2:this.isJmart=t.sent;case 3:case"end":return t.stop()}}),t,this)})))}))}}]),t}()).\u0275fac=function(t){return new(t||et)(b.Qb(u.a),b.Qb(h.a),b.Qb(v))},et.\u0275cmp=b.Kb({type:et,selectors:[["j-landing"]],decls:4,vars:2,consts:[[1,"main"],[4,"ngIf","ngIfElse"],["hasNot",""],[3,"isStoreClaimSent"]],template:function(t,e){if(1&t&&(b.Wb(0,"div",0),b.Rc(1,Y,1,0,"j-has-store",1),b.Rc(2,Z,1,1,"ng-template",null,2,b.Sc),b.Vb()),2&t){var n=b.Fc(3);b.Ab(1),b.uc("ngIf",e.isJmart.isJmartCompany)("ngIfElse",n)}},directives:[o.u,T,B],styles:[".main[_ngcontent-%COMP%]{margin-top:8.75rem;margin-bottom:10rem}"]}),et),at=((tt=function(){function t(e,n,r){_classCallCheck(this,t),this.router=e,this.landingService=n,this.analytics=r}return _createClass(t,[{key:"resolve",value:function(){return Object(g.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",!0);case 1:case"end":return t.stop()}}),t)})))}},{key:"logLandingRoute",value:function(t){var e=t.isJmartCompany,n=t.isStoreClaimSent,r=_slicedToArray([{status:"notconnected",check:!e&&!n},{status:"request",check:!e&&n},{status:"connected",check:e}].filter((function(t){return t.check})),1)[0].status;this.analytics.logEvent("JMart_Start",{version:1,ProductJmartStatus:r})}}]),t}()).\u0275fac=function(t){return new(t||tt)(b.ec(u.c),b.ec(v),b.ec(C.b))},tt.\u0275prov=b.Mb({token:tt,factory:tt.\u0275fac}),tt),it=[{path:"",component:rt,resolve:{isJmart:at}},{path:"went-wrong",component:m}],st=((nt=function t(){_classCallCheck(this,t)}).\u0275mod=b.Ob({type:nt}),nt.\u0275inj=b.Nb({factory:function(t){return new(t||nt)},imports:[[u.g.forChild(it)],u.g]}),nt),ot=n("MN0s");n.d(e,"LandingModule",(function(){return lt}));var ct,lt=((ct=function t(){_classCallCheck(this,t)}).\u0275mod=b.Ob({type:ct}),ct.\u0275inj=b.Nb({factory:function(t){return new(t||ct)},providers:[at,v],imports:[[o.c,l.a,st,c.n,c.D,u.g,ot.a]]}),ct)}}]);