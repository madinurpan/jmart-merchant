(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{WbAt:function(t,e,n){"use strict";n.r(e);var i=n("ofXK"),s=n("dlKe"),a=n("PCNd"),o=n("5cNS"),c=n("fXoL");let r=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[i.c,a.a,s.b]]}),t})();var l=n("tyNb"),b=n("upKI"),p=n("RW1d"),u=n("quSY"),m=n("IzEk");const d="offset-lg-1 col-lg-10 offset-xl-2 col-xl-8";var h=n("tk/3"),g=n("lJxs"),f=n("pLZG"),S=n("/uUt"),T=n("89iV"),v=n("xErE"),y=(n("G54m"),n("VnnJ")),O=n("yZrb");let E=(()=>{class t{constructor(t,e,n){this.accountsService=t,this.companyService=e,this.apiService=n}getStatement(t,e){const n=`companies/${this.companyService.currentId}/accounts/${t}/statements`,i=Object(T.a)(e);return this.apiService.getObservable(n,null,i)}downloadStatement(t,e,n){const i=`companies/${this.companyService.currentId}/accounts/${t}/statements`;let s=new h.g;s=s.set("Accept-File",n),s=s.set("Content-Type","application/octet-stream");const a=Object(T.a)(e);let o=n.substring(n.lastIndexOf("/")+1,n.length);return"1c"===o&&(o+=".txt"),this.apiService.getObservable(i,s,a,{responseType:"blob"}).pipe(Object(g.a)(e=>({file:e,filename:`${t}.${o}`})))}getRequisitesPdf(t){const e=`companies/${this.companyService.currentId}/accounts/${t}/requisites`;let n=new h.g;n=n.set("Accept-File","application/pdf"),n=n.set("Content-Type","application/octet-stream");const i=new h.h;return this.apiService.getObservable(e,n,i,{responseType:"blob"})}getDepositInterests(t,e){const n=`deposit-service/companies/${this.companyService.currentId}/deposits/${t}/interests`,i=Object(T.a)(e);return this.apiService.getV2Observable(n,null,i)}getDepositTerms(t){return this.apiService.getV2Observable(`deposit-service/companies/${this.companyService.currentId}/deposits/${t}`)}getDepositByIban(t){return this.accountsService.getAccountsList().pipe(Object(f.a)(t=>t.length>0),Object(S.a)(this.areArraysEqual),Object(g.a)(e=>e.find(e=>e.iban===t)),Object(f.a)(t=>!!t))}areArraysEqual(t,e){return t.length===e.length&&t.every((t,n)=>t.id===e[n].id)}}return t.\u0275fac=function(e){return new(e||t)(c.ec(v.a),c.ec(y.a),c.ec(O.a))},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var x=n("S1F0"),A=n("oKsb"),w=n("zN9f"),D=n("Kx/q"),R=n("xJkR"),I=n("tepA");function j(t,e){if(1&t&&(c.Wb(0,"div",4),c.Wb(1,"div",5),c.Wb(2,"div",6),c.Rb(3,"j-entity-logo",7),c.Vb(),c.Wb(4,"span",8),c.Tc(5),c.nc(6,"formatIban"),c.Vb(),c.Vb(),c.Vb(),c.Wb(7,"h1",9),c.Rb(8,"j-money",10),c.Vb()),2&t){const t=c.mc();c.Ab(3),c.uc("name",null==t.deposit.balance?null:t.deposit.balance.currency),c.Ab(2),c.Uc(c.oc(6,3,t.iban)),c.Ab(3),c.uc("money",t.deposit.balance)}}const k=function(){return{width:"28px",height:"28px","margin-bottom":"0","background-color":"#ECEEF1"}},C=function(){return{height:"46px",width:"60%","margin-bottom":"0","background-color":"#ECEEF1"}};function V(t,e){if(1&t&&(c.Wb(0,"div",4),c.Wb(1,"div",5),c.Wb(2,"div",6),c.Rb(3,"ngx-skeleton-loader",11),c.Vb(),c.Wb(4,"span",8),c.Tc(5),c.nc(6,"formatIban"),c.Vb(),c.Vb(),c.Vb(),c.Wb(7,"h1",9),c.Rb(8,"ngx-skeleton-loader",11),c.Vb()),2&t){const t=c.mc();c.Ab(3),c.uc("theme",c.yc(5,k)),c.Ab(2),c.Uc(c.oc(6,3,t.iban)),c.Ab(3),c.uc("theme",c.yc(6,C))}}let W=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-header"]],inputs:{iban:"iban",deposit:"deposit"},decls:6,vars:1,consts:[[1,"account-header"],[3,"ngTemplateOutlet"],["depositTemplate",""],["loadingTemplate",""],[1,"iban"],[1,"iban__number"],[1,"iban-img"],["size","sm",3,"name"],[1,"d-inline-block","text-muted","mr-4"],[1,"f-page-title"],[3,"money"],[3,"theme"]],template:function(t,e){if(1&t&&(c.Wb(0,"section",0),c.Sb(1,1),c.Vb(),c.Rc(2,j,9,5,"ng-template",null,2,c.Sc),c.Rc(4,V,9,7,"ng-template",null,3,c.Sc)),2&t){const t=c.Fc(3),n=c.Fc(5);c.Ab(1),c.uc("ngTemplateOutlet",e.deposit?t:n)}},directives:[i.B,w.a,D.a,R.a],pipes:[I.a],styles:[".iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:8px;flex-wrap:wrap}.iban-img[_ngcontent-%COMP%]{margin-right:12px;height:28px;border-radius:.5rem}.iban__number[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}"],changeDetection:0}),t})();var F=n("4wRv"),M=n("sYmb");function N(t,e){if(1&t&&(c.Wb(0,"a",3),c.Tc(1),c.nc(2,"translate"),c.Vb()),2&t){const t=e.$implicit;c.uc("routerLink",t.link),c.Ab(1),c.Vc(" ",c.oc(2,2,t.label)," ")}}const L=[{label:"DEPOSITS.STATEMENT.TITLE",link:"statement"},{label:"DEPOSITS.INTERESTS.TITLE",link:"interests",isRewards:!0},{label:"DEPOSITS.TERMS.TITLE",link:"terms"},{label:"DEPOSITS.REQUISITES.TITLE",link:"requisites"}];let P=(()=>{class t{constructor(t){this.featureFlagsService=t,this.subscription=new u.a,this.initFeatureFlags()}ngOnDestroy(){this.subscription.unsubscribe()}initFeatureFlags(){this.subscription.add(this.featureFlagsService.getFeatureFlags().subscribe(t=>{this.tabs=this.featureFlagsService.isDisabled(F.a.DEPOSIT_REWARDS)?L.filter(t=>!t.isRewards):[...L]}))}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(F.b))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-tabs"]],decls:3,vars:1,consts:[[1,"f-page-tabs-wrap"],[1,"f-page-tabs"],["routerLinkActive","active",3,"routerLink",4,"ngFor","ngForOf"],["routerLinkActive","active",3,"routerLink"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Wb(1,"nav",1),c.Rc(2,N,3,4,"a",2),c.Vb(),c.Vb()),2&t&&(c.Ab(2),c.uc("ngForOf",e.tabs))},directives:[i.t,l.f,l.e],pipes:[M.d],styles:[""]}),t})();function $(t,e){1&t&&c.Rb(0,"router-outlet")}let _=(()=>{class t{constructor(t,e,n){this.route=t,this.router=e,this.depositsService=n,this.isLoading=!0,this.subscription=new u.a,this.colsClasslist=d,this.route.params.pipe(Object(m.a)(1)).subscribe(t=>{this.iban=t.iban,this.deposit$=this.depositsService.getDepositByIban(this.iban)})}onClose(){this.router.navigate(["/accounts"])}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(l.a),c.Qb(l.c),c.Qb(E))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit"]],decls:7,vars:5,consts:[["closePosition","outside","headerClassList","bg-white",3,"colsClassList","closed"],[3,"deposit","iban"],["contentTemplate",""]],template:function(t,e){1&t&&(c.Wb(0,"f-page",0),c.ic("closed",(function(t){return e.onClose()})),c.Wb(1,"f-page-header"),c.Rb(2,"j-deposit-header",1),c.nc(3,"async"),c.Rb(4,"j-deposit-tabs"),c.Vb(),c.Rc(5,$,1,0,"ng-template",null,2,c.Sc),c.Vb()),2&t&&(c.uc("colsClassList",e.colsClasslist),c.Ab(2),c.uc("deposit",c.oc(3,3,e.deposit$))("iban",e.iban))},directives:[x.a,A.a,W,P,l.h],pipes:[i.b],styles:["[_nghost-%COMP%]{background:#f6f7f8;display:block}.deposit-header[_ngcontent-%COMP%]{background:#fff}"]}),t})();var G=n("u+5l");let H=(()=>{class t{constructor(){this.filtered=new c.n,this.downloaded=new c.n,this.downloadList=[{label:"PDF",value:"application/pdf"},{label:"EXL",value:"application/xls"},{label:"1C",value:"application/1c"}]}onFilter(t){this.filtered.emit(t)}onDownload(t){this.downloaded.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-interests-filter"]],inputs:{filterDates:"filterDates"},outputs:{filtered:"filtered",downloaded:"downloaded"},decls:1,vars:1,consts:[["placement","left-top",1,"filter-group",3,"customDates","submitted"]],template:function(t,e){1&t&&(c.Wb(0,"j-filter-period-dropdown",0),c.ic("submitted",(function(t){return e.onFilter(t)})),c.Vb()),2&t&&c.uc("customDates",e.filterDates)},directives:[G.a],styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end;-webkit-box-align:center;align-items:center}"]}),t})();var Q=n("Wgwc"),B=n.n(Q),Y=n("LRne"),U=n("e8Ap");const K=function(t){return{name:t}};let z=(()=>{class t{constructor(t){this.translateService=t}ngOnInit(){this.mapDate()}mapDate(){const t=B()(this.transaction.documentDate);this.date$=t.isSame(B()(),"day")?this.translateService.get("DEPOSITS.INTERESTS.DATE.TODAY",{datetime:t.format("HH:mm")}):B()(this.transaction.documentDate).isSame(B()().subtract(1,"day"),"day")?this.translateService.get("DEPOSITS.INTERESTS.DATE.YESTERDAY",{datetime:t.format("HH:mm")}):Object(Y.a)(t.format("DD MMMM HH:mm"))}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(M.e))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-interests-transaction"]],inputs:{transaction:"transaction",depositName:"depositName"},decls:13,vars:14,consts:[["inlineSVG","assets/icons/v2/gift-24.svg",1,"transaction-icon"],[1,"transaction-summary"],[1,"d-block","p1","mb-1","text-strong",3,"showSign","money"],[1,"text-muted"],[1,"transaction-content"],[1,"p1","mb-1"],[1,"text-muted","m-0"]],template:function(t,e){1&t&&(c.Rb(0,"i",0),c.Wb(1,"div",1),c.Rb(2,"j-money",2),c.Wb(3,"div",3),c.Tc(4),c.nc(5,"async"),c.Vb(),c.Vb(),c.Wb(6,"article",4),c.Wb(7,"h6",5),c.Tc(8),c.nc(9,"translate"),c.Vb(),c.Wb(10,"p",6),c.Tc(11),c.nc(12,"translate"),c.Vb(),c.Vb()),2&t&&(c.Ab(2),c.uc("showSign",!0)("money",e.transaction.interest),c.Ab(2),c.Vc(" ",c.oc(5,5,e.date$)," "),c.Ab(4),c.Vc(" ",c.pc(9,7,"DEPOSITS.INTERESTS.TRANSACTION.TITLE",c.zc(12,K,e.depositName))," "),c.Ab(3),c.Vc(" ",c.oc(12,10,"DEPOSITS.INTERESTS.TRANSACTION.DESCRIPTION")," "))},directives:[U.a,D.a],pipes:[i.b,M.d],styles:["[_nghost-%COMP%]{display:grid;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px;grid-template-columns:40px 160px 1fr;margin:32px 0}.transaction-icon[_ngcontent-%COMP%]{width:40px;height:40px;background:#f6f7f8;border-radius:12px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}"],changeDetection:0}),t})();function q(t,e){if(1&t&&c.Rb(0,"j-deposit-interests-transaction",4),2&t){const t=e.$implicit,n=c.mc();c.uc("transaction",t)("depositName",n.depositName)}}let X=(()=>{class t{constructor(){}ngOnInit(){this.mapGroupTitle()}mapGroupTitle(){this.title=B()(this.group.groupDate).format("YYYY")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-interests-group"]],inputs:{group:"group",depositName:"depositName"},decls:5,vars:4,consts:[[1,"d-flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"text-success",3,"showSign","money"],[3,"transaction","depositName",4,"ngFor","ngForOf"],[3,"transaction","depositName"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Wb(1,"h5",1),c.Tc(2),c.Vb(),c.Rb(3,"j-money",2),c.Vb(),c.Rc(4,q,1,2,"j-deposit-interests-transaction",3)),2&t&&(c.Ab(2),c.Vc(" ",e.title," "),c.Ab(1),c.uc("showSign",!0)("money",e.group.creditSum),c.Ab(1),c.uc("ngForOf",e.group.transactions))},directives:[D.a,i.t,z],styles:["[_nghost-%COMP%]{display:block;margin:24px 0}"],changeDetection:0}),t})();var J=n("4cI0");function Z(t,e){if(1&t&&c.Rb(0,"j-deposit-interests-group",2),2&t){const t=e.$implicit,n=c.mc();c.uc("group",t)("depositName",n.depositName)}}function tt(t,e){1&t&&c.Rb(0,"j-empty-placeholder",3)}let et=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-interests-statement"]],inputs:{statement:"statement",depositName:"depositName"},decls:2,vars:2,consts:[[3,"group","depositName",4,"ngFor","ngForOf"],["label","DEPOSITS.INTERESTS.EMPTY",4,"ngIf"],[3,"group","depositName"],["label","DEPOSITS.INTERESTS.EMPTY"]],template:function(t,e){1&t&&(c.Rc(0,Z,1,2,"j-deposit-interests-group",0),c.Rc(1,tt,1,0,"j-empty-placeholder",1)),2&t&&(c.uc("ngForOf",null==e.statement?null:e.statement.transactionGroups),c.Ab(1),c.uc("ngIf",0===e.statement.transactionGroups.length))},directives:[i.t,i.u,X,J.a],styles:[""],changeDetection:0}),t})();var nt=n("XNiG"),it=n("eIep"),st=n("bOdf"),at=n("GJmQ"),ot=n("kAiJ"),ct=n("y5b2"),rt=n("jZlK"),lt=n("mR7B"),bt=n("ZF+8"),pt=n("THGi"),ut=n("R0Ic");const mt={opacity:0,transform:"scale(0.8)",transformOrigin:"50% 50%"},dt="200ms ease-in-out",ht={right:"-100%"},gt=[Object(ut.o)("wrapperAnimations",[Object(ut.l)("in",Object(ut.m)({opacity:1,transform:"scale(1)",transformOrigin:"50% 50%"})),Object(ut.n)(":enter",[Object(ut.m)(mt),Object(ut.e)(dt),Object(ut.j)("@childAnimations",[Object(ut.f)()])]),Object(ut.n)(":leave",[Object(ut.j)("@childAnimations",[Object(ut.f)()]),Object(ut.e)(dt,Object(ut.m)(mt))])]),Object(ut.o)("childAnimations",[Object(ut.l)("in",Object(ut.m)({right:0})),Object(ut.n)(":enter",[Object(ut.m)(ht),Object(ut.e)(dt)]),Object(ut.n)(":leave",[Object(ut.e)(dt,Object(ut.m)(ht))])])],ft={hasDetails:!1};let St=(()=>{class t{constructor(){}mapStatementOptions(t){return Object.assign(Object.assign({},ft),t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=c.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Tt(t,e){if(1&t&&(c.Wb(0,"div",1),c.Wb(1,"label",2),c.Tc(2),c.nc(3,"translate"),c.Vb(),c.Rb(4,"j-money",3),c.Vb()),2&t){const t=e.$implicit;c.Ab(2),c.Uc(c.oc(3,7,t.label)),c.Ab(2),c.Db(t.classList),c.uc("showSign",t.showSign)("isDebit",t.isDebit)("isCredit",t.isCredit)("money",t.money)}}let vt=(()=>{class t{constructor(){}ngOnInit(){this.balances=[{label:"DEPOSITS.STATEMENT.HEADER.INCOME",classList:"text-success",showSign:!0,isCredit:!0,money:this.statement.creditTotalSum},{label:"DEPOSITS.STATEMENT.HEADER.OUTCOME",classList:"text-danger",showSign:!0,isDebit:!0,money:this.statement.debitTotalSum},{label:"DEPOSITS.STATEMENT.HEADER.BALANCE_IN",money:this.statement.balanceIn},{label:"DEPOSITS.STATEMENT.HEADER.BALANCE_OUT",money:this.statement.balanceOut}]}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["j-statement2-header"]],inputs:{statement:"statement"},decls:1,vars:1,consts:[["class","balances",4,"ngFor","ngForOf"],[1,"balances"],[1,"balance-label","text-muted","p3","m-0"],[1,"h5","d-block",3,"showSign","isDebit","isCredit","money"]],template:function(t,e){1&t&&c.Rc(0,Tt,5,9,"div",0),2&t&&c.uc("ngForOf",e.balances)},directives:[i.t,D.a],pipes:[M.d],styles:["[_nghost-%COMP%]{display:grid;padding-top:24px;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px;grid-template-columns:repeat(4,1fr)}"]}),t})();var yt=function(t){return t.CREDIT="CREDIT",t.DEBIT="DEBIT",t}({}),Ot=function(t){return t.DAY="DAY",t.MONTH="MONTH",t.NONE="NONE",t}({});function Et(t,e){if(1&t&&(c.Rb(0,"i",3),c.Wb(1,"div",4),c.Rb(2,"j-money",5),c.Wb(3,"div",6),c.Tc(4),c.nc(5,"async"),c.Vb(),c.Vb(),c.Wb(6,"article",7),c.Wb(7,"h6",8),c.Tc(8),c.nc(9,"translate"),c.Vb(),c.Wb(10,"p",9),c.Tc(11),c.Vb(),c.Vb()),2&t){const t=c.mc();c.Ab(2),c.uc("showSign",!0)("isCredit",!0)("money",t.transaction.credit),c.Ab(2),c.Vc(" ",c.oc(5,6,t.date$)," "),c.Ab(4),c.Vc(" ",c.oc(9,8,"DEPOSITS.STATEMENT.CREDIT")," "),c.Ab(3),c.Vc(" ",t.transaction.description," ")}}function xt(t,e){if(1&t&&(c.Rb(0,"i",10),c.Wb(1,"div",4),c.Rb(2,"j-money",11),c.Wb(3,"div",6),c.Tc(4),c.nc(5,"async"),c.Vb(),c.Vb(),c.Wb(6,"article",7),c.Wb(7,"h6",8),c.Tc(8),c.nc(9,"translate"),c.Vb(),c.Wb(10,"p",9),c.Tc(11),c.Vb(),c.Vb()),2&t){const t=c.mc();c.Ab(2),c.uc("showSign",!0)("isDebit",!0)("money",t.transaction.debit),c.Ab(2),c.Vc(" ",c.oc(5,6,t.date$)," "),c.Ab(4),c.Vc(" ",c.oc(9,8,"DEPOSITS.STATEMENT.DEBIT")," "),c.Ab(3),c.Vc(" ",t.transaction.description," ")}}let At=(()=>{class t{constructor(t){this.translateService=t}ngOnInit(){this.mapTransactionType(),this.mapDate()}mapDate(){const t=B()(this.transaction.documentDate);this.date$=t.isSame(B()(),"day")?this.translateService.get("DEPOSITS.INTERESTS.DATE.TODAY",{datetime:t.format("HH:mm")}):B()(this.transaction.documentDate).isSame(B()().subtract(1,"day"),"day")?this.translateService.get("DEPOSITS.INTERESTS.DATE.YESTERDAY",{datetime:t.format("HH:mm")}):Object(Y.a)(t.format("DD MMMM HH:mm"))}mapTransactionType(){this.isCredit=this.transaction.type===yt.CREDIT}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(M.e))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-statement2-transaction"]],inputs:{transaction:"transaction"},decls:5,vars:1,consts:[[3,"ngTemplateOutlet"],["creditTemplate",""],["debitTemplate",""],["inlineSVG","/assets/icons/v2/credit-40.svg",1,"transaction-icon"],[1,"transaction-summary"],[1,"d-block","p1","mb-1","text-strong",3,"showSign","isCredit","money"],[1,"text-muted"],[1,"transaction-content"],[1,"p1","mb-1"],[1,"text-muted","m-0"],["inlineSVG","/assets/icons/v2/debit-40.svg",1,"transaction-icon"],[1,"d-block","p1","mb-1","text-strong",3,"showSign","isDebit","money"]],template:function(t,e){if(1&t&&(c.Sb(0,0),c.Rc(1,Et,12,10,"ng-template",null,1,c.Sc),c.Rc(3,xt,12,10,"ng-template",null,2,c.Sc)),2&t){const t=c.Fc(2),n=c.Fc(4);c.uc("ngTemplateOutlet",e.isCredit?t:n)}},directives:[i.B,U.a,D.a],pipes:[i.b,M.d],styles:["[_nghost-%COMP%]{display:grid;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px;grid-template-columns:40px 160px 1fr;margin:32px 0}"]}),t})();function wt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"j-statement2-transaction",5),c.ic("click",(function(n){c.Ic(t);const i=e.$implicit;return c.mc().onClick(i)})),c.Vb()}2&t&&c.uc("transaction",e.$implicit)}let Dt=(()=>{class t{constructor(){this.clicked=new c.n}ngOnInit(){this.mapTitle()}onClick(t){this.clicked.emit(t)}mapTitle(){switch(this.groupType){case Ot.MONTH:let t=B()(this.group.groupDate).format("MMMM");this.title=`${t[0].toUpperCase()}${t.slice(1)}`;break;default:case Ot.DAY:this.title=B()(this.group.groupDate).format("DD.MM.YYYY")}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["j-statement2-group"]],inputs:{group:"group",groupType:"groupType",groupHeaderTemplate:"groupHeaderTemplate",transactionTemplate:"transactionTemplate"},outputs:{clicked:"clicked"},decls:7,vars:8,consts:[[1,"d-flex","align-items-center","justify-content-between"],[1,"m-0"],[1,"text-success",3,"showSign","isCredit","money"],[1,"text-dark","ml-2",3,"showSign","isDebit","money"],[3,"transaction","click",4,"ngFor","ngForOf"],[3,"transaction","click"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Wb(1,"h5",1),c.Tc(2),c.Vb(),c.Wb(3,"div"),c.Rb(4,"j-money",2),c.Rb(5,"j-money",3),c.Vb(),c.Vb(),c.Rc(6,wt,1,1,"j-statement2-transaction",4)),2&t&&(c.Ab(2),c.Vc(" ",e.title," "),c.Ab(2),c.uc("showSign",!0)("isCredit",!0)("money",e.group.creditSum),c.Ab(1),c.uc("showSign",!0)("isDebit",!0)("money",e.group.debitSum),c.Ab(1),c.uc("ngForOf",e.group.transactions))},directives:[D.a,i.t,At],styles:["[_nghost-%COMP%]{display:block;margin:20px 0}"],changeDetection:0}),t})(),Rt=(()=>{class t{constructor(){this.closed=new c.n}ngOnInit(){}onClose(){this.closed.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["j-statement2-details"]],inputs:{transaction:"transaction"},outputs:{closed:"closed"},decls:2,vars:0,template:function(t,e){1&t&&(c.Wb(0,"p"),c.Tc(1," statement2-details works!\n"),c.Vb())},styles:[""],changeDetection:0}),t})();function It(t,e){if(1&t){const t=c.Xb();c.Wb(0,"j-statement2-group",5),c.ic("clicked",(function(e){return c.Ic(t),c.mc().onClick(e)})),c.Vb()}if(2&t){const t=e.$implicit,n=c.mc();c.uc("group",t)("groupType",n.statement.groupType)}}function jt(t,e){1&t&&c.Rb(0,"j-empty-placeholder",6)}function kt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"section",7),c.ic("click",(function(e){return c.Ic(t),c.mc().onClose()})),c.Wb(1,"j-statement2-details",8),c.ic("click",(function(e){return c.Ic(t),e.stopPropagation()}))("closed",(function(e){return c.Ic(t),c.mc().onClose()})),c.Vb(),c.Vb()}if(2&t){const t=c.mc();c.uc("@wrapperAnimations","in"),c.Ab(1),c.uc("transaction",t.activeTransaction)("@childAnimations","in")}}let Ct=(()=>{class t{constructor(t){this.statementService=t,this.scrolled=new c.n}ngOnInit(){this._options=this.statementService.mapStatementOptions(this.options)}onScroll(){this.scrolled.emit()}onClick(t){this._options.hasDetails&&(this.activeTransaction=t)}onClose(){this.activeTransaction=null}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(St))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-statement2"]],inputs:{statement:"statement",options:"options"},outputs:{scrolled:"scrolled"},decls:5,vars:8,consts:[["infiniteScroll","",3,"scrollWindow","alwaysCallback","infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"statement"],[3,"group","groupType","clicked",4,"ngFor","ngForOf"],["label","DEPOSITS.STATEMENT.EMPTY",4,"ngIf"],["class","details-wrapper",3,"click",4,"ngIf"],[3,"group","groupType","clicked"],["label","DEPOSITS.STATEMENT.EMPTY"],[1,"details-wrapper",3,"click"],[1,"details",3,"transaction","click","closed"]],template:function(t,e){1&t&&(c.Wb(0,"section",0),c.ic("scrolled",(function(t){return e.onScroll()})),c.Rb(1,"j-statement2-header",1),c.Rc(2,It,1,2,"j-statement2-group",2),c.Vb(),c.Rc(3,jt,1,0,"j-empty-placeholder",3),c.Rc(4,kt,2,3,"section",4)),2&t&&(c.uc("scrollWindow",!0)("alwaysCallback",!0)("infiniteScrollDistance",2)("infiniteScrollThrottle",500),c.Ab(1),c.uc("statement",e.statement),c.Ab(1),c.uc("ngForOf",e.statement.transactionGroups),c.Ab(1),c.uc("ngIf",!e.statement.transactionGroups||0===e.statement.transactionGroups.length),c.Ab(1),c.uc("ngIf",e.activeTransaction))},directives:[s.a,vt,i.t,i.u,Dt,J.a,Rt],styles:[".details-wrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(246,247,248,.8);z-index:5000}.details[_ngcontent-%COMP%]{top:0;right:0;bottom:0;position:absolute;width:25%;min-width:425px;background:#f6f7f8;box-shadow:0 24px 32px rgba(0,0,0,.04),0 16px 24px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.04),0 0 1px rgba(0,0,0,.04);border-radius:12px 0 0 12px}"],data:{animation:gt}}),t})();const Vt=function(){return{height:"18px",margin:"0px","background-color":"#ECEEF1"}},Wt=function(){return{height:"36px",margin:"0px","background-color":"#ECEEF1"}};function Ft(t,e){1&t&&(c.Wb(0,"div",5),c.Rb(1,"ngx-skeleton-loader",3),c.Rb(2,"ngx-skeleton-loader",3),c.Vb()),2&t&&(c.Ab(1),c.uc("theme",c.yc(2,Vt)),c.Ab(1),c.uc("theme",c.yc(3,Wt)))}const Mt=function(){return{width:"40px",height:"40px",margin:"0px","background-color":"#ECEEF1"}},Nt=function(){return{height:"25px",margin:"0px","background-color":"#ECEEF1"}},Lt=function(){return{height:"22px",margin:"0px","background-color":"#ECEEF1"}};function Pt(t,e){1&t&&(c.Wb(0,"div",6),c.Rb(1,"ngx-skeleton-loader",3),c.Wb(2,"div"),c.Rb(3,"ngx-skeleton-loader",3),c.Rb(4,"ngx-skeleton-loader",3),c.Vb(),c.Wb(5,"div"),c.Rb(6,"ngx-skeleton-loader",3),c.Rb(7,"ngx-skeleton-loader",3),c.Vb(),c.Vb()),2&t&&(c.Ab(1),c.uc("theme",c.yc(5,Mt)),c.Ab(2),c.uc("theme",c.yc(6,Nt)),c.Ab(1),c.uc("theme",c.yc(7,Lt)),c.Ab(2),c.uc("theme",c.yc(8,Nt)),c.Ab(1),c.uc("theme",c.yc(9,Lt)))}const $t=function(){return{width:"60px",height:"36px",margin:"0px","background-color":"#ECEEF1"}},_t=function(){return{width:"120px",height:"36px",margin:"0px","background-color":"#ECEEF1"}};let Gt=(()=>{class t{constructor(){this.headerCount=Array(4),this.transactionCount=Array(1)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=c.Kb({type:t,selectors:[["j-statement2-loading"]],decls:6,vars:6,consts:[[1,"header"],["class","header-item",4,"ngFor","ngForOf"],[1,"pt-4","d-flex","justify-content-between"],[3,"theme"],["class","transaction",4,"ngFor","ngForOf"],[1,"header-item"],[1,"transaction"]],template:function(t,e){1&t&&(c.Wb(0,"div",0),c.Rc(1,Ft,3,4,"div",1),c.Vb(),c.Wb(2,"div",2),c.Rb(3,"ngx-skeleton-loader",3),c.Rb(4,"ngx-skeleton-loader",3),c.Vb(),c.Rc(5,Pt,8,10,"div",4)),2&t&&(c.Ab(1),c.uc("ngForOf",e.headerCount),c.Ab(2),c.uc("theme",c.yc(4,$t)),c.Ab(1),c.uc("theme",c.yc(5,_t)),c.Ab(1),c.uc("ngForOf",e.transactionCount))},directives:[i.t,R.a],styles:[".header[_ngcontent-%COMP%]{padding-top:24px;grid-template-columns:repeat(4,1fr)}.header[_ngcontent-%COMP%], .transaction[_ngcontent-%COMP%]{display:grid;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px}.transaction[_ngcontent-%COMP%]{grid-template-columns:40px 160px 1fr;margin:32px 0}"]}),t})();function Ht(t,e){if(1&t){const t=c.Xb();c.Wb(0,"j-statement2",8),c.ic("scrolled",(function(e){return c.Ic(t),c.mc().onScroll()})),c.Vb()}if(2&t){const t=c.mc();c.uc("statement",t.statement)}}function Qt(t,e){1&t&&c.Rb(0,"j-statement2-loading")}let Bt=(()=>{class t{constructor(t,e,n,i,s){this.route=t,this.filterService=e,this.depositsService=n,this.maskedService=i,this.filesService=s,this.filterMode=ct.c.DEPOSITS,this.colsClasslist=d,this.filter=this.filterService.getDefaults(ct.c.DEPOSITS),this.statementOptions={hasDetails:!1},this.errorText="",this.emptyLabel="ACCOUNTS.EMPTY_STATEMENT",this.subscription=new u.a,this.page$=new nt.a,this.filter$=new nt.a,this.page=1,this.pageSize=10,this.route.parent.params.pipe(Object(m.a)(1)).subscribe(t=>{this.iban=t.iban,this.initSubscriptions(),this.initStatementSubscriptions()})}ngOnDestroy(){this.subscription.unsubscribe()}onDownload(t){const e=Object.assign(Object.assign({},this.mapFilter(this.filter)),{pageSize:this.statement.totalTransactionsCount});this.depositsService.downloadStatement(this.iban,e,t).pipe(Object(m.a)(1)).subscribe(({file:t,filename:e})=>{this.filesService.downloadFile(t,e)})}onFilter(t){this.statement=null,this.page=1,this.filter=Object.assign({},t),this.filter$.next(t)}onScroll(){this.page$.next(++this.page)}initSubscriptions(){this.currency$=this.depositsService.getDepositByIban(this.iban).pipe(Object(g.a)(t=>t.balance.currency))}initStatementSubscriptions(){this.subscription.add(this.filter$.pipe(Object(S.a)(),Object(g.a)(t=>this.mapFilter(t)),Object(it.a)(t=>this.depositsService.getStatement(this.iban,t))).subscribe(t=>{this.statement=t})),this.subscription.add(this.page$.pipe(Object(S.a)(),Object(g.a)(t=>Object.assign(Object.assign({},this.mapFilter(this.filter)),{page:t})),Object(st.a)(t=>this.depositsService.getStatement(this.iban,t)),Object(at.a)(t=>{var e;return(null===(e=t.transactionGroups)||void 0===e?void 0:e.length)>0})).subscribe(t=>{this.statement=Object.assign(Object.assign({},this.statement),this.statement.transactionGroups[this.statement.transactionGroups.length-1].groupDate===t.transactionGroups[0].groupDate?{transactionGroups:[...this.statement.transactionGroups.slice(0,-1),...this.statement.transactionGroups.slice(-1).map(e=>Object.assign(Object.assign({},e),{transactions:[...e.transactions,...t.transactionGroups[0].transactions]}))]}:{transactionGroups:[...this.statement.transactionGroups,...t.transactionGroups]})}))}mapFilter(t){return{dateFrom:t.periodFrom?Object(ot.d)(t.periodFrom):null,dateTo:t.periodTo?Object(ot.d)(t.periodTo):null,documentNumber:t.documentNumber,correspondentAccount:t.recipientIban,correspondentBin:t.recipientBin,type:t.operationType!=ct.h.ALL?t.operationType:null,sort:t.sortBy!==ct.f.DEFAULT?t.sortBy:null,amountFrom:t.amountFrom?this.maskedService.getNumberedAmount(t.amountFrom):null,amountTo:t.amountTo?this.maskedService.getNumberedAmount(t.amountTo):null,withCommission:t.comission?t.comission===ct.a.WITH_COMISSION:null,page:this.page,pageSize:this.pageSize}}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(l.a),c.Qb(rt.a),c.Qb(E),c.Qb(lt.a),c.Qb(bt.b))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-statement"]],decls:15,vars:9,consts:[[1,"f-page-body","no-grow"],[1,"container","f-page-container"],[1,"row"],[3,"currency","mode","filtered","downloaded"],[1,"f-page-extra"],[3,"ngTemplateOutlet"],["statementTemplate",""],["statementLoadingTemplate",""],[3,"statement","scrolled"]],template:function(t,e){if(1&t&&(c.Wb(0,"section",0),c.Wb(1,"section",1),c.Wb(2,"div",2),c.Wb(3,"div"),c.Wb(4,"j-filter",3),c.ic("filtered",(function(t){return e.onFilter(t)}))("downloaded",(function(t){return e.onDownload(t)})),c.nc(5,"async"),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(6,"section",4),c.Wb(7,"section",1),c.Wb(8,"section",2),c.Wb(9,"section"),c.Sb(10,5),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Rc(11,Ht,1,1,"ng-template",null,6,c.Sc),c.Rc(13,Qt,1,0,"ng-template",null,7,c.Sc)),2&t){const t=c.Fc(12),n=c.Fc(14);c.Ab(3),c.Db(e.colsClasslist),c.Ab(1),c.uc("currency",c.oc(5,7,e.currency$))("mode",e.filterMode),c.Ab(5),c.Db(e.colsClasslist),c.Ab(1),c.uc("ngTemplateOutlet",e.statement?t:n)}},directives:[pt.a,i.B,Ct,Gt],pipes:[i.b],styles:["[_nghost-%COMP%]{-webkit-box-flex:1;flex-grow:1;background:#fff}"]}),t})();function Yt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"j-deposit-interests-filter",9),c.ic("filtered",(function(e){return c.Ic(t),c.mc().onFilter(e)}))("downloaded",(function(e){return c.Ic(t),c.mc().onDownload(e)})),c.Vb()}if(2&t){const t=c.mc();c.uc("filterDates",t.filterDates)}}const Ut=function(){return{width:"250px",height:"36px",margin:"0px","background-color":"#ECEEF1"}};function Kt(t,e){1&t&&(c.Wb(0,"div",10),c.Rb(1,"ngx-skeleton-loader",11),c.Vb()),2&t&&(c.Ab(1),c.uc("theme",c.yc(1,Ut)))}function zt(t,e){if(1&t){const t=c.Xb();c.Wb(0,"j-deposit-interests-statement",12),c.ic("scrolled",(function(e){return c.Ic(t),c.mc().onScroll()})),c.Vb()}if(2&t){const t=c.mc();c.uc("statement",t.statement)("depositName",t.depositName)("scrollWindow",!0)("alwaysCallback",!0)("infiniteScrollDistance",2)("infiniteScrollThrottle",500)}}const qt=function(){return{width:"40px",height:"40px",margin:"0px","background-color":"#ECEEF1"}},Xt=function(){return{height:"25px",margin:"0px","background-color":"#ECEEF1"}},Jt=function(){return{height:"22px",margin:"0px","background-color":"#ECEEF1"}};function Zt(t,e){1&t&&(c.Wb(0,"div",15),c.Rb(1,"ngx-skeleton-loader",11),c.Wb(2,"div"),c.Rb(3,"ngx-skeleton-loader",11),c.Rb(4,"ngx-skeleton-loader",11),c.Vb(),c.Wb(5,"div"),c.Rb(6,"ngx-skeleton-loader",11),c.Rb(7,"ngx-skeleton-loader",11),c.Vb(),c.Vb()),2&t&&(c.Ab(1),c.uc("theme",c.yc(5,qt)),c.Ab(2),c.uc("theme",c.yc(6,Xt)),c.Ab(1),c.uc("theme",c.yc(7,Jt)),c.Ab(2),c.uc("theme",c.yc(8,Xt)),c.Ab(1),c.uc("theme",c.yc(9,Jt)))}const te=function(){return{width:"60px",height:"36px",margin:"0px","background-color":"#ECEEF1"}},ee=function(){return{width:"120px",height:"36px",margin:"0px","background-color":"#ECEEF1"}};function ne(t,e){if(1&t&&(c.Wb(0,"div",13),c.Rb(1,"ngx-skeleton-loader",11),c.Rb(2,"ngx-skeleton-loader",11),c.Vb(),c.Rc(3,Zt,8,10,"div",14)),2&t){const t=c.mc();c.Ab(1),c.uc("theme",c.yc(3,te)),c.Ab(1),c.uc("theme",c.yc(4,ee)),c.Ab(1),c.uc("ngForOf",t.loadingCount)}}let ie=(()=>{class t{constructor(t,e,n){this.route=t,this.translateService=e,this.depositsService=n,this.colsClasslist=d,this.subscription=new u.a,this.loadingCount=Array(3),this.page=1,this.pageSize=5,this.page$=new nt.a,this.dates$=new nt.a,this.route.parent.params.pipe(Object(m.a)(1)).subscribe(t=>{this.iban=t.iban,this.initSubscriptions()})}ngOnDestroy(){this.subscription.unsubscribe()}onDownload(t){console.log("download"),console.log(t)}onFilter(t){this.page=1,this.dates$.next(t)}onScroll(){this.page$.next(++this.page)}initSubscriptions(){this.subscription.add(this.depositsService.getDepositByIban(this.iban).subscribe(t=>{this.deposit=t,this.filterDates={from:B()(t.openDate).toDate(),to:B()().toDate()},this.mapDepositName(),this.initStatementSubscriptions()})),this.subscription.add(this.translateService.onLangChange.subscribe(()=>{this.mapDepositName()}))}initStatementSubscriptions(){this.subscription.add(this.dates$.pipe(Object(S.a)(),Object(g.a)(t=>({page:this.page,pageSize:this.pageSize,dateFrom:B()(t.from).format(ot.a),dateTo:B()(t.to).format(ot.a)})),Object(it.a)(t=>this.depositsService.getDepositInterests(this.iban,t))).subscribe(t=>{this.statement=t})),this.subscription.add(this.page$.pipe(Object(S.a)(),Object(g.a)(t=>{var e,n;return{page:t,pageSize:this.pageSize,dateFrom:B()(null===(e=this.filterDates)||void 0===e?void 0:e.from).format(ot.a),dateTo:B()(null===(n=this.filterDates)||void 0===n?void 0:n.to).format(ot.a)}}),Object(st.a)(t=>this.depositsService.getDepositInterests(this.iban,t)),Object(at.a)(t=>t.transactionGroups.length>0)).subscribe(t=>{this.statement=Object.assign(Object.assign({},this.statement),this.statement.transactionGroups[this.statement.transactionGroups.length-1].groupDate===t.transactionGroups[0].groupDate?{transactionGroups:[...this.statement.transactionGroups.slice(0,-1),...this.statement.transactionGroups.slice(-1).map(e=>Object.assign(Object.assign({},e),{transactions:[...e.transactions,...t.transactionGroups[0].transactions]}))]}:{transactionGroups:[...this.statement.transactionGroups,...t.transactionGroups]})}))}mapDepositName(){this.depositName=this.deposit.depositType.descriptionTranslations.translations["en"===this.translateService.currentLang?"eng":this.translateService.currentLang]}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(l.a),c.Qb(M.e),c.Qb(E))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-interests"]],decls:18,vars:6,consts:[[1,"f-page-body","py-3","no-grow"],[1,"container","f-page-container"],[1,"row"],[3,"ngTemplateOutlet"],[1,"f-page-extra"],["filterTemplate",""],["filterLoadingTemplate",""],["statementTemplate",""],["statementLoadingTemplate",""],[3,"filterDates","filtered","downloaded"],[1,"d-flex","justify-content-end"],[3,"theme"],["infiniteScroll","",3,"statement","depositName","scrollWindow","alwaysCallback","infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[1,"pt-4","d-flex","justify-content-between"],["class","loader",4,"ngFor","ngForOf"],[1,"loader"]],template:function(t,e){if(1&t&&(c.Wb(0,"section",0),c.Wb(1,"section",1),c.Wb(2,"div",2),c.Wb(3,"div"),c.Sb(4,3),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Wb(5,"section",4),c.Wb(6,"section",1),c.Wb(7,"section",2),c.Wb(8,"section"),c.Sb(9,3),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Rc(10,Yt,1,1,"ng-template",null,5,c.Sc),c.Rc(12,Kt,2,2,"ng-template",null,6,c.Sc),c.Rc(14,zt,1,6,"ng-template",null,7,c.Sc),c.Rc(16,ne,4,5,"ng-template",null,8,c.Sc)),2&t){const t=c.Fc(11),n=c.Fc(13),i=c.Fc(15),s=c.Fc(17);c.Ab(3),c.Db(e.colsClasslist),c.Ab(1),c.uc("ngTemplateOutlet",e.filterDates?t:n),c.Ab(4),c.Db(e.colsClasslist),c.Ab(1),c.uc("ngTemplateOutlet",e.statement?i:s)}},directives:[i.B,H,R.a,et,s.a,i.t],styles:["[_nghost-%COMP%]{-webkit-box-flex:1;flex-grow:1;background:#fff}.loader[_ngcontent-%COMP%]{display:grid;-webkit-column-gap:24px;-moz-column-gap:24px;column-gap:24px;grid-template-columns:40px 160px 1fr;margin:32px 0}"]}),t})();var se=n("7rOj");const ae=function(t){return{height:t,margin:"0px","background-color":"#ECEEF1"}};function oe(t,e){if(1&t&&(c.Wb(0,"div",11),c.Rb(1,"ngx-skeleton-loader",8),c.Rb(2,"ngx-skeleton-loader",8),c.Vb()),2&t){const t=e.index;c.Ab(1),c.uc("theme",c.zc(2,ae,0===t||2===t?"18px":"41px")),c.Ab(1),c.uc("theme",c.zc(4,ae,0===t||2===t?"18px":"41px"))}}function ce(t,e){if(1&t&&(c.Wb(0,"div",11),c.Rb(1,"ngx-skeleton-loader",8),c.Rb(2,"ngx-skeleton-loader",8),c.Vb()),2&t){const t=e.index;c.Ab(1),c.uc("theme",c.zc(2,ae,0===t?"18px":"41px")),c.Ab(1),c.uc("theme",c.zc(4,ae,0===t?"18px":"41px"))}}const re=function(){return{height:"41px",margin:"0px","background-color":"#ECEEF1"}};function le(t,e){1&t&&(c.Wb(0,"div",11),c.Rb(1,"ngx-skeleton-loader",8),c.Rb(2,"ngx-skeleton-loader",8),c.Vb()),2&t&&(c.Ab(1),c.uc("theme",c.yc(2,re)),c.Ab(1),c.uc("theme",c.yc(3,re)))}const be=function(){return{height:"17px","margin-bottom":"6px",width:"45%"}},pe=function(){return{height:"25px","margin-bottom":"0px",width:"40%"}};function ue(t,e){if(1&t&&(c.Wb(0,"div",6),c.Wb(1,"div",7),c.Wb(2,"div"),c.Rb(3,"ngx-skeleton-loader",8),c.Vb(),c.Rb(4,"ngx-skeleton-loader",8),c.Vb(),c.Rc(5,oe,3,6,"div",9),c.Vb(),c.Wb(6,"div",6),c.Wb(7,"h5",10),c.Tc(8),c.nc(9,"translate"),c.Vb(),c.Rc(10,ce,3,6,"div",9),c.Vb(),c.Wb(11,"div",6),c.Wb(12,"h5",10),c.Tc(13),c.nc(14,"translate"),c.Vb(),c.Rc(15,le,3,4,"div",9),c.Vb()),2&t){const t=c.mc();c.Ab(3),c.uc("theme",c.yc(11,be)),c.Ab(1),c.uc("theme",c.yc(12,pe)),c.Ab(1),c.uc("ngForOf",t.mainLoadingCount),c.Ab(3),c.Uc(c.oc(9,7,"DEPOSITS.TERMS.REPLENISHMENT.TITLE")),c.Ab(2),c.uc("ngForOf",t.otherLoadingCount),c.Ab(3),c.Uc(c.oc(14,9,"DEPOSITS.TERMS.WITHDRAWAL.TITLE")),c.Ab(2),c.uc("ngForOf",t.otherLoadingCount)}}function me(t,e){if(1&t&&(c.Wb(0,"div",15),c.Wb(1,"div",16),c.Tc(2),c.nc(3,"translate"),c.Vb(),c.Rb(4,"div",17),c.Vb()),2&t){const t=e.$implicit;c.Ab(2),c.Vc(" ",c.oc(3,2,t.label),": "),c.Ab(2),c.uc("innerHTML",t.value,c.Jc)}}function de(t,e){if(1&t&&(c.Wb(0,"div",15),c.Wb(1,"div",16),c.Tc(2),c.nc(3,"translate"),c.Vb(),c.Rb(4,"div",17),c.Vb()),2&t){const t=e.$implicit;c.Ab(2),c.Vc(" ",c.oc(3,2,t.label),": "),c.Ab(2),c.uc("innerHTML",t.value,c.Jc)}}function he(t,e){if(1&t&&(c.Wb(0,"div",15),c.Wb(1,"div",16),c.Tc(2),c.nc(3,"translate"),c.Vb(),c.Rb(4,"div",17),c.Vb()),2&t){const t=e.$implicit;c.Ab(2),c.Vc(" ",c.oc(3,2,t.label),": "),c.Ab(2),c.uc("innerHTML",t.value,c.Jc)}}function ge(t,e){if(1&t&&(c.Wb(0,"div",6),c.Wb(1,"div",12),c.Wb(2,"div",13),c.Tc(3),c.nc(4,"translate"),c.Vb(),c.Wb(5,"h4"),c.Tc(6),c.Vb(),c.Vb(),c.Rc(7,me,5,4,"div",14),c.Vb(),c.Wb(8,"div",6),c.Wb(9,"h5",10),c.Tc(10),c.nc(11,"translate"),c.Vb(),c.Rc(12,de,5,4,"div",14),c.Vb(),c.Wb(13,"div",6),c.Wb(14,"h5",10),c.Tc(15),c.nc(16,"translate"),c.Vb(),c.Rc(17,he,5,4,"div",14),c.Vb()),2&t){const t=c.mc();c.Ab(3),c.Uc(c.oc(4,7,"DEPOSITS.TERMS.MAIN.NAME")),c.Ab(3),c.Vc(" ",t.name," "),c.Ab(1),c.uc("ngForOf",t.mainInfo),c.Ab(3),c.Uc(c.oc(11,9,"DEPOSITS.TERMS.REPLENISHMENT.TITLE")),c.Ab(2),c.uc("ngForOf",t.replenishmentInfo),c.Ab(3),c.Uc(c.oc(16,11,"DEPOSITS.TERMS.WITHDRAWAL.TITLE")),c.Ab(2),c.uc("ngForOf",t.withdrawalInfo)}}let fe=(()=>{class t{constructor(t,e,n,i,s){this.route=t,this.depositsService=e,this.translateService=n,this.moneyPipe=i,this.formatIban=s,this.colsClasslist=d,this.subscription=new u.a,this.mainLoadingCount=Array(5),this.otherLoadingCount=Array(2),this.route.parent.params.pipe(Object(m.a)(1)).subscribe(t=>{this.initSubscriptions(t.iban)})}ngOnDestroy(){this.subscription.unsubscribe()}initSubscriptions(t){this.subscription.add(this.depositsService.getDepositTerms(t).subscribe(t=>{this.terms=t,this.generateInfo()})),this.subscription.add(this.translateService.onLangChange.pipe(Object(g.a)(t=>t.lang)).subscribe(()=>{this.generateInfo()}))}generateInfo(){this.name=this.extractTranslation(this.terms.depositType.descriptionTranslations),this.generateMainInfo(),this.generateReplenishmentInfo(),this.generateWithdrawalInfo()}generateMainInfo(){this.mainInfo=[{label:this.mapMainLabel("RATE"),value:this.terms.interestRate?`${this.terms.interestRate}%`:""},{label:this.mapMainLabel("DOCUMENT_NUMBER"),value:this.terms.contractCode},{label:this.mapMainLabel("PERIOD"),value:this.mapPeriodLabel()},{label:this.mapMainLabel("AMOUNT"),value:this.moneyPipe.transform({amount:this.terms.contractSum,currency:this.terms.balance.currency})},{label:this.mapMainLabel("INTEREST"),value:this.extractTranslation(this.terms.interestPaymentOption.descriptionTranslations)},{label:this.mapMainLabel("IBAN"),value:this.formatIban.transform(this.terms.clientAccount)}]}generateReplenishmentInfo(){this.replenishmentInfo=[{label:this.mapReplenishmentLabel("TITLE"),value:this.translateService.instant(this.terms.addPay?"SHARED.YES":"SHARED.NO")},{label:this.mapReplenishmentLabel("MAX_AMOUNT"),value:this.moneyPipe.transform({amount:this.terms.maxSum,currency:this.terms.balance.currency})}]}generateWithdrawalInfo(){this.withdrawalInfo=[{label:this.mapWithdrawalLabel("PARTIAL_WITHDRAWAL"),value:this.translateService.instant(this.terms.payOut?"SHARED.YES":"SHARED.NO")},{label:this.mapWithdrawalLabel("IRREDUCIBLE_AMOUNT"),value:this.moneyPipe.transform({amount:this.terms.irreducibleBalance,currency:this.terms.balance.currency})}]}mapMainLabel(t){return this.mapLabel("MAIN",t)}mapReplenishmentLabel(t){return this.mapLabel("REPLENISHMENT",t)}mapWithdrawalLabel(t){return this.mapLabel("WITHDRAWAL",t)}mapLabel(t,e){return e?this.mapTranslate(`${t}.${e}`):""}mapPeriodLabel(){const t=Object(ot.c)(this.terms.fromDate),e=Object(ot.c)(this.terms.toDate),n=B()(this.terms.toDate).diff(this.terms.fromDate,"month");let i;switch(n%20){case 1:i="ONE";break;case 2:case 3:case 4:i="FEW";break;default:i="MANY"}return`${t} - ${e} <br> (${this.translateService.instant(this.mapMainLabel(`MONTHS.${i}`),{count:n})})`}extractTranslation(t){const e=this.translateService.currentLang;return t.translations["en"===e?"eng":e]}mapTranslate(t){return t?`DEPOSITS.TERMS.${t}`:""}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(l.a),c.Qb(E),c.Qb(M.e),c.Qb(se.e),c.Qb(se.d))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-terms"]],decls:9,vars:3,consts:[[1,"f-page-body"],[1,"container","f-page-container"],[1,"row"],[3,"ngTemplateOutlet"],["loadingTemplate",""],["termsTemplate",""],[1,"deposit-info"],[1,"mb-4"],[3,"theme"],["class","j-desc-row j-desc-row--loading",4,"ngFor","ngForOf"],[1,"j-desc-heading"],[1,"j-desc-row","j-desc-row--loading"],[1,"text-dark","mb-4"],[1,"p2"],["class","p2 j-desc-row",4,"ngFor","ngForOf"],[1,"p2","j-desc-row"],[1,"j-desc-child","text-muted"],[1,"j-desc-child","text-dark",3,"innerHTML"]],template:function(t,e){if(1&t&&(c.Wb(0,"section",0),c.Wb(1,"section",1),c.Wb(2,"div",2),c.Wb(3,"div"),c.Sb(4,3),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Rc(5,ue,16,13,"ng-template",null,4,c.Sc),c.Rc(7,ge,18,13,"ng-template",null,5,c.Sc)),2&t){const t=c.Fc(6),n=c.Fc(8);c.Ab(3),c.Db(e.colsClasslist),c.Ab(1),c.uc("ngTemplateOutlet",e.terms?n:t)}},directives:[i.B,R.a,i.t],pipes:[M.d],styles:[".deposit-info[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0;background:#fff;border-radius:.75rem;max-width:435px}.deposit-info[_ngcontent-%COMP%] + .deposit-info[_ngcontent-%COMP%]{margin-top:1rem}"]}),t})();var Se=n("nYR2"),Te=n("S09V"),ve=n("tmjD"),ye=n("VO+5"),Oe=n("Dvla"),Ee=n("M6pS");const xe=function(){return{height:"17px","background-color":"#ECEEF1"}},Ae=function(){return{height:"17px",margin:"0px","background-color":"#ECEEF1"}};function we(t,e){1&t&&(c.Wb(0,"div",11),c.Rb(1,"ngx-skeleton-loader",12),c.Rb(2,"ngx-skeleton-loader",12),c.Vb()),2&t&&(c.Ab(1),c.uc("theme",c.yc(2,xe)),c.Ab(1),c.uc("theme",c.yc(3,Ae)))}const De=function(){return{height:"50px","margin-bottom":"0px",width:"100%","background-color":"#ECEEF1"}};function Re(t,e){if(1&t&&(c.Rc(0,we,3,4,"div",7),c.Wb(1,"div",8),c.Rb(2,"ngx-skeleton-loader",9),c.Rb(3,"ngx-skeleton-loader",10),c.Vb()),2&t){const t=c.mc();c.uc("ngForOf",t.loadingCount),c.Ab(2),c.uc("theme",c.yc(3,De)),c.Ab(1),c.uc("theme",c.yc(4,De))}}function Ie(t,e){if(1&t&&(c.Wb(0,"div",18),c.Wb(1,"div",19),c.Tc(2),c.nc(3,"translate"),c.Vb(),c.Wb(4,"div",20),c.Tc(5),c.Vb(),c.Vb()),2&t){const t=e.$implicit;c.Ab(2),c.Vc(" ",c.oc(3,2,t.label),": "),c.Ab(3),c.Vc(" ",t.value," ")}}function je(t,e){if(1&t){const t=c.Xb();c.Rc(0,Ie,6,4,"div",13),c.Wb(1,"div",8),c.Wb(2,"button",14),c.ic("click",(function(e){return c.Ic(t),c.mc().onCopy()})),c.Rb(3,"span",15),c.Wb(4,"strong",16),c.Tc(5),c.nc(6,"translate"),c.Vb(),c.Vb(),c.Wb(7,"button",17),c.ic("click",(function(e){return c.Ic(t),c.mc().onDownload()})),c.Rb(8,"span",15),c.Wb(9,"strong",16),c.Tc(10),c.nc(11,"translate"),c.Vb(),c.Vb(),c.Vb()}if(2&t){const t=c.mc();c.uc("ngForOf",t.list),c.Ab(2),c.uc("cbContent",t.textToCopy),c.Ab(1),c.uc("inlineSVG","assets/icons/account/copy.svg"),c.Ab(2),c.Uc(c.oc(6,9,"ACCOUNTS.REQUISITES.COPY")),c.Ab(2),c.uc("disabled",t.isDownloading)("jLoading",t.isDownloading)("jLoadingInverted",!0),c.Ab(1),c.uc("inlineSVG","assets/icons/account/pdf.svg"),c.Ab(2),c.Uc(c.oc(11,11,"ACCOUNTS.REQUISITES.DOWNLOAD"))}}const ke=[{path:":iban",component:_,children:[{path:"",redirectTo:"statement"},{path:"statement",component:Bt},{path:"interests",canActivate:[p.a],data:{featureFlag:b.a.DEPOSIT_REWARDS},component:ie},{path:"terms",component:fe},{path:"requisites",component:(()=>{class t{constructor(t,e,n,i,s,a,o,c,r){this.route=t,this.depositsService=e,this.companyService=n,this.maskPipe=i,this.formatIban=s,this.bankFromAccount=a,this.translateService=o,this.notifierService=c,this.filesService=r,this.colsClasslist=d,this.loadingCount=Array(6),this.isReady=!1,this.isDownloading=!1,this.subscription=new u.a,this.route.parent.params.pipe(Object(m.a)(1)).subscribe(t=>{this.iban=t.iban,this.initSubscriptions()})}ngOnDestroy(){this.subscription.unsubscribe()}onCopy(){this.notifierService.notify("default",this.translateService.instant(this.mapTranslate("COPIED")))}onDownload(){this.isDownloading=!0,this.depositsService.getRequisitesPdf(this.iban).pipe(Object(m.a)(1),Object(Se.a)(()=>this.isDownloading=!1)).subscribe(t=>{this.filesService.downloadFile(t,`${this.iban}.pdf`)})}initSubscriptions(){this.depositsService.getDepositByIban(this.iban).pipe(Object(m.a)(1)).subscribe(t=>{this.list=this.generateList(t),this.textToCopy=this.generateTextToCopy(),this.isReady=!0}),this.subscription.add(this.translateService.onLangChange.subscribe(()=>{this.generateTextToCopy()}))}generateTextToCopy(){return this.list.map(t=>{if(t.value||t.valueToCopy)return`${this.translateService.instant(t.label)}: ${t.valueToCopy||t.value}`}).join("\n")}mapListTranslate(t){return t?this.mapTranslate(`LIST.${t}`):""}mapTranslate(t){return`DEPOSITS.REQUISITES.${t}`}generateList(t){return[{label:this.mapListTranslate("COMPANY"),value:this.companyService.currentCompany.name},{label:this.mapListTranslate("BIN"),value:this.maskPipe.transform(this.companyService.currentCompany.bin,Te.a.iin.mask),valueToCopy:this.companyService.currentCompany.bin},{label:this.mapListTranslate("KBE"),value:this.companyService.currentCompany.kod},{label:this.mapListTranslate("IBAN"),value:this.formatIban.transform(t.iban),valueToCopy:t.iban},{label:this.mapListTranslate("BANK"),value:this.bankFromAccount.transform(t.iban,"name")},{label:this.mapListTranslate("BIC"),value:this.bankFromAccount.transform(t.iban,"bic")}]}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(l.a),c.Qb(E),c.Qb(y.a),c.Qb(ve.b),c.Qb(se.d),c.Qb(se.b),c.Qb(M.e),c.Qb(ye.c),c.Qb(bt.b))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-deposit-requisites"]],decls:10,vars:3,consts:[[1,"f-page-body"],[1,"container","f-page-container"],[1,"row"],[1,"deposit-info"],[3,"ngTemplateOutlet"],["loadingTemplate",""],["requisitesTemplate",""],["class","j-desc-row j-desc-row--loading",4,"ngFor","ngForOf"],[1,"requisites__footer"],[1,"requisites__button",3,"theme"],[1,"requisites__button","ml-3",3,"theme"],[1,"j-desc-row","j-desc-row--loading"],[3,"theme"],["class","j-desc-row",4,"ngFor","ngForOf"],["ngxClipboard","",1,"requisites__button","btn","btn-outline-primary","btn-md",3,"cbContent","click"],[3,"inlineSVG"],[1,"ml-2"],[1,"requisites__button","btn","btn-outline-primary","btn-md",3,"disabled","jLoading","jLoadingInverted","click"],[1,"j-desc-row"],[1,"j-desc-child","text-muted"],[1,"j-desc-child","text-dark"]],template:function(t,e){if(1&t&&(c.Wb(0,"section",0),c.Wb(1,"section",1),c.Wb(2,"div",2),c.Wb(3,"div"),c.Wb(4,"div",3),c.Sb(5,4),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Vb(),c.Rc(6,Re,4,5,"ng-template",null,5,c.Sc),c.Rc(8,je,12,13,"ng-template",null,6,c.Sc)),2&t){const t=c.Fc(7),n=c.Fc(9);c.Ab(3),c.Db(e.colsClasslist),c.Ab(2),c.uc("ngTemplateOutlet",e.isReady?n:t)}},directives:[i.B,i.t,R.a,Oe.a,U.a,Ee.a],pipes:[M.d],styles:[".deposit-info[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0;background:#fff;border-radius:.75rem;max-width:435px}.deposit-info[_ngcontent-%COMP%] + .deposit-info[_ngcontent-%COMP%]{margin-top:1rem}.requisites__footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.requisites__button[_ngcontent-%COMP%]{margin-top:1rem;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;min-width:calc(50% - .5rem)}"]}),t})()}]}];let Ce=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[l.g.forChild(ke)],l.g]}),t})();n.d(e,"DepositsModule",(function(){return Ve}));let Ve=(()=>{class t{}return t.\u0275mod=c.Ob({type:t}),t.\u0275inj=c.Nb({factory:function(e){return new(e||t)},imports:[[i.c,s.b,o.a,r,a.a,Ce]]}),t})()}}]);