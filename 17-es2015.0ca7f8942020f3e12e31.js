(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{vTXZ:function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),r=i("PCNd"),s=i("tyNb"),o=i("fXoL"),a=i("paXB"),c=i("7/bn"),l=i("oMXN"),b=i("EiG8"),d=i("sYmb");const u=function(){return["faq"]},f=function(){return["feature-request"]};let p=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["j-extra-settings-tabs"]],decls:5,vars:4,consts:[[1,"tabs"],["routerLinkActive","tabs__link--active","translate","",1,"p1","tabs__link",3,"routerLink"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"a",1),o.Rc(2,"SETTINGS.FAQ.TITLE"),o.Vb(),o.Wb(3,"a",1),o.Rc(4,"SETTINGS.FEATURE_REQUEST.TITLE"),o.Vb(),o.Vb()),2&t&&(o.Ab(1),o.sc("routerLink",o.wc(2,u)),o.Ab(2),o.sc("routerLink",o.wc(3,f)))},directives:[s.f,s.e,d.a],styles:[".tabs[_ngcontent-%COMP%]{display:-webkit-box;display:flex;border-bottom:1px solid #eceef1}.tabs__link[_ngcontent-%COMP%]{color:#666c72;padding:1rem 0;display:block;border-bottom:2px solid transparent;bottom:-1.5px;position:relative}.tabs__link--active[_ngcontent-%COMP%]{color:#1a1c1f;font-weight:500;border-bottom-color:#ef5630}.tabs__link[_ngcontent-%COMP%] + .tabs__link[_ngcontent-%COMP%]{margin-left:40px}"]}),t})(),h=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["j-extra-settings"]],decls:11,vars:0,consts:[[1,"row"],[1,"col-lg-10","offset-lg-1","col-xl-10","offset-xl-2"],[1,"settings"],["translate","",1,"header-title","mb-3"]],template:function(t,e){1&t&&(o.Wb(0,"j-layout-home"),o.Wb(1,"j-aside"),o.Rb(2,"j-nav-main"),o.Vb(),o.Wb(3,"j-main"),o.Wb(4,"section",0),o.Wb(5,"section",1),o.Wb(6,"section",2),o.Wb(7,"h2",3),o.Rc(8,"EXTRA_SETTINGS.TITLE"),o.Vb(),o.Rb(9,"j-extra-settings-tabs"),o.Rb(10,"router-outlet"),o.Vb(),o.Vb(),o.Vb(),o.Vb(),o.Vb())},directives:[a.a,c.a,l.a,b.a,d.a,p,s.h],styles:[".settings{padding-top:40px}.settings-info{padding:1rem;margin:2rem 0;background:#fff;border-radius:.75rem;max-width:435px}.settings-info a:hover{color:#ef5630!important}.settings-heading{font-size:1.25rem;margin:.375rem 0 1rem}"],encapsulation:2}),t})();var g=i("mrSG"),m=i("quSY"),E=i("IzEk"),v=i("tk/3"),_=i("yZrb");let S=(()=>{class t{constructor(t){this.apiService=t}getFaq(t){return Object(g.a)(this,void 0,void 0,(function*(){return this.apiService.get(`faqs/${t}`)}))}getList(){var t;return Object(g.a)(this,void 0,void 0,(function*(){const e=new v.g;let i=new v.h;const n=yield this.apiService.get("faqs",e,i,{observe:"response"});return{list:n.body,totalCount:(null===(t=n.body)||void 0===t?void 0:t.length)||0}}))}}return t.\u0275fac=function(e){return new(e||t)(o.ec(_.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var T=i("fK/r"),R=i("PGAL"),q=i("e8Ap"),w=i("Hjq/");let x=(()=>{class t{constructor(){this.isCollapsed=!1}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["j-faq-item"]],inputs:{faq:"faq",isCollapsed:"isCollapsed"},decls:9,vars:4,consts:[[1,"faq__block","faq__block--collapsible"],[3,"isCollapsed"],[1,"faq__collapse","d-flex","justify-content-between"],[1,"text-dark"],[1,"faq__arrow",3,"inlineSVG"],[1,"faq_body","text-muted"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Wb(1,"j-collapsible",1),o.Wb(2,"j-collapsible-trigger"),o.Wb(3,"div",2),o.Wb(4,"strong",3),o.Rc(5),o.Vb(),o.Rb(6,"span",4),o.Vb(),o.Vb(),o.Wb(7,"j-collapsible-body",5),o.Rc(8),o.Vb(),o.Vb(),o.Vb()),2&t&&(o.Ab(1),o.sc("isCollapsed",!1),o.Ab(4),o.Sc(e.faq.question),o.Ab(1),o.sc("inlineSVG","assets/icons/shared/dropdown.svg"),o.Ab(2),o.Tc(" ",e.faq.answer," "))},directives:[T.a,R.a,q.a,w.a],styles:[".faq__block{background:#fff;border-radius:.5rem;padding:.65rem 20px;margin:.75rem 0}.faq__block .faq__block--collapsible{padding-top:0;padding-bottom:0}.faq__arrow,.faq__block .faq__block--collapsible{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.faq__arrow{-webkit-transform:rotate(0deg);transform:rotate(0deg)}.faq__collapse{padding:.65rem 0;cursor:pointer;-webkit-box-align:center;align-items:center}.faq__body{display:block;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.j-collapsed .faq__body{padding-bottom:1rem}.j-collapsed .faq__collapse .faq__arrow{-webkit-transform:rotate(540deg);transform:rotate(540deg)}"],encapsulation:2}),t})();var y=i("xJkR");function k(t,e){1&t&&(o.Wb(0,"div",4),o.Wb(1,"strong",5),o.Rc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&t&&(o.Ab(2),o.Tc(" ",o.nc(3,1,"SHARED.LIST_LOADING_ERR_REFRESH")," "))}function L(t,e){if(1&t&&(o.Wb(0,"div",7),o.Rb(1,"j-faq-item",8),o.Vb()),2&t){const t=e.$implicit;o.sc("id",t.orderNum),o.Ab(1),o.sc("faq",t)}}function A(t,e){if(1&t&&(o.Ub(0),o.Pc(1,L,2,2,"div",6),o.Tb()),2&t){const t=o.lc();o.Ab(1),o.sc("ngForOf",t.faqList)}}const I=function(){return{height:"52px","background-color":"#ECEEF1"}};function V(t,e){1&t&&o.Rb(0,"ngx-skeleton-loader",9),2&t&&o.sc("theme",o.wc(1,I))}let C=(()=>{class t{constructor(t,e){this.route=t,this.faqService=e,this.errorText="",this.subscription=new m.a,this.orderNum=0;const i=this.route.queryParams.pipe(Object(E.a)(1)).subscribe(t=>{this.loadFaqList()});this.subscription.add(i)}ngOnDestroy(){this.subscription.unsubscribe()}loadFaqList(){return Object(g.a)(this,void 0,void 0,(function*(){this.errorText=null,this.isLoading=!0;try{const t=yield this.faqService.getList();this.faqList=t.list,this.errorText=t.totalCount>0?null:"no data",this.orderNum=parseInt(this.faqList[this.faqList.length-1].orderNum)||0}catch(t){this.errorText=t.status?t.status:"unknown error",this.faqList=[]}finally{this.isLoading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(s.a),o.Qb(S))},t.\u0275cmp=o.Kb({type:t,selectors:[["j-settings-faq"]],decls:4,vars:3,consts:[[1,"faq"],["class","alert alert-danger faq","role","alert",4,"ngIf"],[4,"ngIf"],["count","6",3,"theme",4,"ngIf"],["role","alert",1,"alert","alert-danger","faq"],[1,"d-block"],[3,"id",4,"ngFor","ngForOf"],[3,"id"],[3,"faq"],["count","6",3,"theme"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Pc(1,k,4,3,"div",1),o.Pc(2,A,2,1,"ng-container",2),o.Pc(3,V,1,2,"ngx-skeleton-loader",3),o.Vb()),2&t&&(o.Ab(1),o.sc("ngIf",e.errorText),o.Ab(1),o.sc("ngIf",e.faqList),o.Ab(1),o.sc("ngIf",e.isLoading))},directives:[n.u,n.t,x,y.a],pipes:[d.d],styles:[".faq[_ngcontent-%COMP%]{margin:2rem 0}"]}),t})();var W=i("3Pt+"),j=i("2Vo4"),O=i("tWFC"),N=i("1kSV");let M=(()=>{class t{constructor(t){this.apiService=t}create(t){return this.apiService.post("feature-requests/",t)}}return t.\u0275fac=function(e){return new(e||t)(o.ec(_.a))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var F=i("VO+5"),G=i("9odQ"),P=i("M6pS");function U(t,e){1&t&&(o.Wb(0,"div",4),o.Wb(1,"strong",5),o.Rc(2),o.mc(3,"translate"),o.Vb(),o.Vb()),2&t&&(o.Ab(2),o.Tc(" ",o.nc(3,1,"SHARED.LIST_LOADING_ERR_REFRESH")," "))}function Q(t,e){if(1&t){const t=o.Xb();o.Wb(0,"div",6),o.Wb(1,"h6",7),o.Rc(2,"SETTINGS.FEATURE_REQUEST.SUB_TITLE"),o.Vb(),o.Rb(3,"div",8),o.Wb(4,"form",9),o.Rb(5,"j-input",10),o.mc(6,"async"),o.Wb(7,"div",11),o.Wb(8,"button",12),o.ic("click",(function(e){return o.Gc(t),o.lc().create()})),o.Rc(9,"SETTINGS.FEATURE_REQUEST.SEND "),o.Vb(),o.Vb(),o.Vb(),o.Vb()}if(2&t){const t=o.lc();o.Ab(4),o.sc("formGroup",t.form),o.Ab(1),o.sc("label","SETTINGS.FEATURE_REQUEST.INPUT_LABEL")("inputExtra",o.nc(6,10,t.bodyLengthMessage$))("maxLength",t.bodyMaxLength)("formControl",t.f.description)("hasError",t.f.description.invalid&&t.isSubmitted)("errorText",t.mapMessageErrors())("isClearable",!1),o.Ab(3),o.sc("jLoading",t.isSubmitting)("disabled",t.isSubmitting||!t.form.valid)}}const D=function(){return{height:"70px","background-color":"#ECEEF1"}},$=function(){return{height:"130px","background-color":"#ECEEF1"}},H=function(){return{height:"56px",width:"200px","background-color":"#ECEEF1"}};function X(t,e){1&t&&(o.Ub(0),o.Rb(1,"ngx-skeleton-loader",13),o.Rb(2,"ngx-skeleton-loader",13),o.Wb(3,"div",11),o.Rb(4,"ngx-skeleton-loader",13),o.Vb(),o.Tb()),2&t&&(o.Ab(1),o.sc("theme",o.wc(3,D)),o.Ab(1),o.sc("theme",o.wc(4,$)),o.Ab(2),o.sc("theme",o.wc(5,H)))}var K=function(t){return t.SAVE_REQUEST_ERROR="NOTIFICATIONS.SAVE_REQUEST_ERROR",t}({});const J=[{path:"",component:h,data:{title:"EXTRA_SETTINGS.TITLE"},children:[{path:"faq",component:C},{path:"feature-request",component:(()=>{class t{constructor(t,e,i,n){this.modalService=t,this.featureRequestService=e,this.notifierService=i,this.translateService=n,this.errorText="",this.bodyMaxLength=1e3,this.bodyLengthMessage$=new j.a(`0/${this.bodyMaxLength}`),this.isSubmitted=!1,this.subscription=new m.a,this.form=new W.k({description:new W.h("",[W.H.maxLength(this.bodyMaxLength),W.H.required,W.H.pattern("(?!^\\d+$)^.+$"),this.noWhitespaceValidator])}),this.listenDescription()}noWhitespaceValidator(t){return 0!==(t.value||"").trim().length?null:{whitespace:!0}}get f(){return this.form.controls}create(){return Object(g.a)(this,void 0,void 0,(function*(){if(!this.isSubmitting&&this.prepareCreate()){this.isSubmitting=!0;try{const t={description:this.f.description.value};yield this.featureRequestService.create(t),this.isSubmitting=!1,this.showSuccessModal()}catch(t){this.showNotification(K.SAVE_REQUEST_ERROR,"error"),this.isSubmitting=!1}}}))}prepareCreate(){return this.isSubmitted=!0,!this.form.invalid}ngAfterViewInit(){const t=this.form.valueChanges.subscribe(t=>{this.isSubmitted=!1});this.subscription.add(t)}ngOnDestroy(){this.subscription.unsubscribe()}listenDescription(){this.f.description.valueChanges.subscribe(t=>{this.bodyLengthMessage$.next(`${t.length}/${this.bodyMaxLength}`)})}showSuccessModal(){return Object(g.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(O.b,{backdropClass:"backdrop_light",windowClass:"modal_light modal_sm",backdrop:"static",centered:!0});try{yield t.result,this.form.setValue({description:""})}catch(e){}}))}showNotification(t,e="default"){const i=this.mapTranslate(t),n=this.translateService.instant(i);this.notifierService.notify(e,n)}mapTranslate(t){return`SETTINGS.FEATURE_REQUEST.${t}`}mapMessageErrors(){return this.f.description.errors?this.f.description.errors.maxlength?"ERRORS.MAX_LENGTH":void 0:null}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(N.q),o.Qb(M),o.Qb(F.c),o.Qb(d.e))},t.\u0275cmp=o.Kb({type:t,selectors:[["j-settings-feature-request"]],decls:4,vars:3,consts:[[1,"feature-request"],["class","alert alert-danger faq","role","alert",4,"ngIf"],["class","function-form",4,"ngIf"],[4,"ngIf"],["role","alert",1,"alert","alert-danger","faq"],[1,"d-block"],[1,"function-form"],["translate","",1,"settings-heading"],["translate","SETTINGS.FEATURE_REQUEST.DESCRIPTION",1,"p2","mb-4"],[3,"formGroup"],["type","textarea","inputClass","j-input--medium-textarea",3,"label","inputExtra","maxLength","formControl","hasError","errorText","isClearable"],[1,"d-flex","justify-content-end"],["translate","","type","submit",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled","click"],[3,"theme"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Pc(1,U,4,3,"div",1),o.Pc(2,Q,10,12,"div",2),o.Pc(3,X,5,6,"ng-container",3),o.Vb()),2&t&&(o.Ab(1),o.sc("ngIf",e.errorText),o.Ab(1),o.sc("ngIf",!e.isLoading),o.Ab(1),o.sc("ngIf",e.isLoading))},directives:[n.u,d.a,W.J,W.u,W.l,G.b,W.t,W.i,P.a,y.a],pipes:[d.d,n.b],styles:[".feature-request[_ngcontent-%COMP%]{margin:2rem 0;width:60%}"]}),t})()},{path:"**",redirectTo:"faq"}]}];let B=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[s.g.forChild(J)],s.g]}),t})();i.d(e,"ExtraSettingsModule",(function(){return z}));let z=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[n.c,r.a,B,W.n,W.D]]}),t})()}}]);