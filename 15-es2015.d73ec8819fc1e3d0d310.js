(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{Yj9t:function(t,e,i){"use strict";i.r(e);var n=i("ofXK"),s=i("tyNb"),r=i("3Pt+"),o=i("tmjD"),a=i("PCNd"),c=i("mrSG"),h=i("quSY"),u=i("lJxs"),d=i("p6Hd"),b=i("fXoL"),l=i("qXBG"),p=i("7foZ"),m=i("VO+5"),T=i("7/bn"),g=i("ZF+8"),v=i("iQ9M"),E=i("mR7B"),f=i("VnnJ"),R=i("sYmb"),S=i("3MRA"),y=i("ZVDf"),A=i("yy4r"),I=i("M6pS"),C=i("zdqJ");const O=["phoneInput"],k=["passwordInput"],L=["registerButton"];let w=(()=>{class t{constructor(t,e,i,n,s,o,a){this.maskedService=t,this.maskPipe=e,this.tourService=i,this.route=n,this.companyService=s,this.translateService=o,this.dictionariesService=a,this.isSubmitted=!1,this.isPhoneSubmitted=!1,this.PHONE=localStorage.getItem("phone")?localStorage.getItem("phone"):"",this.PASSWORD="",this.passwordRegExp=/[^ ]/,this.passwordPasteRegExp=/[ ]/,this.countryCode={code:"+7",country:this.translateService.instant(`COUNTRIES.${v.b.KAZAKHSTAN}`),id:v.b.KAZAKHSTAN,countryCode:v.c.KAZAKHSTAN},this.submitted=new b.n,this.subscription=new h.a,this.isFromAtf=!1,this.isTourShown=JSON.parse(localStorage.getItem("isLoginStepShown"))||!1;const c=this.route.queryParams.subscribe(t=>{this.queryParams=t,this.isFromAtf=this.companyService.isFromAtf(t),this.startLoginTour()});this.loginForm=new r.k({prefix:new r.h(this.countryCode.code,r.H.required),phone:new r.h(this.PHONE,r.H.required),password:new r.h(this.PASSWORD,r.H.required)});const u=this.loginForm.valueChanges.subscribe(()=>{this.isSubmitted=!1,this.isPhoneSubmitted=!1});this.subscription.add(c),this.subscription.add(u)}ngOnInit(){this.fetchCountryCodes()}fetchCountryCodes(){return Object(c.a)(this,void 0,void 0,(function*(){try{yield this.dictionariesService.fetchCountryCodesDictionary().then(t=>{this.countryCodes=t.map(t=>({id:t.id,code:t.value.description,country:t.value.name,countryCode:t.value.code}))})}catch(t){}}))}triggerErrorAnimation(){this.passwordInput.triggerHelperAnimation()}ngOnDestroy(){this.subscription.unsubscribe()}ngAfterViewInit(){this.loginForm.controls.phone.valid?this.passwordInput.focus():this.phoneInput.focus(),this.startLoginTour()}ngOnChanges(t){var e;(null===(e=t.passwordError)||void 0===e?void 0:e.currentValue)&&(this.passwordError=t.passwordError.currentValue)}onTabPress(t){t.preventDefault(),this.isPhoneSubmitted=!0,this.f.phone.valid&&this.passwordInput.focus()}onSubmit(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.isSubmitted=!0,this.loginForm.invalid)return void(this.loginForm.controls.phone.errors?this.loginError="ERRORS.NOT_ENOUGH_SYMBOLS":this.loginForm.controls.password.errors&&(this.passwordError="ERRORS.ENTER_PASSWORD"));const t=this.maskedService.getUnmaskedPhone(this.f.phone.value);this.submitted.emit({phone:t,password:this.f.password.value,countryCode:this.countryCode})}))}get f(){return this.loginForm.controls}startLoginTour(){this.isTourShown||(this.isTourShown=!0,localStorage.setItem("isLoginStepShown",JSON.stringify(!0)),setTimeout(()=>{this.tourService.startTour(g.e.AUTH,{skipAuthorization:!0})},0))}onCountrySelected(t){this.countryCode=t}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(E.a),b.Qb(o.b),b.Qb(g.g),b.Qb(s.a),b.Qb(f.a),b.Qb(R.e),b.Qb(g.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-login-phone"]],viewQuery:function(t,e){var i;1&t&&(b.Yc(O,!0),b.Yc(k,!0),b.Yc(L,!0)),2&t&&(b.Ec(i=b.jc())&&(e.phoneInput=i.first),b.Ec(i=b.jc())&&(e.passwordInput=i.first),b.Ec(i=b.jc())&&(e.registerButton=i.first))},inputs:{isLoading:"isLoading",phone:"phone",passwordError:"passwordError",loginError:"loginError",prefix:"prefix"},outputs:{submitted:"submitted"},features:[b.yb()],decls:21,vars:22,consts:[["translate","",1,"light","mb-3","mt-0"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"phone-input"],["formControlName","prefix",3,"countryCode","countryCodes","countrySelected","keydown.Tab"],["phonePrefixInput",""],[3,"formControl","hasError","errorText","countryCode","countryCodes","countrySelected","keydown.Tab"],["phoneInput",""],[3,"regexStr","pasteRegexStr","hasCapsLockCheck","hasCyrillicCheck","isAuth","formControl","hasError","errorText"],["passwordInput",""],[1,"auth-submit"],[1,"auth-submit__button"],["translate","","type","submit","routerLink","/jmart/products/main",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled"],["translate","","routerLink","/auth/register","queryParamsHandling","merge","jTour","AUTH.REGISTER","jTourPosition","right",1,"btn","btn-static","btn-link",3,"disabled"]],template:function(t,e){1&t&&(b.Wb(0,"article"),b.Wb(1,"h3",0),b.Tc(2,"AUTH.LOGIN_TITLE"),b.Vb(),b.Wb(3,"p"),b.Tc(4),b.nc(5,"translate"),b.Vb(),b.Vb(),b.Wb(6,"form",1),b.ic("ngSubmit",(function(t){return e.onSubmit()})),b.Wb(7,"div",2),b.Wb(8,"j-phone-prefix-input",3,4),b.ic("countrySelected",(function(t){return e.onCountrySelected(t)}))("keydown.Tab",(function(t){return e.onTabPress(t)})),b.Vb(),b.Wb(10,"j-phone-input",5,6),b.ic("countrySelected",(function(t){return e.onCountrySelected(t)}))("keydown.Tab",(function(t){return e.onTabPress(t)})),b.Vb(),b.Vb(),b.Rb(12,"j-password-input",7,8),b.Vb(),b.Wb(14,"div",9),b.Wb(15,"div",10),b.Wb(16,"button",11),b.Tc(17,"AUTH.LOGIN"),b.Vb(),b.Vb(),b.Wb(18,"div",10),b.Wb(19,"button",12),b.Tc(20,"AUTH.REGISTER"),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Ab(4),b.Uc(b.oc(5,20,e.isFromAtf?"AUTH.LOGIN_SUBTITLE_ATF":"AUTH.LOGIN_SUBTITLE")),b.Ab(2),b.uc("formGroup",e.loginForm),b.Ab(2),b.uc("countryCode",e.countryCode)("countryCodes",e.countryCodes),b.Ab(2),b.uc("formControl",e.f.phone)("hasError",e.loginError||e.f.phone.errors&&(e.isSubmitted||e.isPhoneSubmitted))("errorText",e.loginError)("countryCode",e.countryCode)("countryCodes",e.countryCodes),b.Ab(2),b.uc("regexStr",e.passwordRegExp)("pasteRegexStr",e.passwordPasteRegExp)("hasCapsLockCheck",!0)("hasCyrillicCheck",!0)("isAuth",!e.isLoading)("formControl",e.f.password)("hasError",e.passwordError||e.isSubmitted&&e.f.password.errors)("errorText",e.passwordError),b.Ab(4),b.uc("jLoading",e.isLoading)("disabled",e.isLoading),b.Ab(3),b.uc("disabled",e.isLoading))},directives:[R.a,r.J,r.u,r.l,S.a,r.t,r.j,y.a,r.i,A.a,s.d,I.a,C.a],pipes:[R.d],styles:[".phone-input[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}j-phone-input[_ngcontent-%COMP%]{width:-moz-available;width:-webkit-fill-available;width:stretch}"]}),t})();var N=i("sCra"),V=i("fGuG"),D=i("yZrb"),j=i("TwVa"),P=i("1ua0"),W=i("Kcpt"),H=i("2FF4"),U=i("0jn5"),_=i("4zJ+");function M(t,e){if(1&t){const t=b.Xb();b.Wb(0,"a",4),b.ic("click",(function(e){return b.Ic(t),b.mc().navigateToPhone(e)})),b.Rb(1,"j-icon",5),b.Wb(2,"strong",6),b.Tc(3,"SHARED.BACK"),b.Vb(),b.Vb()}2&t&&(b.Ab(1),b.uc("isStroke",!0))}function F(t,e){if(1&t){const t=b.Xb();b.Wb(0,"j-sms",7),b.ic("loaded",(function(e){return b.Ic(t),b.mc().onSmsLoaded()}))("otpAuthRequested",(function(e){return b.Ic(t),b.mc().changeCodeRequestMethod(e)}))("submitted",(function(e){return b.Ic(t),b.mc().onSubmit(e)})),b.Vb()}if(2&t){const t=b.mc();b.uc("phone",t.phone)("countryCode",t.countryCode)("headers",t.headerParams)("isAuthAction",!0)}}function x(t,e){if(1&t){const t=b.Xb();b.Wb(0,"j-otp",8),b.ic("loaded",(function(e){return b.Ic(t),b.mc().onSmsLoaded()}))("smsAuthRequested",(function(e){return b.Ic(t),b.mc().changeCodeRequestMethod(e)}))("submitted",(function(e){return b.Ic(t),b.mc().onSubmit(e)})),b.Vb()}if(2&t){const t=b.mc();b.uc("phone",t.phone)("isAuthAction",!0)}}function K(t,e){1&t&&(b.Wb(0,"div",9),b.Rb(1,"j-animated-loading"),b.Vb())}let G=(()=>{class t{constructor(){this.isReady=!1,this.preferredSignatureType=localStorage.getItem("preferredSignatureType"),this.tokenType=j.q,this.submitted=new b.n,this.closed=new b.n,this.headerParams={smsHeader:D.c.AUTHORIZATION},this.preferredSignatureType=localStorage.getItem("preferredSignatureType")||P.a.SMS}onSmsLoaded(){this.isReady=!0}onSubmit(t){this.submitted.emit(t)}navigateToPhone(t=null){var e;null===(e=t)||void 0===e||e.preventDefault(),this.closed.emit()}changeCodeRequestMethod(t){localStorage.setItem("preferredSignatureType",t===j.q.OTP?P.a.OTP:P.a.SMS),this.preferredSignatureType=t}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Kb({type:t,selectors:[["j-login-sms"]],inputs:{isLoading:"isLoading",phone:"phone",countryCode:"countryCode"},outputs:{submitted:"submitted",closed:"closed"},decls:4,vars:4,consts:[["href","#","class","j-link",3,"click",4,"ngIf"],[3,"phone","countryCode","headers","isAuthAction","loaded","otpAuthRequested","submitted",4,"ngIf"],[3,"phone","isAuthAction","loaded","smsAuthRequested","submitted",4,"ngIf"],["class","spinner-wrap",4,"ngIf"],["href","#",1,"j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],[3,"phone","countryCode","headers","isAuthAction","loaded","otpAuthRequested","submitted"],[3,"phone","isAuthAction","loaded","smsAuthRequested","submitted"],[1,"spinner-wrap"]],template:function(t,e){1&t&&(b.Rc(0,M,4,1,"a",0),b.Rc(1,F,1,4,"j-sms",1),b.Rc(2,x,1,2,"j-otp",2),b.Rc(3,K,2,0,"div",3)),2&t&&(b.uc("ngIf",e.isReady),b.Ab(1),b.uc("ngIf","SMS"===e.preferredSignatureType),b.Ab(1),b.uc("ngIf","OTP"===e.preferredSignatureType),b.Ab(1),b.uc("ngIf",!e.isReady&&e.preferredSignatureType!==e.tokenType.OTP))},directives:[n.u,W.a,R.a,H.a,U.a,_.a],styles:[".spinner-wrap[_ngcontent-%COMP%]{min-height:280px;position:relative}"]}),t})();const Q=["loginPhone"];function B(t,e){if(1&t){const t=b.Xb();b.Wb(0,"j-login-sms",11),b.ic("closed",(function(e){return b.Ic(t),b.mc().onSmsClose()}))("submitted",(function(e){return b.Ic(t),b.mc().onSmsSubmit(e)})),b.Vb()}if(2&t){const t=b.mc();b.uc("phone",t.phone)("countryCode",t.countryCode)("isLoading",t.isLoading)}}function q(t,e){1&t&&(b.Wb(0,"div",12),b.Rb(1,"j-animated-loading"),b.Vb())}var X=function(t){return t.PHONE="phone",t.SMS="sms",t.LOADING="loading",t}({});let J=(()=>{class t{constructor(t,e,i,n,s){this.auth=t,this.tokenService=e,this.route=i,this.router=n,this.notifierService=s,this.isLoading=!1,this.steps=X,this.currentStep=this.steps.PHONE,this.phoneError="",this.subscription=new h.a,this.subscription.add(this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{t.phone&&(this.phone=t.phone),t.error&&(this.phoneError=t.error)}))}ngOnDestroy(){this.subscription.unsubscribe()}onSmsClose(){this.navigateToPhone(),this.phoneError=""}onPhoneSubmit(t){this.loginForm=t,this.phone="+"+this.loginForm.phone,this.countryCode=this.loginForm.countryCode;try{const t=this.tokenService.getDeviceToken(this.loginForm.password);localStorage.setItem("countryCode",JSON.stringify(this.countryCode)),t?this.login():this.navigateToSms()}catch(e){this.navigateToSms()}}onSmsSubmit(t){return Object(c.a)(this,void 0,void 0,(function*(){this.auth.setSmsToken(t),this.currentStep=this.steps.LOADING;try{const e=yield this.auth.requestDevice(this.phone,t.type);this.tokenService.setDeviceToken(e.signature,this.loginForm.password),this.login()}catch(e){switch(this.navigateToPhone(),e.code){case d.b.DEVICE_TOKEN_INVALID:case d.b.RESOURCE_NOT_FOUND:case d.b.AUTHORIZATION_ERROR:case d.b.INVALID_GRANT:this.phoneError="ERRORS.WRONG_CREDENTIALS";break;case d.b.USER_BLOCKED:case d.b.RESOURCE_BLOCKED:this.phoneError="ERRORS.ACCOUNT_BLOCKED";break;default:this.phoneError=e.description}}}))}login(){return Object(c.a)(this,void 0,void 0,(function*(){this.isLoading=!0,this.phoneError="";try{yield this.auth.login("+"+this.loginForm.phone,this.loginForm.password),this.router.navigateByUrl("/"),this.notifierService.hideAll()}catch(t){if(this.navigateToPhone(),t.status)switch(t.code){case d.b.RESOURCE_NOT_FOUND:case d.b.AUTHORIZATION_ERROR:case d.b.INVALID_GRANT:this.phoneError="ERRORS.WRONG_CREDENTIALS";break;case d.b.RESOURCE_BLOCKED:this.tokenService.clearDeviceToken(),this.phoneError="ERRORS.ACCOUNT_BLOCKED";break;case d.b.DEVICE_NOT_AUTHORIZED:case d.b.DEVICE_TOKEN_INVALID:case d.b.TOKEN_EXPIRED:this.navigateToSms();break;default:this.phoneError=t.description}else this.phoneError="ERRORS.API_UNAVAILABLE";this.loginPhone.triggerErrorAnimation(),this.isLoading=!1}}))}navigateToSms(){this.currentStep=X.SMS}navigateToPhone(){this.currentStep=X.PHONE}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(l.a),b.Qb(p.a),b.Qb(s.a),b.Qb(s.c),b.Qb(m.c))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-login"]],viewQuery:function(t,e){var i;1&t&&b.Yc(Q,!0),2&t&&b.Ec(i=b.jc())&&(e.loginPhone=i.first)},decls:13,vars:7,consts:[[1,"auth-wrap"],[1,"d-sm-none",3,"isUserShown"],[1,"login-wrap"],[1,"login"],[1,"mb-5","d-none","d-sm-flex","justify-content-between"],["width","170px","src","/assets/img/logo.svg","alt","Jusan bank"],[1,"login-steps"],[3,"hidden","phone","isLoading","passwordError","submitted"],["loginPhone",""],[3,"phone","countryCode","isLoading","closed","submitted",4,"ngIf"],["class","spinner-wrap",4,"ngIf"],[3,"phone","countryCode","isLoading","closed","submitted"],[1,"spinner-wrap"]],template:function(t,e){1&t&&(b.Wb(0,"section",0),b.Rb(1,"j-aside",1),b.Wb(2,"div",2),b.Wb(3,"div",3),b.Wb(4,"div",4),b.Rb(5,"img",5),b.Vb(),b.Wb(6,"section",6),b.Wb(7,"j-login-phone",7,8),b.ic("submitted",(function(t){return e.onPhoneSubmit(t)})),b.Vb(),b.Rc(9,B,1,3,"j-login-sms",9),b.Rc(10,q,2,0,"div",10),b.Vb(),b.Vb(),b.Vb(),b.Rb(11,"j-lang-list"),b.Rb(12,"j-copyright"),b.Vb()),2&t&&(b.Ab(1),b.uc("isUserShown",!1),b.Ab(6),b.uc("hidden",e.currentStep!=e.steps.PHONE)("phone",e.phone)("isLoading",e.isLoading)("passwordError",e.phoneError),b.Ab(2),b.uc("ngIf",e.currentStep==e.steps.SMS),b.Ab(1),b.uc("ngIf",e.currentStep==e.steps.LOADING))},directives:[T.a,w,n.u,N.a,V.a,G,_.a],styles:[".login[_ngcontent-%COMP%]{background:#f6f7f8;width:100%;padding:1rem}@media(min-width:670px){.login[_ngcontent-%COMP%]{border-radius:2.5rem;padding:3.5rem}}.login-wrap[_ngcontent-%COMP%]{max-width:546px;margin:auto;width:100%;padding-top:1.5rem;padding-bottom:1.5rem}@media(min-width:1920px){.login-wrap[_ngcontent-%COMP%]{max-width:600px}}.spinner-wrap[_ngcontent-%COMP%]{min-height:280px;position:relative}"]}),t})();var Z=i("paXB"),Y=i("Zgqj"),z=i("EiG8");let $=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Kb({type:t,selectors:[["j-register"]],decls:8,vars:2,consts:[[3,"isUserShown"],[3,"isCentered"],[1,"row"],[1,"col-sm-10","col-md-7","offset-sm-1","col-lg-5","offset-lg-1","col-xl-4","offset-xl-1"],[1,"auth-form"]],template:function(t,e){1&t&&(b.Wb(0,"j-layout-home"),b.Wb(1,"j-aside",0),b.Rb(2,"j-nav-auth"),b.Vb(),b.Wb(3,"j-main",1),b.Wb(4,"div",2),b.Wb(5,"div",3),b.Wb(6,"div",4),b.Rb(7,"router-outlet"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Ab(1),b.uc("isUserShown",!1),b.Ab(2),b.uc("isCentered",!0))},directives:[Z.a,T.a,Y.a,z.a,s.h],styles:[""]}),t})();var tt=i("1kSV");let et=(()=>{class t{constructor(t){this.modal=t}dismissModal(){this.modal.dismiss()}closeModal(){this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(tt.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-can-register"]],decls:14,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"],["translate","","type","button",1,"btn","btn-static","btn-link",3,"click"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"button",1),b.ic("click",(function(t){return e.dismissModal()})),b.Rb(2,"img",2),b.nc(3,"translate"),b.Vb(),b.Vb(),b.Wb(4,"div",3),b.Wb(5,"h3",4),b.Tc(6,"AUTH.CAN_REGISTER.TITLE"),b.Vb(),b.Wb(7,"p",5),b.Tc(8,"AUTH.CAN_REGISTER.DESCRIPTION"),b.Vb(),b.Vb(),b.Wb(9,"div",6),b.Wb(10,"button",7),b.ic("click",(function(t){return e.closeModal()})),b.Tc(11,"AUTH.REGISTER"),b.Vb(),b.Wb(12,"button",8),b.ic("click",(function(t){return e.dismissModal()})),b.Tc(13,"SHARED.CANCEL"),b.Vb(),b.Vb()),2&t&&(b.Ab(2),b.vc("alt",b.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})(),it=(()=>{class t{constructor(t){this.modal=t}dismissModal(){this.modal.dismiss()}closeModal(t){this.modal.close(t)}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(tt.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-can-restore"]],decls:12,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"button",1),b.ic("click",(function(t){return e.dismissModal()})),b.Rb(2,"img",2),b.nc(3,"translate"),b.Vb(),b.Vb(),b.Wb(4,"div",3),b.Wb(5,"h3",4),b.Tc(6,"AUTH.CAN_RESTORE.TITLE"),b.Vb(),b.Wb(7,"p",5),b.Tc(8,"AUTH.CAN_RESTORE.DESCRIPTION"),b.Vb(),b.Vb(),b.Wb(9,"div",6),b.Wb(10,"button",7),b.ic("click",(function(t){return e.closeModal("login")})),b.Tc(11,"AUTH.LOGIN"),b.Vb(),b.Vb()),2&t&&(b.Ab(2),b.vc("alt",b.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})(),nt=(()=>{class t{constructor(t){this.modal=t}dismissModal(){this.modal.dismiss()}closeModal(t){this.modal.close(t)}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(tt.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-contact-modal"]],decls:14,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","href","https://jysanbank.kz/ru/page/contacts","target","_blank",1,"btn","btn-static","btn-primary"],["translate","","type","button",1,"btn","btn-link","d-none","d-sm-block",3,"click"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"button",1),b.ic("click",(function(t){return e.dismissModal()})),b.Rb(2,"img",2),b.nc(3,"translate"),b.Vb(),b.Vb(),b.Wb(4,"div",3),b.Wb(5,"h3",4),b.Tc(6,"AUTH.CONTACT.TITLE"),b.Vb(),b.Wb(7,"p",5),b.Tc(8,"AUTH.CONTACT.DESCRIPTION "),b.Vb(),b.Vb(),b.Wb(9,"div",6),b.Wb(10,"a",7),b.Tc(11,"AUTH.CONTACT.LINK"),b.Vb(),b.Wb(12,"button",8),b.ic("click",(function(t){return e.dismissModal()})),b.Tc(13,"SHARED.CANCEL"),b.Vb(),b.Vb()),2&t&&(b.Ab(2),b.vc("alt",b.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})(),st=(()=>{class t{constructor(t){this.modal=t}closeModal(){this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(tt.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-expired"]],decls:12,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"button",1),b.ic("click",(function(t){return e.closeModal()})),b.Rb(2,"img",2),b.nc(3,"translate"),b.Vb(),b.Vb(),b.Wb(4,"div",3),b.Wb(5,"h3",4),b.Tc(6,"AUTH.EXPIRED.TITLE"),b.Vb(),b.Wb(7,"p",5),b.Tc(8,"AUTH.EXPIRED.DESCRIPTION"),b.Vb(),b.Vb(),b.Wb(9,"div",6),b.Wb(10,"button",7),b.ic("click",(function(t){return e.closeModal()})),b.Tc(11,"SHARED.CLOSE"),b.Vb(),b.Vb()),2&t&&(b.Ab(2),b.vc("alt",b.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})(),rt=(()=>{class t{constructor(t){this.modal=t}closeModal(){this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(tt.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-invalid-phone"]],decls:12,vars:3,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"m-0"],[1,"modal-footer","j-modal-footer"],["translate","","type","button",1,"btn","btn-static","btn-primary",3,"click"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"button",1),b.ic("click",(function(t){return e.closeModal()})),b.Rb(2,"img",2),b.nc(3,"translate"),b.Vb(),b.Vb(),b.Wb(4,"div",3),b.Wb(5,"h3",4),b.Tc(6,"AUTH.INVALID_PHONE.TITLE"),b.Vb(),b.Wb(7,"p",5),b.Tc(8,"AUTH.INVALID_PHONE.DESCRIPTION"),b.Vb(),b.Vb(),b.Wb(9,"div",6),b.Wb(10,"button",7),b.ic("click",(function(t){return e.closeModal()})),b.Tc(11,"SHARED.OK"),b.Vb(),b.Vb()),2&t&&(b.Ab(2),b.vc("alt",b.oc(3,1,"SHARED.CLOSE")))},directives:[R.a],pipes:[R.d],styles:[""]}),t})();var ot=i("bsP8");function at(t){const e=12==t.value.length;if(e)return null;let i={};return e||(i.length=!0),{iin:i}}var ct=i("tkTF");const ht=["iinInput"];let ut=(()=>{class t{constructor(t){this.authService=t,this.IIN="",this.submitted=new b.n,this.subs=new h.a,this.openIinForm=new r.k({iin:new r.h(this.IIN,[r.H.required,at])});const e=this.openIinForm.valueChanges.subscribe(t=>{this.isSubmitted=!1,this.errorText=""});this.subs.add(e)}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){this.iinInput.focus()}onSubmit(){return Object(c.a)(this,void 0,void 0,(function*(){this.isSubmitted=!0,this.openIinForm.valid?(this.isLoading=!0,this.submitted.emit({iin:this.iin})):this.validateIin(this.f.iin.errors)}))}get f(){return this.openIinForm.controls}get iin(){return this.f.iin.value}validateIin(t){t&&t.iin&&(t.iin.length?this.errorText="ERRORS.IIN_LENGTH":t.iin.date&&(this.errorText="ERRORS.IIN_DATE"))}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(l.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-auth-iin"]],viewQuery:function(t,e){var i;1&t&&b.Yc(ht,!0),2&t&&b.Ec(i=b.jc())&&(e.iinInput=i.first)},outputs:{submitted:"submitted"},decls:9,vars:6,consts:[[3,"formGroup"],[1,"form-group"],[3,"formControl","hasError","errorText"],["iinInput",""],[1,"auth-submit"],["translate","","type","submit",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled","click"],["translate","","href","#","routerLink","/auth/login",1,"btn","btn-static","btn-link"]],template:function(t,e){1&t&&(b.Wb(0,"form",0),b.Wb(1,"div",1),b.Rb(2,"j-iin-input",2,3),b.Vb(),b.Wb(4,"div",4),b.Wb(5,"button",5),b.ic("click",(function(t){return e.onSubmit()})),b.Tc(6,"SHARED.CONTINUE"),b.Vb(),b.Wb(7,"a",6),b.Tc(8,"AUTH.LOGIN"),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.uc("formGroup",e.openIinForm),b.Ab(2),b.uc("formControl",e.f.iin)("hasError",e.f.iin.errors&&e.isSubmitted)("errorText",e.errorText),b.Ab(3),b.uc("jLoading",e.isLoading)("disabled",e.isLoading))},directives:[r.J,r.u,r.l,ct.a,r.t,r.i,R.a,I.a,s.f],styles:[""]}),t})();const dt={backdropClass:"backdrop_light",windowClass:"modal_light modal-auth",size:"md",centered:!0};let bt=(()=>{class t{constructor(t,e,i,n,s){this.router=t,this.route=e,this.navService=i,this.modalService=n,this.companyService=s,this.subs=new h.a,this.isFromAtf=!1,this.navService.triggerRegisterError("iin",!1),this.navService.triggerRegisterError("no-account",!1),this.navService.triggerRegisterError("no-email",!1),this.navService.triggerRegisterError("user-blocked",!1),this.navService.triggerRegisterError("phone-not-match",!1);const r=this.route.data.subscribe(t=>{this.title=t.title,this.authType=t.action}),o=this.route.queryParams.subscribe(t=>{this.isFromAtf=this.companyService.isFromAtf(t)});this.subs.add(r),this.subs.add(o)}ngOnDestroy(){this.subs.unsubscribe()}onSubmit(t){this.navigateToPhone(t.iin)}handleCheckIin(t,e){return Object(c.a)(this,void 0,void 0,(function*(){switch(t){case v.e.BLOCKED:this.navigateToUserBlocked();break;case v.e.DOES_NOT_EXIST:this.navigateToNoAccount();break;case v.e.INCORRECT_DATA:case v.e.INVALID_DATA:this.navigateToNoEmail();break;case v.e.ALREADY_REGISTERED:this.handleAlreadyRegistered(e);break;case v.e.CAN_REGISTER:this.handleCanRegister(e)}}))}handleAlreadyRegistered(t){switch(this.authType){case v.a.RESTORE:this.navigateToPhone(t);break;case v.a.REGISTER:this.showCanRestoreModal(t)}}showCanRegisterModal(t){return Object(c.a)(this,void 0,void 0,(function*(){const e=this.modalService.open(et,dt);try{yield e.result,this.navigateToRegisterPhone(t)}catch(i){}}))}showCanRestoreModal(t){return Object(c.a)(this,void 0,void 0,(function*(){const e=this.modalService.open(it,dt);try{const i=yield e.result;"restore"==i?this.navigateToRestorePhone(t):"login"==i&&this.navigateToLogin()}catch(i){}}))}handleCanRegister(t){switch(this.authType){case v.a.REGISTER:this.navigateToPhone(t);break;case v.a.RESTORE:this.showCanRegisterModal(t)}}navigateToPhone(t,e=""){this.router.navigate([`${e}phone`],{relativeTo:this.route.parent,state:{iin:t}})}navigateToRegisterPhone(t){this.navigateToPhone(t,"../register/")}navigateToRestorePhone(t){this.navigateToPhone(t,"../restore/")}navigateToLogin(){this.router.navigate(["../login"],{relativeTo:this.route.parent})}navigateToNoAccount(){this.router.navigate(["no-account"],{relativeTo:this.route.parent})}navigateToNoEmail(){this.router.navigate(["no-email"],{relativeTo:this.route.parent})}navigateToUserBlocked(){this.router.navigate(["user-blocked"],{relativeTo:this.route.parent})}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(s.c),b.Qb(s.a),b.Qb(ot.a),b.Qb(tt.q),b.Qb(f.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-register-iin"]],decls:7,vars:4,consts:[["translate","",1,"auth-heading","light","mb-3","mt-0"],[3,"submitted"]],template:function(t,e){1&t&&(b.Wb(0,"article"),b.Wb(1,"h3",0),b.Tc(2),b.Vb(),b.Wb(3,"p"),b.Tc(4),b.nc(5,"translate"),b.Vb(),b.Vb(),b.Wb(6,"j-auth-iin",1),b.ic("submitted",(function(t){return e.onSubmit(t)})),b.Vb()),2&t&&(b.Ab(2),b.Uc(e.title),b.Ab(2),b.Uc(b.oc(5,2,e.isFromAtf?"AUTH.REGISTER_SUBTITLE_ATF":"AUTH.REGISTER_SUBTITLE")))},directives:[R.a,ut],pipes:[R.d],styles:[""]}),t})();const lt=["phoneInput"];let pt=(()=>{class t{constructor(t,e,i,n,s,o,a,c,d){this.router=t,this.route=e,this.maskedService=i,this.maskPipe=n,this.navService=s,this.authService=o,this.modalService=a,this.translateService=c,this.dictionariesService=d,this.PHONE="",this.hasNoAccount=!1,this.countryCode={code:"+7",country:this.translateService.instant(`COUNTRIES.${v.b.KAZAKHSTAN}`),id:v.b.KAZAKHSTAN,countryCode:v.c.KAZAKHSTAN},this.subs=new h.a,this.registerPhoneForm=new r.k({phone:new r.h(this.PHONE,r.H.required)}),this.navService.triggerRegisterError("phone",!1),this.navService.triggerRegisterError("no-account",!1),this.navService.triggerRegisterError("no-email",!1),this.navService.triggerRegisterError("user-blocked",!1),this.navService.triggerRegisterError("phone-not-match",!1);const b=this.registerPhoneForm.valueChanges.subscribe(()=>{this.isSubmitted=!1}),l=this.route.data.subscribe(t=>{this.title=t.title,this.authType=t.action}),p=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{t.iin?this.iin=t.iin:this.navigateToIin(),t.countryCode&&(this.countryCode=t.countryCode,t.phone&&this.f.phone.setValue(t.phone))});this.subs.add(b),this.subs.add(l),this.subs.add(p)}ngOnInit(){this.fetchCountryCodes()}ngOnDestroy(){this.subs.unsubscribe()}onEnter(){this.phoneInput.blur(),this.onSubmit()}focus(){this.phoneInput.focus()}navigateFromModal(t){this.router.navigate([`/auth/${t}/sms`],{state:{phone:this.phone,iin:this.iin}})}fetchCountryCodes(){return Object(c.a)(this,void 0,void 0,(function*(){try{yield this.dictionariesService.fetchCountryCodesDictionary().then(t=>{this.countryCodes=t.map(t=>({id:t.id,code:t.value.description,country:t.value.name,countryCode:t.value.code}))})}catch(t){}}))}onSubmit(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.isSubmitted=!0,this.registerPhoneForm.valid){this.isLoading=!0;try{this.phone="+"+this.maskedService.getUnmaskedPhone(this.f.phone.value),yield this.authService.checkPhone(this.phone),this.navigateToSms()}catch(t){switch(t.code){case d.b.INVALID_PHONE_FORMAT:yield this.showInvalidPhoneFormatModal();break;default:this.errorText=t.description}}finally{this.isLoading=!1}}else this.errorText="ERRORS.NOT_ENOUGH_SYMBOLS"}))}get f(){return this.registerPhoneForm.controls}showInvalidPhoneFormatModal(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(rt,{centered:!0});try{yield t.result}catch(e){}finally{this.phoneInput.focus()}}))}navigateToSms(){this.router.navigate(["sms"],{relativeTo:this.route.parent,state:{phone:this.phone,iin:this.iin,countryCode:this.countryCode}})}navigateToIin(){this.router.navigate(["iin"],{relativeTo:this.route.parent})}onCountrySelected(t){this.countryCode=t}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(s.c),b.Qb(s.a),b.Qb(E.a),b.Qb(o.b),b.Qb(ot.a),b.Qb(l.a),b.Qb(tt.q),b.Qb(R.e),b.Qb(g.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-register-phone"]],viewQuery:function(t,e){var i;1&t&&b.Yc(lt,!0),2&t&&b.Ec(i=b.jc())&&(e.phoneInput=i.first)},hostBindings:function(t,e){1&t&&b.ic("keyup.enter",(function(t){return e.onEnter()}))},decls:18,vars:13,consts:[["routerLink","../iin",1,"auth-backlink","j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"auth-heading","light","mb-3","mt-0"],[3,"formGroup"],[1,"phone-block"],[3,"countryCodes","countryCode","countrySelected"],["phonePrefixInput",""],[3,"autofocus","formControl","hasError","errorText","countryCodes","countryCode","countrySelected"],["phoneInput",""],[1,"auth-submit"],["translate","","type","button",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled","click"]],template:function(t,e){1&t&&(b.Wb(0,"a",0),b.Rb(1,"j-icon",1),b.Wb(2,"span",2),b.Tc(3,"SHARED.IIN"),b.Vb(),b.Vb(),b.Wb(4,"article"),b.Wb(5,"h3",3),b.Tc(6),b.Vb(),b.Wb(7,"p",2),b.Tc(8,"AUTH.PHONE.DESCRIPTION"),b.Vb(),b.Vb(),b.Wb(9,"form",4),b.Wb(10,"div",5),b.Wb(11,"j-phone-prefix-input",6,7),b.ic("countrySelected",(function(t){return e.onCountrySelected(t)})),b.Vb(),b.Wb(13,"j-phone-input",8,9),b.ic("countrySelected",(function(t){return e.onCountrySelected(t)})),b.Vb(),b.Vb(),b.Wb(15,"div",10),b.Wb(16,"button",11),b.ic("click",(function(t){return e.onSubmit()})),b.Tc(17,"SHARED.CONTINUE"),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Ab(1),b.uc("isStroke",!0),b.Ab(5),b.Uc(e.title),b.Ab(3),b.uc("formGroup",e.registerPhoneForm),b.Ab(2),b.uc("countryCodes",e.countryCodes)("countryCode",e.countryCode),b.Ab(2),b.uc("autofocus",!0)("formControl",e.f.phone)("hasError",e.f.phone.errors&&e.isSubmitted)("errorText",e.errorText)("countryCodes",e.countryCodes)("countryCode",e.countryCode),b.Ab(3),b.uc("jLoading",e.isLoading)("disabled",e.isLoading))},directives:[s.f,W.a,R.a,r.J,r.u,r.l,S.a,y.a,r.t,r.i,I.a],styles:[".phone-block[_ngcontent-%COMP%]{display:-webkit-box;display:flex}"]}),t})();function mt(t,e){if(1&t){const t=b.Xb();b.Wb(0,"a",3),b.ic("click",(function(e){return b.Ic(t),b.mc().navigateToPhone(e)})),b.Rb(1,"j-icon",4),b.Wb(2,"span",5),b.Tc(3,"SHARED.PHONE"),b.Vb(),b.Vb()}2&t&&(b.Ab(1),b.uc("isStroke",!0))}function Tt(t,e){if(1&t){const t=b.Xb();b.Wb(0,"j-sms",6),b.ic("submitted",(function(e){return b.Ic(t),b.mc().onSmsSubmit(e)}))("failed",(function(e){return b.Ic(t),b.mc().onSmsFail()}))("loaded",(function(e){return b.Ic(t),b.mc().onFormLoaded()})),b.Vb()}if(2&t){const t=b.mc();b.uc("phone",t.phone)("countryCode",t.countryCode)("params",t.params)("headers",t.headerParams)}}function gt(t,e){1&t&&b.Rb(0,"j-animated-loading")}const vt={backdropClass:"backdrop_light",windowClass:"modal_light modal-auth",size:"md",centered:!0};let Et=(()=>{class t{constructor(t,e,i,n){this.authService=t,this.route=e,this.router=i,this.modalService=n,this.isFormLoaded=!1,this.subs=new h.a,this.subs.add(this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.countryCode=t.countryCode,this.iin=t.iin,this.params={actionIds:[this.iin]}}));const s=this.route.data.subscribe(t=>{this.authType=t.action,this.headerParams={smsHeader:D.c[this.authType.toUpperCase()]}});this.subs.add(s)}ngOnDestroy(){this.subs.unsubscribe()}onSmsFail(){this.navigateToPhone()}onFormLoaded(){this.isFormLoaded=!0}onSmsSubmit(t){return Object(c.a)(this,void 0,void 0,(function*(){this.authService.setSmsToken(t),this.checkIinAndPhone()}))}navigateToPhone(t=null){var e;null===(e=t)||void 0===e||e.preventDefault(),this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone,countryCode:this.countryCode}})}checkIinAndPhone(){return Object(c.a)(this,void 0,void 0,(function*(){try{const t=yield this.authService.checkIinAndPhone(this.iin,this.phone);this.handleIinAndPhoneCheck(t.status)}catch(t){this.navigateToError(t)}}))}handleIinAndPhoneCheck(t){switch(t){case v.d.BLOCKED:this.navigateToUserBlocked();break;case v.d.DOES_NOT_EXIST:this.navigateToNoAccount();break;case v.d.INVALID_DATA:case v.d.INCORRECT_DATA:this.navigateToNoEmail();break;case v.d.DATA_MISMATCH:this.navigateToPhoneNotMatch();break;case v.d.ALREADY_REGISTERED:this.handleAlreadyRegistered();break;case v.d.CAN_REGISTER:this.handleCanRegister()}}navigateToError(t){this.router.navigate(["error"],{relativeTo:this.route.parent,state:{error:t,iin:this.iin}})}navigateToUserBlocked(){this.router.navigate(["user-blocked"],{relativeTo:this.route.parent})}navigateToEmail(t=""){this.router.navigate([`${t}email`],{relativeTo:this.route.parent,state:{phone:this.phone,iin:this.iin}})}navigateToNoAccount(){this.router.navigate(["no-account"],{relativeTo:this.route.parent})}navigateToNoEmail(){this.router.navigate(["no-email"],{relativeTo:this.route.parent})}navigateToPhoneNotMatch(){this.router.navigate(["phone-not-match"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone,countryCode:this.countryCode}})}handleAlreadyRegistered(){switch(this.authType){case v.a.RESTORE:this.navigateToEmail();break;case v.a.REGISTER:this.showCanRestoreModal()}}showCanRegisterModal(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(et,vt);try{yield t.result,this.navigateToRegisterEmail()}catch(e){this.navigateToPhone()}}))}showCanRestoreModal(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(it,vt);try{const e=yield t.result;"restore"===e?this.navigateToRestoreEmail():"login"===e&&this.navigateToLogin()}catch(e){this.navigateToPhone()}}))}handleCanRegister(){switch(this.authType){case v.a.REGISTER:this.navigateToEmail();break;case v.a.RESTORE:this.showCanRegisterModal()}}navigateToRegisterEmail(){this.navigateToEmail("../register/")}navigateToRestoreEmail(){this.navigateToEmail("../restore/")}navigateToLogin(){this.router.navigate(["../login"],{relativeTo:this.route.parent})}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(l.a),b.Qb(s.a),b.Qb(s.c),b.Qb(tt.q))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-register-sms"]],decls:3,vars:3,consts:[["href","#","class","auth-backlink j-link",3,"click",4,"ngIf"],[3,"phone","countryCode","params","headers","submitted","failed","loaded",4,"ngIf"],[4,"ngIf"],["href","#",1,"auth-backlink","j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],[3,"phone","countryCode","params","headers","submitted","failed","loaded"]],template:function(t,e){1&t&&(b.Rc(0,mt,4,1,"a",0),b.Rc(1,Tt,1,4,"j-sms",1),b.Rc(2,gt,1,0,"j-animated-loading",2)),2&t&&(b.uc("ngIf",e.isFormLoaded),b.Ab(1),b.uc("ngIf",e.params),b.Ab(1),b.uc("ngIf",!e.isFormLoaded))},directives:[n.u,W.a,R.a,H.a,_.a],styles:[""]}),t})();var ft=i("gN/K"),Rt=i("bSvt");const St=["codeInput"];function yt(t,e){if(1&t){const t=b.Xb();b.Wb(0,"a",14),b.ic("click",(function(e){return b.Ic(t),b.mc().navigateToPhone(e)})),b.Rb(1,"j-icon",15),b.Wb(2,"span",16),b.Tc(3,"SHARED.PHONE"),b.Vb(),b.Vb()}2&t&&(b.Ab(1),b.uc("isStroke",!0))}function At(t,e){if(1&t){const t=b.Xb();b.Wb(0,"j-sms-error",17),b.ic("codeRequested",(function(e){return b.Ic(t),b.mc().requestEmail()})),b.Vb()}if(2&t){const t=b.mc();b.uc("errorType",t.errorTypes.FORBIDDEN)("isLoading",t.isLoading)("destinationValue",t.email)("timerValue",t.timerValue)("isTimerRunning",t.isTimerRunning)}}function It(t,e){if(1&t){const t=b.Xb();b.Wb(0,"j-sms-error",17),b.ic("codeRequested",(function(e){return b.Ic(t),b.mc().requestEmail()})),b.Vb()}if(2&t){const t=b.mc();b.uc("errorType",t.errorTypes.FORBIDDEN)("isLoading",t.isLoading)("destinationValue",t.email)("timerValue",t.blockedTimerValue)("isTimerRunning",t.isBlockedTimerRunning)}}function Ct(t,e){if(1&t){const t=b.Xb();b.Wb(0,"j-sms-error",18),b.ic("codeRequested",(function(e){return b.Ic(t),b.mc().requestEmail()})),b.Vb()}if(2&t){const t=b.mc();b.uc("errorType",t.errorTypes.UNKNOWN)("isLoading",t.isLoading)("destinationValue",t.email)("isTimerRunning",t.isBlockedTimerRunning)("timerValue",t.blockedTimerValue)}}function Ot(t,e){1&t&&b.Rb(0,"j-animated-loading")}let kt=(()=>{class t{constructor(t,e,i,n){this.route=t,this.auth=e,this.router=i,this.modalService=n,this.smsCodeLength=j.l,this.timerMaxValue=j.o,this.expireTimerMaxValue=300,this.errorTypes=j.m,this.isReady=!1,this.currentTab=j.n.FORM,this.authTabs=j.n,this.subs=new h.a,this.emailCodeForm=new r.k({emailCode:new r.h("",r.H.required)});const s=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.iin=t.iin,this.requestEmail()}),o=this.emailCodeForm.valueChanges.subscribe(t=>{this.isSubmitted=!1,t.emailCode&&t.emailCode.length===this.smsCodeLength&&this.onSubmit()});this.subs.add(s),this.subs.add(o)}ngOnDestroy(){this.subs.unsubscribe()}openContactModal(){this.modalService.open(nt,{centered:!0})}setTab(t){this.currentTab=t}get f(){return this.emailCodeForm.controls}requestEmail(){return Object(c.a)(this,void 0,void 0,(function*(){this.f.emailCode.setValue(""),this.errorText="",this.hasError=!1;try{const t=yield this.auth.requestEmail(this.phone,this.iin);this.setTab(this.authTabs.FORM),this.email=t.email.replace(/\*/gm,"\u2022"),this.codeInput.focus()}catch(t){switch(t.code){case d.b.ARGUMENT_MISSING:this.router.navigate(["phone"],{relativeTo:this.route.parent});break;case d.b.RESOURCE_BLOCKED:t.data&&t.data.millisecondsLeft&&this.startBlockedTimer(t.data.millisecondsLeft),this.setTab(this.authTabs.FORBIDDEN_BLOCKED);break;default:this.setTab(this.authTabs.ERRORED)}}finally{this.isReady=!0}}))}navigateToPhone(t=null){var e;null===(e=t)||void 0===e||e.preventDefault(),this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone}})}onSubmit(){return Object(c.a)(this,void 0,void 0,(function*(){if(this.isSubmitted=!0,this.emailCodeForm.valid){this.isLoading=!0;const e=this.f.emailCode.value;try{yield this.auth.submitEmail(e,this.phone,this.iin),this.router.navigate(["password"],{relativeTo:this.route.parent,state:{phone:this.phone,iin:this.iin}})}catch(t){switch(this.hasError=!0,t.code){case d.b.ARGUMENT_MISSING:this.router.navigate(["phone"],{relativeTo:this.route.parent});break;case d.b.RESOURCE_BLOCKED:case d.b.INVALID_CODE:let e;if(t.data&&t.data.triesLeft)switch(e=t.data.triesLeft,this.errorParams={triesLeft:e},this.errorText="ERRORS.INVALID_CODE.",e%20){case 1:this.errorText+="ONE";break;case 2:case 3:case 4:this.errorText+="FEW";break;default:this.errorText+="OTHER"}else this.startTimer(),this.setTab(this.authTabs.FORBIDDEN);break;case d.b.FORBIDDEN:this.startTimer(),this.setTab(this.authTabs.FORBIDDEN);break;case d.b.PHONE_TOKEN_EXPIRED:case d.b.TOKEN_EXPIRED:const i=this.modalService.open(st,{centered:!0});try{yield i.result}catch(t){}finally{this.router.navigate(["iin"],{relativeTo:this.route.parent,state:{iin:this.iin}})}break;default:this.errorText=t.description}this.codeInput.triggerHelperAnimation()}finally{this.isLoading=!1}}}))}startTimer(t=this.timerMaxValue){this.isTimerRunning=!0,this.timerValue=t,this.timer=setInterval(()=>{this.timerValue--,0===this.timerValue&&this.stopTimer()},1e3)}stopTimer(){clearInterval(this.timer),this.isTimerRunning=!1}startBlockedTimer(t){this.blockedTimerValue=Math.ceil(t/1e3),this.isBlockedTimerRunning=!0,this.blockedTimer=setInterval(()=>{this.blockedTimerValue--,0===this.blockedTimerValue&&this.stopBlockedTimer()},1e3)}stopBlockedTimer(){clearInterval(this.blockedTimer),this.isBlockedTimerRunning=!1,this.blockedTimerValue=null}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(s.a),b.Qb(l.a),b.Qb(s.c),b.Qb(tt.q))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-register-email"]],viewQuery:function(t,e){var i;1&t&&b.Yc(St,!0),2&t&&b.Ec(i=b.jc())&&(e.codeInput=i.first)},decls:21,vars:16,consts:[["href","#","class","auth-backlink j-link",3,"click",4,"ngIf"],[3,"hidden"],["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"mb-4"],[1,"text-nowrap"],[1,"my-4",3,"formGroup","ngSubmit"],[1,"my-4",3,"autofocus","hasError","errorText","errorTranslateParams","formControl"],["codeInput",""],[1,"auth-submit"],["translate","","type","submit",1,"btn","btn-static","btn-primary","btn-lg",3,"jLoading","disabled"],["translate","","type","button",1,"btn","btn-static","btn-link",3,"click"],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","timerValue","isTimerRunning","codeRequested",4,"ngIf"],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","isTimerRunning","timerValue","codeRequested",4,"ngIf"],[4,"ngIf"],["href","#",1,"auth-backlink","j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","timerValue","isTimerRunning","codeRequested"],["destinationLabel","AUTH.EMAIL.DESTINATION",3,"errorType","isLoading","destinationValue","isTimerRunning","timerValue","codeRequested"]],template:function(t,e){1&t&&(b.Rc(0,yt,4,1,"a",0),b.Wb(1,"div",1),b.Wb(2,"h3",2),b.Tc(3,"AUTH.EMAIL.TITLE"),b.Vb(),b.Wb(4,"div",1),b.Wb(5,"p",3),b.Tc(6," AUTH.EMAIL.DESCRIPTION "),b.Wb(7,"strong",4),b.Tc(8),b.Vb(),b.Vb(),b.Wb(9,"form",5),b.ic("ngSubmit",(function(t){return e.onSubmit()})),b.Rb(10,"j-sms-input",6,7),b.Wb(12,"div",8),b.Wb(13,"button",9),b.Tc(14,"SHARED.CONTINUE"),b.Vb(),b.Wb(15,"button",10),b.ic("click",(function(t){return e.openContactModal()})),b.Tc(16,"AUTH.EMAIL.NO_CODE_RECEIVED"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Rc(17,At,1,5,"j-sms-error",11),b.Rc(18,It,1,5,"j-sms-error",11),b.Rc(19,Ct,1,5,"j-sms-error",12),b.Vb(),b.Rc(20,Ot,1,0,"j-animated-loading",13)),2&t&&(b.uc("ngIf",e.isReady),b.Ab(1),b.uc("hidden",!e.isReady),b.Ab(3),b.uc("hidden",e.currentTab!=e.authTabs.FORM),b.Ab(4),b.Uc(e.email),b.Ab(1),b.uc("formGroup",e.emailCodeForm),b.Ab(1),b.uc("autofocus",!0)("hasError",e.hasError)("errorText",e.errorText)("errorTranslateParams",e.errorParams)("formControl",e.f.emailCode),b.Ab(3),b.uc("jLoading",e.isLoading)("disabled",e.isLoading),b.Ab(4),b.uc("ngIf",e.currentTab==e.authTabs.FORBIDDEN),b.Ab(1),b.uc("ngIf",e.currentTab==e.authTabs.FORBIDDEN_BLOCKED),b.Ab(1),b.uc("ngIf",e.currentTab==e.authTabs.ERRORED),b.Ab(1),b.uc("ngIf",!e.isReady))},directives:[n.u,R.a,r.J,r.u,r.l,ft.a,r.t,r.i,I.a,W.a,Rt.a,_.a],styles:[""]}),t})();var Lt=i("kUBv");let wt=(()=>{class t{constructor(t,e,i,n){this.auth=t,this.router=e,this.route=i,this.modalService=n,this.isLoading=!1,this.subs=new h.a;const s=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.iin=t.iin,this.iin?this.phone||this.navigateToPhone():this.navigateToIin()}),r=this.route.data.subscribe(t=>{this.authType=t.action});this.subs.add(s),this.subs.add(r)}ngOnDestroy(){this.subs.unsubscribe()}onSubmit(t){return Object(c.a)(this,void 0,void 0,(function*(){this.isLoading=!0;try{this.authType==v.a.RESTORE?yield this.auth.restore(this.phone,t.newPassword,this.iin):yield this.auth.register(this.phone,t.newPassword,this.iin),this.navigateToResult(t.newPassword)}catch(e){this.mapError(e)}finally{this.isLoading=!1}}))}mapError(t){return Object(c.a)(this,void 0,void 0,(function*(){switch(t.code){case d.b.RESOURCE_NOT_FOUND:case d.b.FORBIDDEN:case d.b.RESOURCE_EXISTS:this.navigateToPhoneNotMatch();break;case d.b.PHONE_TOKEN_EXPIRED:case d.b.TOKEN_EXPIRED:this.showExpiredModal();break;case d.b.INVALID_PHONE_FORMAT:case d.b.ARGUMENT_MISSING:this.navigateToPhone();break;default:this.errorText=t.description}}))}showExpiredModal(){return Object(c.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(st,{centered:!0});try{yield t.result}catch(e){}finally{this.navigateToIin()}}))}navigateToIin(){this.router.navigate(["iin"],{relativeTo:this.route.parent,state:{iin:this.iin||""}})}navigateToPhone(){this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin}})}navigateToResult(t){this.router.navigate(["result"],{relativeTo:this.route.parent,state:{phone:this.phone,password:t}})}navigateToPhoneNotMatch(){this.router.navigate(["phone-not-match"],{relativeTo:this.route.parent})}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(l.a),b.Qb(s.c),b.Qb(s.a),b.Qb(tt.q))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-register-password"]],decls:7,vars:2,consts:[["translate","",1,"auth-heading","light","mb-3","mt-0"],["translate","",1,"mb-4"],[1,"my-4"],[3,"isLoading","errorText","submitted"]],template:function(t,e){1&t&&(b.Wb(0,"article"),b.Wb(1,"h3",0),b.Tc(2,"AUTH.PASSWORD.TITLE"),b.Vb(),b.Wb(3,"p",1),b.Tc(4,"AUTH.PASSWORD.DESCRIPTION"),b.Vb(),b.Wb(5,"div",2),b.Wb(6,"j-new-password",3),b.ic("submitted",(function(t){return e.onSubmit(t)})),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Ab(6),b.uc("isLoading",e.isLoading)("errorText",e.errorText))},directives:[R.a,Lt.a],styles:[""]}),t})(),Nt=(()=>{class t{constructor(t,e,i,n){this.route=t,this.router=e,this.auth=i,this.tokenService=n,this.isLoading=!1,this.authTypes=v.a,this.subs=new h.a;const s=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.password=t.password}),r=this.route.data.subscribe(t=>{this.authType=t.action});this.subs.add(s),this.subs.add(r)}ngOnDestroy(){this.subs.unsubscribe()}login(t){return Object(c.a)(this,void 0,void 0,(function*(){t.preventDefault(),this.isLoading=!0;try{const t=yield this.auth.requestDevice(this.phone,j.q.SMS);this.tokenService.setDeviceToken(t.signature,this.password),yield this.auth.login(this.phone,this.password),this.router.navigateByUrl("/")}catch(e){this.router.navigate(["/auth/login"],{state:{error:e.description||e}})}finally{this.isLoading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(s.a),b.Qb(s.c),b.Qb(l.a),b.Qb(p.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-register-result"]],decls:14,vars:3,consts:[[1,"auth-heading","light","mb-3","mt-0"],["translate",""],[1,"mb-4"],[1,"auth-submit"],["translate","",1,"btn","btn-static","btn-primary",3,"disabled","jLoading","click"]],template:function(t,e){1&t&&(b.Wb(0,"article"),b.Wb(1,"h3",0),b.Wb(2,"span",1),b.Tc(3,"SHARED.DONE"),b.Vb(),b.Tc(4,"! "),b.Vb(),b.Wb(5,"p",2),b.Wb(6,"span",1),b.Tc(7),b.Vb(),b.Rb(8,"br"),b.Wb(9,"span",1),b.Tc(10,"AUTH.RESULT.DESCRIPTION"),b.Vb(),b.Vb(),b.Vb(),b.Wb(11,"div",3),b.Wb(12,"button",4),b.ic("click",(function(t){return e.login(t)})),b.Tc(13,"AUTH.LOGIN"),b.Vb(),b.Vb()),2&t&&(b.Ab(7),b.Uc(e.authType==e.authTypes.REGISTER?"AUTH.RESULT.REGISTERED":"AUTH.RESULT.RESTORED"),b.Ab(5),b.uc("disabled",e.isLoading)("jLoading",e.isLoading))},directives:[R.a,I.a],styles:[""]}),t})(),Vt=(()=>{class t{constructor(t){this.navService=t,this.translateParams={tel:"7711"},this.navService.triggerRegisterError("iin",!0),this.navService.triggerRegisterError("no-account",!0)}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(ot.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-no-account"]],decls:13,vars:5,consts:[["routerLink","../iin",1,"j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["routerLink","../iin","translate","",1,"btn","btn-static","btn-primary"],["translate","","href","https://jysanbank.kz/ru/page/contacts","target","_blank",1,"btn","btn-static","btn-link"]],template:function(t,e){1&t&&(b.Wb(0,"a",0),b.Rb(1,"j-icon",1),b.Wb(2,"span",2),b.Tc(3,"SHARED.BACK"),b.Vb(),b.Vb(),b.Wb(4,"article"),b.Wb(5,"h3",3),b.Tc(6,"AUTH.NO_ACCOUNT.TITLE"),b.Vb(),b.Rb(7,"p",4),b.nc(8,"translate"),b.Wb(9,"a",5),b.Tc(10,"AUTH.NO_ACCOUNT.LINK"),b.Vb(),b.Wb(11,"a",6),b.Tc(12,"AUTH.NO_ACCOUNT.CONTACTS"),b.Vb(),b.Vb()),2&t&&(b.Ab(1),b.uc("isStroke",!0),b.Ab(6),b.uc("innerHTML",b.pc(8,2,"AUTH.NO_ACCOUNT.DESCRIPTION",e.translateParams),b.Jc))},directives:[s.f,W.a,R.a],pipes:[R.d],styles:[""]}),t})(),Dt=(()=>{class t{constructor(t){this.navService=t,this.navService.triggerRegisterError("iin",!0),this.navService.triggerRegisterError("no-email",!0)}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(ot.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-no-email"]],decls:11,vars:4,consts:[["routerLink","../phone",1,"j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["translate","","href","https://jysanbank.kz/ru/page/contacts","target","_blank",1,"btn","btn-static","btn-primary"]],template:function(t,e){1&t&&(b.Wb(0,"a",0),b.Rb(1,"j-icon",1),b.Wb(2,"span",2),b.Tc(3,"SHARED.PHONE"),b.Vb(),b.Vb(),b.Wb(4,"article"),b.Wb(5,"h3",3),b.Tc(6,"AUTH.NO_EMAIL.TITLE"),b.Vb(),b.Rb(7,"p",4),b.nc(8,"translate"),b.Wb(9,"a",5),b.Tc(10,"AUTH.NO_EMAIL.LINK"),b.Vb(),b.Vb()),2&t&&(b.Ab(1),b.uc("isStroke",!0),b.Ab(6),b.uc("innerHTML",b.oc(8,2,"AUTH.NO_EMAIL.DESCRIPTION"),b.Jc))},directives:[s.f,W.a,R.a],pipes:[R.d],styles:[""]}),t})(),jt=(()=>{class t{constructor(t){this.navService=t,this.translateParams={tel:"7711"},this.navService.triggerRegisterError("iin",!0),this.navService.triggerRegisterError("user-blocked",!0)}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(ot.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-user-blocked"]],decls:9,vars:5,consts:[["routerLink","../iin",1,"j-link"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"]],template:function(t,e){1&t&&(b.Wb(0,"a",0),b.Rb(1,"j-icon",1),b.Wb(2,"span",2),b.Tc(3,"SHARED.IIN"),b.Vb(),b.Vb(),b.Wb(4,"article"),b.Wb(5,"h3",3),b.Tc(6,"AUTH.USER_BLOCKED.TITLE"),b.Vb(),b.Rb(7,"p",4),b.nc(8,"translate"),b.Vb()),2&t&&(b.Ab(1),b.uc("isStroke",!0),b.Ab(6),b.uc("innerHTML",b.pc(8,2,"AUTH.USER_BLOCKED.DESCRIPTION",e.translateParams),b.Jc))},directives:[s.f,W.a,R.a],pipes:[R.d],styles:[""]}),t})(),Pt=(()=>{class t{constructor(t,e,i){this.router=t,this.route=e,this.navService=i,this.subscription=new h.a,this.navService.triggerRegisterError("phone",!0),this.navService.triggerRegisterError("phone-not-match",!0),this.subscription.add(this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.phone=t.phone,this.iin=t.iin,this.countryCode=t.countryCode}))}ngOnDestroy(){this.subscription.unsubscribe()}navigateToPhone(t=null){var e;null===(e=t)||void 0===e||e.preventDefault(),this.router.navigate(["phone"],{relativeTo:this.route.parent,state:{iin:this.iin,phone:this.phone,countryCode:this.countryCode}})}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(s.c),b.Qb(s.a),b.Qb(ot.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-phone-not-match"]],decls:11,vars:4,consts:[["href","#",1,"j-link",3,"click"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["href","#","translate","",1,"btn","btn-static","btn-primary",3,"click"]],template:function(t,e){1&t&&(b.Wb(0,"a",0),b.ic("click",(function(t){return e.navigateToPhone(t)})),b.Rb(1,"j-icon",1),b.Wb(2,"span",2),b.Tc(3,"SHARED.PHONE"),b.Vb(),b.Vb(),b.Wb(4,"article"),b.Wb(5,"h3",3),b.Tc(6,"AUTH.PHONE_NOT_MATCH.TITLE"),b.Vb(),b.Rb(7,"p",4),b.nc(8,"translate"),b.Wb(9,"a",5),b.ic("click",(function(t){return e.navigateToPhone(t)})),b.Tc(10,"AUTH.PHONE_NOT_MATCH.LINK"),b.Vb(),b.Vb()),2&t&&(b.Ab(1),b.uc("isStroke",!0),b.Ab(6),b.uc("innerHTML",b.oc(8,2,"AUTH.PHONE_NOT_MATCH.DESCRIPTION"),b.Jc))},directives:[W.a,R.a],pipes:[R.d],styles:[""]}),t})(),Wt=(()=>{class t{constructor(t){this.route=t,this.subscription=new h.a;const e=this.route.data.subscribe(t=>{this.authType=t.action}),i=this.route.paramMap.pipe(Object(u.a)(()=>window.history.state)).subscribe(t=>{this.error=t.error,this.iin=t.iin});this.subscription.add(i),this.subscription.add(e)}get description(){return this.authType===v.a.REGISTER?"AUTH.ERROR.DESCRIPTION_REGISTER":"AUTH.ERROR.DESCRIPTION_RESTORE"}get state(){return{iin:this.iin}}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(s.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-register-error"]],decls:12,vars:9,consts:[["routerLink","../iin",1,"j-link",3,"state"],["name","arrowLeft","color","primary",1,"mr-2",3,"isStroke"],["translate",""],["translate","",1,"light","mb-3","mt-0"],[1,"mb-4",3,"innerHTML"],["routerLink","../iin",1,"btn","btn-primary",3,"state"]],template:function(t,e){1&t&&(b.Wb(0,"a",0),b.Rb(1,"j-icon",1),b.Wb(2,"span",2),b.Tc(3,"SHARED.IIN"),b.Vb(),b.Vb(),b.Wb(4,"article"),b.Wb(5,"h3",3),b.Tc(6,"AUTH.ERROR.TITLE"),b.Vb(),b.Rb(7,"p",4),b.nc(8,"translate"),b.Wb(9,"a",5),b.Tc(10),b.nc(11,"translate"),b.Vb(),b.Vb()),2&t&&(b.uc("state",e.state),b.Ab(1),b.uc("isStroke",!0),b.Ab(6),b.uc("innerHTML",b.oc(8,5,e.description),b.Jc),b.Ab(2),b.uc("state",e.state),b.Ab(1),b.Vc(" ",b.oc(11,7,"SHARED.BACK")," "))},directives:[s.f,W.a,R.a],pipes:[R.d],styles:[""]}),t})();const Ht=[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:J},{path:"register",component:$,children:[{path:"",redirectTo:"iin"},{path:"iin",component:bt,data:{title:"AUTH.REGISTER_TITLE",action:v.a.REGISTER}},{path:"no-account",component:Vt},{path:"no-email",component:Dt},{path:"user-blocked",component:jt},{path:"phone",component:pt,data:{title:"SHARED.PHONE",action:v.a.REGISTER}},{path:"sms",component:Et,data:{action:v.a.REGISTER}},{path:"phone-not-match",component:Pt},{path:"email",component:kt},{path:"password",component:wt,data:{action:v.a.REGISTER}},{path:"error",component:Wt,data:{action:v.a.REGISTER}},{path:"result",component:Nt,data:{action:v.a.REGISTER}}]},{path:"restore",component:$,children:[{path:"",redirectTo:"iin"},{path:"iin",component:bt,data:{title:"AUTH.RESTORE",action:v.a.RESTORE}},{path:"no-account",component:Vt},{path:"no-email",component:Dt},{path:"user-blocked",component:jt},{path:"phone",component:pt,data:{title:"SHARED.PHONE",action:v.a.RESTORE}},{path:"sms",component:Et,data:{action:v.a.RESTORE}},{path:"phone-not-match",component:Pt},{path:"email",component:kt},{path:"password",component:wt,data:{action:v.a.RESTORE}},{path:"error",component:Wt,data:{action:v.a.RESTORE}},{path:"result",component:Nt,data:{action:v.a.RESTORE}}]}];let Ut=(()=>{class t{}return t.\u0275mod=b.Ob({type:t}),t.\u0275inj=b.Nb({factory:function(e){return new(e||t)},imports:[[s.g.forChild(Ht)],s.g]}),t})();i.d(e,"AuthModule",(function(){return _t}));let _t=(()=>{class t{}return t.\u0275mod=b.Ob({type:t}),t.\u0275inj=b.Nb({factory:function(e){return new(e||t)},providers:[{provide:o.b,useClass:o.b}],imports:[[n.c,Ut,r.n,s.g,r.D,a.a,o.c]]}),t})()}}]);