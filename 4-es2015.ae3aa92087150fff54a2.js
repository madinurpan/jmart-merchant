(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"/Vf3":function(e,t,s){"use strict";s.d(t,"a",(function(){return a})),s.d(t,"b",(function(){return r})),s.d(t,"d",(function(){return o})),s.d(t,"e",(function(){return c})),s.d(t,"c",(function(){return h}));const i=/[&<>"']/g,n=RegExp(i.source),l={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function a(e){return e&&n.test(e)?e.replace(i,e=>l[e]):e}function r(e){return null!=e}function o(e){return"object"==typeof e&&r(e)}function c(e){return e instanceof Promise}function h(e){return e instanceof Function}},"2iS9":function(e,t,s){"use strict";s.d(t,"a",(function(){return n}));var i=s("fXoL");let n=(()=>{class e{constructor(){this._dimensions={itemHeight:0,panelHeight:0,itemsPerViewport:0}}get dimensions(){return this._dimensions}calculateItems(e,t,s){const i=this._dimensions,n=i.itemHeight*t,l=Math.max(0,e)/n*t;let a=Math.min(t,Math.ceil(l)+(i.itemsPerViewport+1));const r=Math.max(0,a-i.itemsPerViewport);let o=Math.min(r,Math.floor(l)),c=i.itemHeight*Math.ceil(o)-i.itemHeight*Math.min(o,s);return c=isNaN(c)?0:c,o=isNaN(o)?-1:o,a=isNaN(a)?-1:a,o-=s,o=Math.max(0,o),a+=s,a=Math.min(t,a),{topPadding:c,scrollHeight:n,start:o,end:a}}setDimensions(e,t){const s=Math.max(1,Math.floor(t/e));this._dimensions={itemHeight:e,panelHeight:t,itemsPerViewport:s}}getScrollTo(e,t,s){const{panelHeight:i}=this.dimensions,n=e+t,l=s+i;return i>=n&&s===e?null:n>l?s+n-l:e<=s?e:null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac}),e})()},Kj0E:function(e,t,s){"use strict";var i=s("ofXK"),n=s("fXoL"),l=s("eNwd");let a=1;const r=(()=>Promise.resolve())(),o={};function c(e){return e in o&&(delete o[e],!0)}const h={setImmediate(e){const t=a++;return o[t]=!0,r.then(()=>c(t)&&e()),t},clearImmediate(e){c(e)}};var d=s("3N8a");class u extends d.a{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,s=0){return null!==s&&s>0?super.requestAsyncId(e,t,s):(e.actions.push(this),e.scheduled||(e.scheduled=h.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,s=0){if(null!==s&&s>0||null===s&&this.delay>0)return super.recycleAsyncId(e,t,s);0===e.actions.length&&(h.clearImmediate(t),e.scheduled=void 0)}}var p=s("IjjT");class m extends p.a{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let s,i=-1,n=t.length;e=e||t.shift();do{if(s=e.execute(e.state,e.delay))break}while(++i<n&&(e=t.shift()));if(this.active=!1,s){for(;++i<n&&(e=t.shift());)e.unsubscribe();throw s}}}const b=new m(u);var f=s("XNiG"),g=s("xgIS"),_=s("VRyK"),j=s("1G5W"),T=s("D0XW"),v=s("l7GE"),I=s("ZUHj");class w{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new S(e,this.durationSelector))}}class S extends v.a{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let s;try{const{durationSelector:t}=this;s=t(e)}catch(t){return this.destination.error(t)}const i=Object(I.a)(this,s);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:s}=this;s&&(this.remove(s),this.throttled=null,s.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,s,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}var O=s("PqYM"),x=s("/Vf3"),y=s("2iS9");s.d(t,"a",(function(){return R}));const k=["content"],L=["scroll"],C=["padding"],E=function(e){return{searchTerm:e}};function A(e,t){if(1&e&&(n.Wb(0,"div",6),n.Sb(1,7),n.Vb()),2&e){const e=n.mc();n.Ab(1),n.uc("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",n.zc(2,E,e.filterValue))}}function F(e,t){if(1&e&&(n.Wb(0,"div",8),n.Sb(1,7),n.Vb()),2&e){const e=n.mc();n.Ab(1),n.uc("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",n.zc(2,E,e.filterValue))}}const V=["*"],P="undefined"!=typeof requestAnimationFrame?l.a:b;let R=(()=>{class e{constructor(e,t,s,i,l){this._renderer=e,this._zone=t,this._panelService=s,this._document=l,this.items=[],this.position="auto",this.virtualScroll=!1,this.filterValue=null,this.update=new n.n,this.scroll=new n.n,this.scrollToEnd=new n.n,this.outsideClick=new n.n,this._destroy$=new f.a,this._scrollToEndFired=!1,this._updateScrollHeight=!1,this._lastScrollPosition=0,this._dropdown=i.nativeElement}get currentPosition(){return this._currentPosition}get itemsLength(){return this._itemsLength}set itemsLength(e){e!==this._itemsLength&&(this._itemsLength=e,this._onItemsLengthChanged())}get _startOffset(){if(this.markedItem){const{itemHeight:e,panelHeight:t}=this._panelService.dimensions,s=this.markedItem.index*e;return t>s?0:s}return 0}handleMousedown(e){"INPUT"!==e.target.tagName&&e.preventDefault()}ngOnInit(){this._select=this._dropdown.parentElement,this._virtualPadding=this.paddingElementRef.nativeElement,this._scrollablePanel=this.scrollElementRef.nativeElement,this._contentPanel=this.contentElementRef.nativeElement,this._handleScroll(),this._handleOutsideClick(),this._appendDropdown()}ngOnChanges(e){if(e.items){const t=e.items;this._onItemsChange(t.currentValue,t.firstChange)}}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete(),this._destroy$.unsubscribe(),this.appendTo&&this._renderer.removeChild(this._dropdown.parentNode,this._dropdown)}scrollTo(e,t=!1){if(!e)return;const s=this.items.indexOf(e);if(s<0||s>=this.itemsLength)return;let i;if(this.virtualScroll){const e=this._panelService.dimensions.itemHeight;i=this._panelService.getScrollTo(s*e,e,this._lastScrollPosition)}else{const s=this._dropdown.querySelector(`#${e.htmlId}`);i=this._panelService.getScrollTo(s.offsetTop,s.clientHeight,t?s.offsetTop:this._lastScrollPosition)}Object(x.b)(i)&&(this._scrollablePanel.scrollTop=i)}scrollToTag(){const e=this._scrollablePanel;e.scrollTop=e.scrollHeight-e.clientHeight}adjustPosition(){const e=this._parent.getBoundingClientRect(),t=this._select.getBoundingClientRect();this._setOffset(e,t)}_handleDropdownPosition(){this._currentPosition=this._calculateCurrentPosition(this._dropdown),"top"===this._currentPosition?(this._renderer.addClass(this._dropdown,"j-select-top"),this._renderer.removeClass(this._dropdown,"j-select-bottom"),this._renderer.addClass(this._select,"j-select-top"),this._renderer.removeClass(this._select,"j-select-bottom")):(this._renderer.addClass(this._dropdown,"j-select-bottom"),this._renderer.removeClass(this._dropdown,"j-select-top"),this._renderer.addClass(this._select,"j-select-bottom"),this._renderer.removeClass(this._select,"j-select-top")),this.appendTo&&this._updatePosition(),this._dropdown.style.opacity="1"}_handleScroll(){this._zone.runOutsideAngular(()=>{Object(g.a)(this.scrollElementRef.nativeElement,"scroll").pipe(Object(j.a)(this._destroy$),function(e,t=T.a){return s=()=>Object(O.a)(e,t),function(e){return e.lift(new w(s))};var s}(0,P)).subscribe(e=>this._onContentScrolled(e.target.scrollTop))})}_handleOutsideClick(){this._document&&this._zone.runOutsideAngular(()=>{Object(_.a)(Object(g.a)(this._document,"touchstart",{capture:!0}),Object(g.a)(this._document,"mousedown",{capture:!0})).pipe(Object(j.a)(this._destroy$)).subscribe(e=>this._checkToClose(e))})}_checkToClose(e){if(this._select.contains(e.target)||this._dropdown.contains(e.target))return;const t=e.path||e.composedPath&&e.composedPath();e.target&&e.target.shadowRoot&&t&&t[0]&&this._select.contains(t[0])||this._zone.run(()=>this.outsideClick.emit())}_onItemsChange(e,t){this.items=e||[],this._scrollToEndFired=!1,this.itemsLength=e.length,this.virtualScroll?this._updateItemsRange(t):this._updateItems(t)}_updateItems(e){this.update.emit(this.items),!1!==e&&this._zone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._panelService.setDimensions(0,this._scrollablePanel.clientHeight),this._handleDropdownPosition(),this.scrollTo(this.markedItem,e)})})}_updateItemsRange(e){this._zone.runOutsideAngular(()=>{this._measureDimensions().then(()=>{e?(this._renderItemsRange(this._startOffset),this._handleDropdownPosition()):this._renderItemsRange()})})}_onContentScrolled(e){this.virtualScroll&&this._renderItemsRange(e),this._lastScrollPosition=e,this._fireScrollToEnd(e)}_updateVirtualHeight(e){this._updateScrollHeight&&(this._virtualPadding.style.height=`${e}px`,this._updateScrollHeight=!1)}_onItemsLengthChanged(){this._updateScrollHeight=!0}_renderItemsRange(e=null){if(e&&this._lastScrollPosition===e)return;const t=this._panelService.calculateItems(e=e||this._scrollablePanel.scrollTop,this.itemsLength,this.bufferAmount);this._updateVirtualHeight(t.scrollHeight),this._contentPanel.style.transform=`translateY(${t.topPadding}px)`,this._zone.run(()=>{this.update.emit(this.items.slice(t.start,t.end)),this.scroll.emit({start:t.start,end:t.end})}),Object(x.b)(e)&&0===this._lastScrollPosition&&(this._scrollablePanel.scrollTop=e,this._lastScrollPosition=e)}_measureDimensions(){if(this._panelService.dimensions.itemHeight>0||0===this.itemsLength)return Promise.resolve(this._panelService.dimensions);const[e]=this.items;return this.update.emit([e]),Promise.resolve().then(()=>{const t=this._dropdown.querySelector(`#${e.htmlId}`).clientHeight;return this._virtualPadding.style.height=`${t*this.itemsLength}px`,this._panelService.setDimensions(t,this._scrollablePanel.clientHeight),this._panelService.dimensions})}_fireScrollToEnd(e){this._scrollToEndFired||0===e||e+this._dropdown.clientHeight>=(this.virtualScroll?this._virtualPadding:this._contentPanel).clientHeight&&(this._zone.run(()=>this.scrollToEnd.emit()),this._scrollToEndFired=!0)}_calculateCurrentPosition(e){if("auto"!==this.position)return this.position;const t=this._select.getBoundingClientRect(),s=document.documentElement.scrollTop||document.body.scrollTop;return t.top+window.pageYOffset+t.height+e.getBoundingClientRect().height>s+document.documentElement.clientHeight?"top":"bottom"}_appendDropdown(){if(this.appendTo){if("string"==typeof this.appendTo){if(this._parent=document.querySelector(this.appendTo),!this._parent)throw new Error(`appendTo selector ${this.appendTo} did not found any parent element`)}else this._parent=this.appendTo;this._parent.appendChild(this._dropdown)}}_updatePosition(){const e=this._select.getBoundingClientRect(),t=this._parent.getBoundingClientRect();this._setOffset(t,e),this._dropdown.style.width=t.width+"px",this._dropdown.style.minWidth=t.width+"px"}_setOffset(e,t){const s=t.height;"top"===this._currentPosition?(this._dropdown.style.bottom=e.bottom-t.bottom+s+"px",this._dropdown.style.top="auto"):"bottom"===this._currentPosition&&(this._dropdown.style.top=t.top-e.top+s+"px",this._dropdown.style.bottom="auto")}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.D),n.Qb(n.z),n.Qb(y.a),n.Qb(n.l),n.Qb(i.e,8))},e.\u0275cmp=n.Kb({type:e,selectors:[["j-dropdown-panel"]],viewQuery:function(e,t){var s;1&e&&(n.Oc(k,!0,n.l),n.Oc(L,!0,n.l),n.Oc(C,!0,n.l)),2&e&&(n.Ec(s=n.jc())&&(t.contentElementRef=s.first),n.Ec(s=n.jc())&&(t.scrollElementRef=s.first),n.Ec(s=n.jc())&&(t.paddingElementRef=s.first))},hostBindings:function(e,t){1&e&&n.ic("mousedown",(function(e){return t.handleMousedown(e)}))},inputs:{items:"items",markedItem:"markedItem",position:"position",appendTo:"appendTo",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",headerTemplate:"headerTemplate",footerTemplate:"footerTemplate",filterValue:"filterValue"},outputs:{update:"update",scroll:"scroll",scrollToEnd:"scrollToEnd",outsideClick:"outsideClick"},features:[n.yb()],ngContentSelectors:V,decls:9,vars:6,consts:[["class","j-dropdown-header",4,"ngIf"],[1,"j-dropdown-panel-items","scroll-host"],["scroll",""],["padding",""],["content",""],["class","j-dropdown-footer",4,"ngIf"],[1,"j-dropdown-header"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"j-dropdown-footer"]],template:function(e,t){1&e&&(n.tc(),n.Rc(0,A,2,4,"div",0),n.Wb(1,"div",1,2),n.Rb(3,"div",null,3),n.Wb(5,"div",null,4),n.sc(7),n.Vb(),n.Vb(),n.Rc(8,F,2,4,"div",5)),2&e&&(n.uc("ngIf",t.headerTemplate),n.Ab(3),n.Hb("total-padding",t.virtualScroll),n.Ab(2),n.Hb("scrollable-content",t.virtualScroll&&t.items.length),n.Ab(3),n.uc("ngIf",t.footerTemplate))},directives:[i.u,i.B],encapsulation:2,changeDetection:0}),e})()},O1Qh:function(e,t,s){"use strict";var i=s("fXoL"),n=s("1G5W"),l=s("JX91"),a=s("vkgz"),r=s("Kj3r"),o=s("pLZG"),c=s("lJxs"),h=s("XNiG"),d=s("VRyK"),u=s("vOW5"),p=s("/Vf3"),m=s("YMfE");class b{constructor(e,t){this._ngSelect=e,this._selectionModel=t,this._items=[],this._filteredItems=[],this._markedIndex=-1}get items(){return this._items}get filteredItems(){return this._filteredItems}get markedIndex(){return this._markedIndex}get selectedItems(){return this._selectionModel.value}get markedItem(){return this._filteredItems[this._markedIndex]}get noItemsToSelect(){return this._ngSelect.hideSelected&&this._items.length===this.selectedItems.length}get maxItemsSelected(){return this._ngSelect.multiple&&this._ngSelect.maxSelectedItems<=this.selectedItems.length}get lastSelectedItem(){let e=this.selectedItems.length-1;for(;e>=0;e--){let t=this.selectedItems[e];if(!t.disabled)return t}return null}setItems(e){this._items=e.map((e,t)=>this.mapItem(e,t)),this._ngSelect.groupBy?(this._groups=this._groupBy(this._items,this._ngSelect.groupBy),this._items=this._flatten(this._groups)):(this._groups=new Map,this._groups.set(void 0,this._items)),this._filteredItems=[...this._items]}select(e){if(e.selected||this.maxItemsSelected)return;const t=this._ngSelect.multiple;t||this.clearSelected(),this._selectionModel.select(e,t,this._ngSelect.selectableGroupAsModel),this._ngSelect.hideSelected&&this._hideSelected(e)}unselect(e){e.selected&&(this._selectionModel.unselect(e,this._ngSelect.multiple),this._ngSelect.hideSelected&&Object(p.b)(e.index)&&this._ngSelect.multiple&&this._showSelected(e))}findItem(e){let t;return t=this._ngSelect.compareWith?t=>this._ngSelect.compareWith(t.value,e):this._ngSelect.bindValue?t=>!t.children&&this.resolveNested(t.value,this._ngSelect.bindValue)===e:t=>t.value===e||!t.children&&t.label&&t.label===this.resolveNested(e,this._ngSelect.bindLabel),this._items.find(e=>t(e))}addItem(e){const t=this.mapItem(e,this._items.length);return this._items.push(t),this._filteredItems.push(t),t}clearSelected(e=!1){this._selectionModel.clear(e),this._items.forEach(t=>{t.selected=e&&t.selected&&t.disabled,t.marked=!1}),this._ngSelect.hideSelected&&this.resetFilteredItems()}findByLabel(e){return e=e.toLocaleLowerCase(),this.filteredItems.find(t=>t.label.toLocaleLowerCase().substr(0,e.length)===e)}filter(e){if(!e)return void this.resetFilteredItems();this._filteredItems=[],e=this._ngSelect.searchFn?e:e.toLocaleLowerCase();const t=this._ngSelect.searchFn||this._defaultSearchFn,s=this._ngSelect.hideSelected;for(const i of Array.from(this._groups.keys())){const n=[];for(const l of this._groups.get(i))s&&(l.parent&&l.parent.selected||l.selected)||t(e,this._ngSelect.searchFn?l.value:l)&&n.push(l);if(n.length>0){const[e]=n.slice(-1);if(e.parent){const t=this._items.find(t=>t===e.parent);this._filteredItems.push(t)}this._filteredItems.push(...n)}}}resetFilteredItems(){this._filteredItems.length!==this._items.length&&(this._filteredItems=this._ngSelect.hideSelected&&this.selectedItems.length>0?this._items.filter(e=>!e.selected):this._items)}unmarkItem(){this._markedIndex=-1}markNextItem(){this._stepToItem(1)}markPreviousItem(){this._stepToItem(-1)}markItem(e){this._markedIndex=this._filteredItems.indexOf(e)}markSelectedOrDefault(e){if(0===this._filteredItems.length)return;const t=this._getLastMarkedIndex();this._markedIndex=t>-1?t:e?this.filteredItems.findIndex(e=>!e.disabled):-1}resolveNested(e,t){if(t){if(!Object(p.d)(e))return e;if(-1===t.indexOf("."))return e[t];{let s=t.split("."),i=e;for(let e=0,t=s.length;e<t;++e){if(null==i)return null;i=i[s[e]]}return i}}}mapItem(e,t){const s=Object(p.b)(e.$ngOptionLabel)?e.$ngOptionLabel:this.resolveNested(e,this._ngSelect.bindLabel),i=Object(p.b)(e.$ngOptionValue)?e.$ngOptionValue:e;return{index:t,label:Object(p.b)(s)?s.toString():"",value:i,disabled:e.disabled,htmlId:`${this._ngSelect.dropdownId}-${t}`}}mapSelectedItems(){const e=this._ngSelect.multiple;for(const t of this.selectedItems){const s=this._ngSelect.bindValue?this.resolveNested(t.value,this._ngSelect.bindValue):t.value,i=Object(p.b)(s)?this.findItem(s):null;this._selectionModel.unselect(t,e),this._selectionModel.select(i||t,e,this._ngSelect.selectableGroupAsModel)}this._ngSelect.hideSelected&&(this._filteredItems=this.filteredItems.filter(e=>-1===this.selectedItems.indexOf(e)))}_showSelected(e){if(this._filteredItems.push(e),e.parent){const t=e.parent;this._filteredItems.find(e=>e===t)||this._filteredItems.push(t)}else if(e.children)for(const t of e.children)t.selected=!1,this._filteredItems.push(t);this._filteredItems=[...this._filteredItems.sort((e,t)=>e.index-t.index)]}_hideSelected(e){this._filteredItems=this._filteredItems.filter(t=>t!==e),e.parent?e.parent.children.every(e=>e.selected)&&(this._filteredItems=this._filteredItems.filter(t=>t!==e.parent)):e.children&&(this._filteredItems=this.filteredItems.filter(t=>t.parent!==e))}_defaultSearchFn(e,t){return t.label.toLocaleLowerCase().indexOf(e)>-1}_getNextItemIndex(e){return e>0?this._markedIndex===this._filteredItems.length-1?0:this._markedIndex+1:this._markedIndex<=0?this._filteredItems.length-1:this._markedIndex-1}_stepToItem(e){0===this._filteredItems.length||this._filteredItems.every(e=>e.disabled)||(this._markedIndex=this._getNextItemIndex(e),this.markedItem.disabled&&this._stepToItem(e))}_getLastMarkedIndex(){if(this._ngSelect.hideSelected)return-1;if(this._markedIndex>-1&&void 0===this.markedItem)return-1;const e=this._filteredItems.indexOf(this.lastSelectedItem);return this.lastSelectedItem&&e<0?-1:Math.max(this.markedIndex,e)}_groupBy(e,t){const s=new Map;if(0===e.length)return s;if(Array.isArray(e[0].value[t])){for(const i of e){const e=(i.value[t]||[]).map((e,t)=>this.mapItem(e,t));s.set(i,e)}return s}const i=Object(p.c)(this._ngSelect.groupBy),n=e=>{let s=i?t(e.value):e.value[t];return Object(p.b)(s)?s:void 0};for(const l of e){let e=n(l);const t=s.get(e);t?t.push(l):s.set(e,[l])}return s}_flatten(e){const t=Object(p.c)(this._ngSelect.groupBy),s=[];for(const i of Array.from(e.keys())){let n=s.length;if(void 0===i){const t=e.get(void 0)||[];s.push(...t.map(e=>Object.assign(Object.assign({},e),{index:n++})));continue}const l=Object(p.d)(i),a={label:l?"":String(i),children:void 0,parent:null,index:n++,disabled:!this._ngSelect.selectableGroup,htmlId:Object(m.generateUniqueId)()},r=t?this._ngSelect.bindLabel:this._ngSelect.groupBy,o=this._ngSelect.groupValue||(()=>l?i.value:{[r]:i}),c=e.get(i).map(e=>(e.parent=a,e.children=void 0,e.index=n++,e));a.children=c,a.value=o(i,c.map(e=>e.value)),s.push(a),s.push(...c)}return s}}var f=s("Puj0"),g=s("Kj0E"),_=s("Q+Qo"),j=s("2iS9"),T=s("fbp8"),v=s("6tGF");let I=(()=>{class e{constructor(){this.notFoundText="SELECT.NOT_FOUND",this.typeToSearchText="SELECT.SEARCH",this.addTagText="SELECT.ADD",this.loadingText="SELECT.LOADING",this.clearAllText="SELECT.CLEAR",this.disableVirtualScroll=!0,this.openOnEnter=!0,this.appearance="underline"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=i.Mb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var w=s("3Pt+"),S=s("eEJz");s.d(t,"b",(function(){return ne})),s.d(t,"a",(function(){return ae}));const O=["searchInput"];function x(e,t){if(1&e){const e=i.Xb();i.Wb(0,"span",15),i.ic("click",(function(t){i.Ic(e);const s=i.mc().$implicit;return i.mc(2).unselect(s)})),i.Tc(1,"\xd7"),i.Vb(),i.Rb(2,"span",16)}if(2&e){const e=i.mc().$implicit,t=i.mc(2);i.Ab(2),i.uc("ngItemLabel",e.label)("escape",t.escapeHTML)}}function y(e,t){}const k=function(e,t,s){return{item:e,clear:t,label:s}};function L(e,t){if(1&e&&(i.Wb(0,"div",12),i.Rc(1,x,3,2,"ng-template",null,13,i.Sc),i.Rc(3,y,0,0,"ng-template",14),i.Vb()),2&e){const e=t.$implicit,s=i.Fc(2),n=i.mc(2);i.Hb("j-value-disabled",e.disabled),i.Ab(3),i.uc("ngTemplateOutlet",n.labelTemplate||s)("ngTemplateOutletContext",i.Bc(4,k,e.value,n.clearItem,e.label))}}function C(e,t){if(1&e&&(i.Ub(0),i.Rc(1,L,4,8,"div",11),i.Tb()),2&e){const e=i.mc();i.Ab(1),i.uc("ngForOf",e.selectedItems)("ngForTrackBy",e.trackByOption)}}function E(e,t){}const A=function(e,t){return{items:e,clear:t}};function F(e,t){if(1&e&&i.Rc(0,E,0,0,"ng-template",14),2&e){const e=i.mc();i.uc("ngTemplateOutlet",e.multiLabelTemplate)("ngTemplateOutletContext",i.Ac(2,A,e.selectedValues,e.clearItem))}}function V(e,t){if(1&e){const e=i.Xb();i.Ub(0),i.Wb(1,"input",17,18),i.ic("input",(function(t){i.Ic(e);const s=i.Fc(2);return i.mc().filter(s.value)}))("compositionstart",(function(t){return i.Ic(e),i.mc().onCompositionStart()}))("compositionend",(function(t){i.Ic(e);const s=i.Fc(2);return i.mc().onCompositionEnd(s.value)}))("focus",(function(t){return i.Ic(e),i.mc().onInputFocus(t)}))("blur",(function(t){return i.Ic(e),i.mc().onInputBlur(t)}))("change",(function(t){return i.Ic(e),t.stopPropagation()})),i.Vb(),i.Tb()}if(2&e){const e=i.mc();i.Ab(1),i.uc("readOnly",!e.searchable||e.itemsList.maxItemsSelected)("disabled",e.disabled)("value",e.searchTerm?e.searchTerm:"")("jShadow",e.shadow)("mask",e.searchMask),i.Bb("id",e.labelForId)("tabindex",e.tabIndex)("aria-expanded",e.isOpen)("aria-owns",e.isOpen?e.dropdownId:null)("aria-activedescendant",e.isOpen?null==e.itemsList?null:null==e.itemsList.markedItem?null:e.itemsList.markedItem.htmlId:null)}}function P(e,t){if(1&e){const e=i.Xb();i.Wb(0,"input",19,18),i.ic("input",(function(t){i.Ic(e);const s=i.Fc(1);return i.mc().filter(s.value)}))("compositionstart",(function(t){return i.Ic(e),i.mc().onCompositionStart()}))("compositionend",(function(t){i.Ic(e);const s=i.Fc(1);return i.mc().onCompositionEnd(s.value)}))("focus",(function(t){return i.Ic(e),i.mc().onInputFocus(t)}))("blur",(function(t){return i.Ic(e),i.mc().onInputBlur(t)}))("change",(function(t){return i.Ic(e),t.stopPropagation()})),i.Vb()}if(2&e){const e=i.mc();i.uc("readOnly",!e.searchable||e.itemsList.maxItemsSelected)("disabled",e.disabled)("value",e.searchTerm?e.searchTerm:""),i.Bb("id",e.labelForId)("tabindex",e.tabIndex)("aria-expanded",e.isOpen)("aria-owns",e.isOpen?e.dropdownId:null)("aria-activedescendant",e.isOpen?null==e.itemsList?null:null==e.itemsList.markedItem?null:e.itemsList.markedItem.htmlId:null)}}function R(e,t){1&e&&i.Rb(0,"div",22)}function M(e,t){}function B(e,t){if(1&e&&(i.Ub(0),i.Rc(1,R,1,0,"ng-template",null,20,i.Sc),i.Rc(3,M,0,0,"ng-template",21),i.Tb()),2&e){const e=i.Fc(2),t=i.mc();i.Ab(3),i.uc("ngTemplateOutlet",t.loadingSpinnerTemplate||e)}}function D(e,t){if(1&e&&(i.Wb(0,"span",23),i.nc(1,"translate"),i.Wb(2,"span",24),i.Tc(3,"\xd7"),i.Vb(),i.Vb()),2&e){const e=i.mc();i.vc("title",i.oc(1,1,e.clearAllText))}}function H(e,t){if(1&e&&i.Rb(0,"span",30),2&e){const e=i.mc().$implicit,t=i.mc(2);i.uc("ngItemLabel",e.label)("escape",t.escapeHTML)}}function W(e,t){}const N=function(e,t,s,i){return{item:e,item$:t,index:s,searchTerm:i}};function $(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",28),i.ic("click",(function(s){i.Ic(e);const n=t.$implicit;return i.mc(2).toggleItem(n,s)}))("mouseover",(function(s){i.Ic(e);const n=t.$implicit;return i.mc(2).onItemHover(n)})),i.Rc(1,H,1,2,"ng-template",null,29,i.Sc),i.Rc(3,W,0,0,"ng-template",14),i.Vb()}if(2&e){const e=t.$implicit,s=i.Fc(2),n=i.mc(2);i.Hb("j-option-disabled",e.disabled)("j-option-selected",e.selected)("j-optgroup",e.children)("j-option",!e.children)("j-option-child",!!e.parent)("j-option-marked",e===n.itemsList.markedItem),i.Bb("role",e.children?"group":"option")("aria-selected",e.selected)("id",null==e?null:e.htmlId),i.Ab(3),i.uc("ngTemplateOutlet",e.children?n.optgroupTemplate||s:n.optionTemplate||s)("ngTemplateOutletContext",i.Cc(17,N,e.value,e,e.index,n.searchTerm))}}function z(e,t){if(1&e&&(i.Wb(0,"span"),i.Wb(1,"span",33),i.Tc(2),i.nc(3,"translate"),i.Vb(),i.Tc(4),i.Vb()),2&e){const e=i.mc(3);i.Ab(2),i.Uc(i.oc(3,2,e.addTagText)),i.Ab(2),i.Vc('"',e.searchTerm,'"')}}function Q(e,t){}const K=function(e){return{searchTerm:e}};function U(e,t){if(1&e){const e=i.Xb();i.Wb(0,"div",31),i.ic("mouseover",(function(t){return i.Ic(e),i.mc(2).itemsList.unmarkItem()}))("click",(function(t){return i.Ic(e),i.mc(2).selectTag()})),i.Rc(1,z,5,4,"ng-template",null,32,i.Sc),i.Rc(3,Q,0,0,"ng-template",14),i.Vb()}if(2&e){const e=i.Fc(2),t=i.mc(2);i.Hb("j-option-marked",!t.itemsList.markedItem),i.Ab(3),i.uc("ngTemplateOutlet",t.tagTemplate||e)("ngTemplateOutletContext",i.zc(4,K,t.searchTerm))}}function G(e,t){if(1&e&&(i.Wb(0,"div",35),i.Wb(1,"span",36),i.Tc(2),i.nc(3,"translate"),i.Vb(),i.Vb()),2&e){const e=i.mc(3);i.Ab(2),i.Uc(i.oc(3,1,e.notFoundText))}}function X(e,t){}function q(e,t){if(1&e&&(i.Ub(0),i.Rc(1,G,4,3,"ng-template",null,34,i.Sc),i.Rc(3,X,0,0,"ng-template",14),i.Tb()),2&e){const e=i.Fc(2),t=i.mc(2);i.Ab(3),i.uc("ngTemplateOutlet",t.notFoundTemplate||e)("ngTemplateOutletContext",i.zc(2,K,t.searchTerm))}}function J(e,t){if(1&e&&(i.Wb(0,"div",35),i.Tc(1),i.nc(2,"translate"),i.Vb()),2&e){const e=i.mc(3);i.Ab(1),i.Uc(i.oc(2,1,e.typeToSearchText))}}function Y(e,t){}function Z(e,t){if(1&e&&(i.Ub(0),i.Rc(1,J,3,3,"ng-template",null,37,i.Sc),i.Rc(3,Y,0,0,"ng-template",21),i.Tb()),2&e){const e=i.Fc(2),t=i.mc(2);i.Ab(3),i.uc("ngTemplateOutlet",t.typeToSearchTemplate||e)}}function ee(e,t){if(1&e&&(i.Wb(0,"div",35),i.Tc(1),i.nc(2,"translate"),i.Vb()),2&e){const e=i.mc(3);i.Ab(1),i.Uc(i.oc(2,1,e.loadingText))}}function te(e,t){}function se(e,t){if(1&e&&(i.Ub(0),i.Rc(1,ee,3,3,"ng-template",null,38,i.Sc),i.Rc(3,te,0,0,"ng-template",14),i.Tb()),2&e){const e=i.Fc(2),t=i.mc(2);i.Ab(3),i.uc("ngTemplateOutlet",t.loadingTextTemplate||e)("ngTemplateOutletContext",i.zc(2,K,t.searchTerm))}}function ie(e,t){if(1&e){const e=i.Xb();i.Wb(0,"j-dropdown-panel",25),i.ic("update",(function(t){return i.Ic(e),i.mc().viewPortItems=t}))("scroll",(function(t){return i.Ic(e),i.mc().scroll.emit(t)}))("scrollToEnd",(function(t){return i.Ic(e),i.mc().scrollToEnd.emit(t)}))("outsideClick",(function(t){return i.Ic(e),i.mc().close()})),i.Ub(1),i.Rc(2,$,4,22,"div",26),i.Rc(3,U,4,6,"div",27),i.Tb(),i.Rc(4,q,4,4,"ng-container",3),i.Rc(5,Z,4,1,"ng-container",3),i.Rc(6,se,4,4,"ng-container",3),i.Vb()}if(2&e){const e=i.mc();i.Hb("j-select-multiple",e.multiple),i.uc("virtualScroll",e.virtualScroll)("bufferAmount",e.bufferAmount)("appendTo",e.appendTo)("position",e.dropdownPosition)("headerTemplate",e.headerTemplate)("footerTemplate",e.footerTemplate)("filterValue",e.searchTerm)("items",e.itemsList.filteredItems)("markedItem",e.itemsList.markedItem)("ngClass",e.appendTo?e.classes:null)("id",e.dropdownId),i.Ab(2),i.uc("ngForOf",e.viewPortItems)("ngForTrackBy",e.trackByOption),i.Ab(1),i.uc("ngIf",e.showAddTag),i.Ab(1),i.uc("ngIf",e.showNoItemsFound()),i.Ab(1),i.uc("ngIf",e.showTypeToSearch()),i.Ab(1),i.uc("ngIf",e.loading&&0===e.itemsList.filteredItems.length)}}const ne=new i.q("j-select-selection-model"),le=Object(v.a)(class{constructor(e,t,s,i,n){this._elementRef=e,this._defaultErrorStateMatcher=t,this._parentForm=s,this._parentFormGroup=i,this.ngControl=n}});let ae=(()=>{class e extends le{constructor(e,t,s,n,l,a,r,o,c,d){super(l,c,r,o,a),this.classes=e,this.autoFocus=t,this.ngControl=a,this._cd=d,this.markFirst=!0,this.dropdownPosition="auto",this.loading=!1,this.closeOnSelect=!0,this.hideSelected=!1,this.selectOnTab=!1,this.bufferAmount=4,this.selectableGroup=!1,this.selectableGroupAsModel=!0,this.searchFn=null,this.trackByFn=null,this.clearOnBackspace=!0,this.labelForId=null,this.inputAttrs={},this.readonly=!1,this.searchWhileComposing=!0,this.minTermLength=0,this.editableSearchTerm=!1,this.keyDownFn=e=>!0,this.multiple=!1,this.addTag=!1,this.searchable=!0,this.clearable=!0,this.isOpen=!1,this.controlType="select",this.blurEvent=new i.n,this.focusEvent=new i.n,this.changeEvent=new i.n,this.openEvent=new i.n,this.closeEvent=new i.n,this.searchEvent=new i.n,this.clearEvent=new i.n,this.addEvent=new i.n,this.removeEvent=new i.n,this.scroll=new i.n,this.scrollToEnd=new i.n,this.viewPortItems=[],this.searchTerm=null,this.dropdownId=Object(m.generateUniqueId)(),this.id=this.dropdownId,this.escapeHTML=!0,this.useDefaultClass=!0,this.stateChanges=new h.a,this._items=[],this._defaultLabel="label",this._pressedKeys=[],this._isComposing=!1,this._destroy$=new h.a,this._keyPress$=new h.a,this._onChange=e=>{},this._onTouched=()=>{},this.clearItem=e=>{const t=this.selectedItems.find(t=>t.value===e);this.unselect(t)},this.trackByOption=(e,t)=>this.trackByFn?this.trackByFn(t.value):t,this.ngControl&&(this.ngControl.valueAccessor=this),this._mergeGlobalConfig(s),this.itemsList=new b(this,n()),this.element=l.nativeElement}get items(){return this._items}set items(e){this._itemsAreUsed=!0,this._items=e}get compareWith(){return this._compareWith}set compareWith(e){if(!Object(p.c)(e))throw Error("`compareWith` must be a function.");this._compareWith=e}get value(){return this._value}set value(e){e!==this._value&&(this.writeValue(e),this._value=e)}get clearSearchOnAdd(){return Object(p.b)(this._clearSearchOnAdd)?this._clearSearchOnAdd:this.closeOnSelect}set clearSearchOnAdd(e){this._clearSearchOnAdd=e}get disabled(){return this.readonly||this._disabled}get filtered(){return!!this.searchTerm&&this.searchable||this._isComposing}get _editableSearchTerm(){return this.editableSearchTerm&&!this.multiple}get shouldLabelFloat(){return this.isOpen&&this.searchable||this.searchable&&this.focused||!this.empty}get empty(){return!this.hasValue}get selectedItems(){return this.itemsList.selectedItems}get selectedValues(){return this.selectedItems.map(e=>e.value)}get hasValue(){return this.selectedItems.some(e=>e.value)}get currentPanelPosition(){if(this.dropdownPanel)return this.dropdownPanel.currentPosition}ngOnInit(){}ngOnChanges(e){e.multiple&&this.itemsList.clearSelected(),e.items&&this._setItems(e.items.currentValue||[]),e.isOpen&&(this._manualOpen=Object(p.b)(e.isOpen.currentValue))}ngDoCheck(){this.ngControl&&this.updateErrorState()}ngAfterViewInit(){this._handleKeyPresses(),this._setInputAttributes(),this._itemsAreUsed||(this.escapeHTML=!1,this._setItemsFromNgOptions()),Object(p.b)(this.autoFocus)&&this.focus()}ngOnDestroy(){this._destroy$.next(),this._destroy$.complete()}handleKeyDown(e){if(f.b[e.which]){if(!1===this.keyDownFn(e))return;this.handleKeyCode(e)}else e.key&&1===e.key.length&&this._keyPress$.next(e.key.toLocaleLowerCase())}handleKeyCode(e){switch(e.which){case f.b.ArrowDown:this._handleArrowDown(e);break;case f.b.ArrowUp:this._handleArrowUp(e);break;case f.b.Space:this._handleSpace(e);break;case f.b.Enter:this._handleEnter(e);break;case f.b.Tab:this._handleTab(e);break;case f.b.Esc:this.close(),e.preventDefault();break;case f.b.Backspace:this._handleBackspace()}}handleMousedown(e){const t=e.target;"INPUT"!==t.tagName&&e.preventDefault(),t.classList.contains("j-clear-wrapper")?this.handleClearClick():t.classList.contains("j-arrow-wrapper")?this.handleArrowClick():t.classList.contains("j-value-icon")||(this.focused||this.focus(),this.searchable?this.open():this.toggle())}onContainerClick(e){this.handleMousedown(e)}handleArrowClick(){this.isOpen?this.close():this.open()}handleClearClick(){this.hasValue&&(this.itemsList.clearSelected(!0),this._updateNgModel()),this._clearSearch(),this.focus(),this.clearEvent.emit(),this._onSelectionChanged()}clearModel(){this.clearable&&(this.itemsList.clearSelected(),this._updateNgModel())}writeValue(e){this.itemsList.clearSelected(),this._handleWriteValue(e),this._cd.markForCheck()}setDescribedByIds(e){}registerOnChange(e){this._onChange=e}registerOnTouched(e){this._onTouched=e}setDisabledState(e){this._disabled=e}toggle(){this.isOpen?this.close():this.open()}open(){this.disabled||this.isOpen||this.itemsList.maxItemsSelected||this._manualOpen||(this._isTypeahead||this.addTag||!this.itemsList.noItemsToSelect)&&(this.isOpen=!0,this.itemsList.markSelectedOrDefault(this.markFirst),this.openEvent.emit(),this.searchable&&!this.searchTerm&&this.focus(),this.detectChanges())}close(){this.isOpen&&!this._manualOpen&&(this.isOpen=!1,this._editableSearchTerm?this.itemsList.resetFilteredItems():this._clearSearch(),this.itemsList.unmarkItem(),this._onTouched(),this.closeEvent.emit(),this.stateChanges.next(),this._cd.markForCheck())}toggleItem(e,t){t&&t.stopPropagation(),!e||e.disabled||this.disabled||(this.multiple&&e.selected?this.unselect(e):this.select(e),this._editableSearchTerm&&this._setSearchTermFromItems(),this._onSelectionChanged())}select(e){e.selected||(this.itemsList.select(e),this.clearSearchOnAdd&&!this._editableSearchTerm&&this._clearSearch(),this._updateNgModel(),this.multiple&&this.addEvent.emit(e.value)),(this.closeOnSelect||this.itemsList.noItemsToSelect)&&this.close()}focus(){this.searchInput.nativeElement.focus()}blur(){this.searchInput.nativeElement.blur()}unselect(e){e&&(this.itemsList.unselect(e),this.focus(),this._updateNgModel(),this.removeEvent.emit(e))}selectTag(){let e;e=Object(p.c)(this.addTag)?this.addTag(this.searchTerm):this._primitive?this.searchTerm:{[this.bindLabel]:this.searchTerm};const t=e=>this._isTypeahead||!this.isOpen?this.itemsList.mapItem(e,null):this.itemsList.addItem(e);Object(p.e)(e)?e.then(e=>this.select(t(e))).catch(()=>{}):e&&this.select(t(e))}showClear(){return this.clearable&&(this.hasValue||this.searchTerm)&&!this.disabled}get showAddTag(){if(!this._validTerm)return!1;const e=this.searchTerm.toLowerCase().trim();return this.addTag&&!this.itemsList.filteredItems.some(t=>t.label.toLowerCase()===e)&&(!this.hideSelected&&this.isOpen||!this.selectedItems.some(t=>t.label.toLowerCase()===e))&&!this.loading}showNoItemsFound(){const e=0===this.itemsList.filteredItems.length;return(e&&!this._isTypeahead&&!this.loading||e&&this._isTypeahead&&this._validTerm&&!this.loading)&&!this.showAddTag}showTypeToSearch(){return 0===this.itemsList.filteredItems.length&&this._isTypeahead&&!this._validTerm&&!this.loading}onCompositionStart(){this._isComposing=!0}onCompositionEnd(e){this._isComposing=!1,this.searchWhileComposing||this.filter(e)}filter(e){this._isComposing&&!this.searchWhileComposing||(this.searchTerm=e,this._isTypeahead&&(this._validTerm||0===this.minTermLength)&&this.typeahead.next(e),this._isTypeahead||(this.itemsList.filter(this.searchTerm),this.isOpen&&this.itemsList.markSelectedOrDefault(this.markFirst)),this.searchEvent.emit({term:e,items:this.itemsList.filteredItems.map(e=>e.value)}),this.open())}onInputFocus(e){this.focused||(this._editableSearchTerm&&this._setSearchTermFromItems(),this.element.classList.add("j-select-focused"),this.focusEvent.emit(e),this.focused=!0,this.stateChanges.next())}onInputBlur(e){this.element.classList.remove("j-select-focused"),this.blurEvent.emit(e),this.isOpen||this.disabled||(this._onTouched(),this.stateChanges.next(),this._cd.markForCheck()),this._editableSearchTerm&&this._setSearchTermFromItems(),this.focused=!1}onItemHover(e){e.disabled||this.itemsList.markItem(e)}detectChanges(){this._cd.destroyed||this._cd.markForCheck()}_setSearchTermFromItems(){const e=this.selectedItems&&this.selectedItems[0];this.searchTerm=e&&e.label||null}_setItems(e){const t=e[0];this.bindLabel=this.bindLabel||this._defaultLabel,this._primitive=Object(p.b)(t)?!Object(p.d)(t):this._primitive||this.bindLabel===this._defaultLabel,this.itemsList.setItems(e),e.length>0&&this.hasValue&&this.itemsList.mapSelectedItems(),this.isOpen&&Object(p.b)(this.searchTerm)&&!this._isTypeahead&&this.itemsList.filter(this.searchTerm),(this._isTypeahead||this.isOpen)&&this.itemsList.markSelectedOrDefault(this.markFirst)}_setItemsFromNgOptions(){const e=e=>{this.items=e.map(e=>({$ngOptionValue:e.value,$ngOptionLabel:e.elementRef.nativeElement.innerHTML,disabled:e.disabled})),this.itemsList.setItems(this.items),this.hasValue&&this.itemsList.mapSelectedItems(),this.detectChanges()},t=()=>{const e=Object(d.a)(this.ngOptions.changes,this._destroy$);Object(d.a)(...this.ngOptions.map(e=>e.stateChange$)).pipe(Object(n.a)(e)).subscribe(e=>{const t=this.itemsList.findItem(e.value);t.disabled=e.disabled,t.label=e.label||t.label})};this.ngOptions.changes.pipe(Object(l.a)(this.ngOptions),Object(n.a)(this._destroy$)).subscribe(s=>{this.bindLabel=this._defaultLabel,e(s),t()})}_isValidWriteValue(e){if(!Object(p.b)(e)||this.multiple&&""===e||Array.isArray(e)&&0===e.length)return!1;const t=e=>!(!Object(p.b)(this.compareWith)&&Object(p.d)(e)&&this.bindValue);return this.multiple?!!Array.isArray(e)&&e.every(e=>t(e)):t(e)}_handleWriteValue(e){if(!this._isValidWriteValue(e))return;const t=e=>{let t=this.itemsList.findItem(e);if(t)this.itemsList.select(t);else{const s=Object(p.d)(e),i=!s&&!this.bindValue;s||i?this.itemsList.select(this.itemsList.mapItem(e,null)):this.bindValue&&e&&(t={[this.bindLabel]:null,[this.bindValue]:e},this.itemsList.select(this.itemsList.mapItem(t,null)))}};this.multiple?e.forEach(e=>t(e)):t(e)}_handleKeyPresses(){this.searchable||this._keyPress$.pipe(Object(n.a)(this._destroy$),Object(a.a)(e=>this._pressedKeys.push(e)),Object(r.a)(200),Object(o.a)(()=>this._pressedKeys.length>0),Object(c.a)(()=>this._pressedKeys.join(""))).subscribe(e=>{const t=this.itemsList.findByLabel(e);t&&(this.isOpen?this.itemsList.markItem(t):this.select(t)),this._pressedKeys=[]})}_setInputAttributes(){const e=this.searchInput.nativeElement,t=Object.assign({type:"text",autocorrect:"off",autocapitalize:"off",autocomplete:this.labelForId?"off":this.dropdownId},this.inputAttrs);for(const s of Object.keys(t))e.setAttribute(s,t[s])}_updateNgModel(){const e=[];for(const s of this.selectedItems)if(this.bindValue){let t=null;t=s.children?s.value[(this.groupValue?this.bindValue:this.groupBy)||this.groupBy]:this.itemsList.resolveNested(s.value,this.bindValue),e.push(t)}else e.push(s.value);const t=this.selectedItems.map(e=>e.value);this.multiple?(this._onChange(e),this.changeEvent.emit(t)):(this._onChange(Object(p.b)(e[0])?e[0]:null),this.changeEvent.emit(t[0]))}_clearSearch(){this.searchTerm&&(this._changeSearch(null),this.itemsList.resetFilteredItems())}_changeSearch(e){this.searchTerm=e,this._isTypeahead&&this.typeahead.next(e)}_scrollToMarked(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollTo(this.itemsList.markedItem)}_scrollToTag(){this.isOpen&&this.dropdownPanel&&this.dropdownPanel.scrollToTag()}_onSelectionChanged(){this.isOpen&&this.multiple&&this.appendTo&&this.dropdownPanel.adjustPosition()}_handleTab(e){(!1!==this.isOpen||this.addTag)&&(this.selectOnTab?this.itemsList.markedItem?(this.toggleItem(this.itemsList.markedItem),e.preventDefault()):this.showAddTag?(this.selectTag(),e.preventDefault()):this.close():this.close())}_handleEnter(e){if(this.isOpen||this._manualOpen)this.itemsList.markedItem?this.toggleItem(this.itemsList.markedItem):this.showAddTag&&this.selectTag();else{if(!this.openOnEnter)return;this.open()}e.preventDefault()}_handleSpace(e){this.isOpen||this._manualOpen||(this.open(),e.preventDefault())}_handleArrowDown(e){this._nextItemIsTag(1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markNextItem(),this._scrollToMarked()),this.open(),e.preventDefault()}_handleArrowUp(e){this.isOpen&&(this._nextItemIsTag(-1)?(this.itemsList.unmarkItem(),this._scrollToTag()):(this.itemsList.markPreviousItem(),this._scrollToMarked()),e.preventDefault())}_nextItemIsTag(e){const t=this.itemsList.markedIndex+e;return this.addTag&&this.searchTerm&&this.itemsList.markedItem&&(t<0||t===this.itemsList.filteredItems.length)}_handleBackspace(){!this.searchTerm&&this.clearable&&this.clearOnBackspace&&this.hasValue&&(this.multiple?this.unselect(this.itemsList.lastSelectedItem):this.clearModel())}get _isTypeahead(){return this.typeahead&&this.typeahead.observers.length>0}get _validTerm(){const e=this.searchTerm&&this.searchTerm.trim();return e&&e.length>=this.minTermLength}_mergeGlobalConfig(e){this.placeholder=this.placeholder||e.placeholder,this.notFoundText=this.notFoundText||e.notFoundText,this.typeToSearchText=this.typeToSearchText||e.typeToSearchText,this.addTagText=this.addTagText||e.addTagText,this.loadingText=this.loadingText||e.loadingText,this.clearAllText=this.clearAllText||e.clearAllText,this.virtualScroll=Object(p.b)(this.virtualScroll)?this.virtualScroll:!!Object(p.b)(e.disableVirtualScroll)&&!e.disableVirtualScroll,this.openOnEnter=Object(p.b)(this.openOnEnter)?this.openOnEnter:e.openOnEnter,this.appendTo=this.appendTo||e.appendTo,this.bindValue=this.bindValue||e.bindValue,this.appearance=this.appearance||e.appearance}}return e.\u0275fac=function(t){return new(t||e)(i.fc("class"),i.fc("autofocus"),i.Qb(I),i.Qb(ne),i.Qb(i.l),i.Qb(w.s,10),i.Qb(w.v,8),i.Qb(w.l,8),i.Qb(S.a),i.Qb(i.h))},e.\u0275cmp=i.Kb({type:e,selectors:[["j-select"]],contentQueries:function(e,t,s){var n;1&e&&(i.Ib(s,u.j,!0,i.L),i.Ib(s,u.i,!0,i.L),i.Ib(s,u.d,!0,i.L),i.Ib(s,u.g,!0,i.L),i.Ib(s,u.b,!0,i.L),i.Ib(s,u.a,!0,i.L),i.Ib(s,u.h,!0,i.L),i.Ib(s,u.l,!0,i.L),i.Ib(s,u.f,!0,i.L),i.Ib(s,u.k,!0,i.L),i.Ib(s,u.e,!0,i.L),i.Ib(s,_.a,!0)),2&e&&(i.Ec(n=i.jc())&&(t.optionTemplate=n.first),i.Ec(n=i.jc())&&(t.optgroupTemplate=n.first),i.Ec(n=i.jc())&&(t.labelTemplate=n.first),i.Ec(n=i.jc())&&(t.multiLabelTemplate=n.first),i.Ec(n=i.jc())&&(t.headerTemplate=n.first),i.Ec(n=i.jc())&&(t.footerTemplate=n.first),i.Ec(n=i.jc())&&(t.notFoundTemplate=n.first),i.Ec(n=i.jc())&&(t.typeToSearchTemplate=n.first),i.Ec(n=i.jc())&&(t.loadingTextTemplate=n.first),i.Ec(n=i.jc())&&(t.tagTemplate=n.first),i.Ec(n=i.jc())&&(t.loadingSpinnerTemplate=n.first),i.Ec(n=i.jc())&&(t.ngOptions=n))},viewQuery:function(e,t){var s;1&e&&(i.Yc(g.a,!0),i.Yc(O,!0)),2&e&&(i.Ec(s=i.jc())&&(t.dropdownPanel=s.first),i.Ec(s=i.jc())&&(t.searchInput=s.first))},hostAttrs:["role","listbox"],hostVars:20,hostBindings:function(e,t){1&e&&i.ic("keydown",(function(e){return t.handleKeyDown(e)})),2&e&&i.Hb("j-select",t.useDefaultClass)("j-select-single",!t.multiple)("j-select-typeahead",t.typeahead)("j-select-multiple",t.multiple)("j-select-taggable",t.addTag)("j-select-searchable",t.searchable)("j-select-clearable",t.clearable)("j-select-opened",t.isOpen)("j-select-disabled",t.disabled)("j-select-filtered",t.filtered)},inputs:{bindLabel:"bindLabel",bindValue:"bindValue",markFirst:"markFirst",placeholder:"placeholder",notFoundText:"notFoundText",typeToSearchText:"typeToSearchText",addTagText:"addTagText",loadingText:"loadingText",clearAllText:"clearAllText",appearance:"appearance",dropdownPosition:"dropdownPosition",appendTo:"appendTo",loading:"loading",closeOnSelect:"closeOnSelect",hideSelected:"hideSelected",selectOnTab:"selectOnTab",openOnEnter:"openOnEnter",maxSelectedItems:"maxSelectedItems",groupBy:"groupBy",groupValue:"groupValue",bufferAmount:"bufferAmount",virtualScroll:"virtualScroll",selectableGroup:"selectableGroup",selectableGroupAsModel:"selectableGroupAsModel",searchFn:"searchFn",trackByFn:"trackByFn",clearOnBackspace:"clearOnBackspace",labelForId:"labelForId",inputAttrs:"inputAttrs",tabIndex:"tabIndex",readonly:"readonly",searchWhileComposing:"searchWhileComposing",minTermLength:"minTermLength",editableSearchTerm:"editableSearchTerm",errorStateMatcher:"errorStateMatcher",searchMask:"searchMask",keyDownFn:"keyDownFn",shadow:"shadow",typeahead:"typeahead",multiple:"multiple",addTag:"addTag",searchable:"searchable",clearable:"clearable",isOpen:"isOpen",items:"items",compareWith:"compareWith",value:"value",clearSearchOnAdd:"clearSearchOnAdd",required:"required"},outputs:{blurEvent:"blur",focusEvent:"focus",changeEvent:"change",openEvent:"open",closeEvent:"close",searchEvent:"search",clearEvent:"clear",addEvent:"add",removeEvent:"remove",scroll:"scroll",scrollToEnd:"scrollToEnd"},features:[i.zb([{provide:T.a,useExisting:e},j.a]),i.xb,i.yb()],decls:15,vars:12,consts:[[1,"j-select-container"],[1,"j-value-container","form-control"],[1,"j-placeholder"],[4,"ngIf"],[1,"j-search-input"],[4,"ngIf","ngIfElse"],["noMask",""],["class","j-clear-wrapper",3,"title",4,"ngIf"],[1,"j-arrow-wrapper"],[1,"j-arrow"],["class","j-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","j-select-multiple","ngClass","id","update","scroll","scrollToEnd","outsideClick",4,"ngIf"],["class","j-value",3,"j-value-disabled",4,"ngFor","ngForOf","ngForTrackBy"],[1,"j-value"],["defaultLabelTemplate",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true",1,"j-value-icon","left",3,"click"],[1,"j-value-label","j-value-label-default","text-truncate",3,"ngItemLabel","escape"],["role","combobox",3,"readOnly","disabled","value","jShadow","mask","input","compositionstart","compositionend","focus","blur","change"],["searchInput",""],["role","combobox",3,"readOnly","disabled","value","input","compositionstart","compositionend","focus","blur","change"],["defaultLoadingSpinnerTemplate",""],[3,"ngTemplateOutlet"],[1,"j-spinner-loader"],[1,"j-clear-wrapper",3,"title"],["aria-hidden","true",1,"j-clear"],[1,"j-dropdown-panel",3,"virtualScroll","bufferAmount","appendTo","position","headerTemplate","footerTemplate","filterValue","items","markedItem","ngClass","id","update","scroll","scrollToEnd","outsideClick"],["class","j-option",3,"j-option-disabled","j-option-selected","j-optgroup","j-option","j-option-child","j-option-marked","click","mouseover",4,"ngFor","ngForOf","ngForTrackBy"],["class","j-option","role","option",3,"j-option-marked","mouseover","click",4,"ngIf"],[1,"j-option",3,"click","mouseover"],["defaultOptionTemplate",""],[1,"j-option-label",3,"ngItemLabel","escape"],["role","option",1,"j-option",3,"mouseover","click"],["defaultTagTemplate",""],[1,"j-tag-label"],["defaultNotFoundTemplate",""],[1,"j-option","j-option-disabled"],[1,"text-center","text-muted"],["defaultTypeToSearchTemplate",""],["defaultLoadingTextTemplate",""]],template:function(e,t){if(1&e&&(i.Wb(0,"div",0),i.Wb(1,"div",1),i.Wb(2,"div",2),i.Tc(3),i.Vb(),i.Rc(4,C,2,2,"ng-container",3),i.Rc(5,F,1,5,void 0,3),i.Wb(6,"div",4),i.Rc(7,V,3,10,"ng-container",5),i.Rc(8,P,2,8,"ng-template",null,6,i.Sc),i.Vb(),i.Vb(),i.Rc(10,B,4,1,"ng-container",3),i.Rc(11,D,4,3,"span",7),i.Wb(12,"span",8),i.Rb(13,"span",9),i.Vb(),i.Vb(),i.Rc(14,ie,7,19,"j-dropdown-panel",10)),2&e){const e=i.Fc(9);i.Hb("j-appearance-outline","outline"===t.appearance)("j-has-value",t.hasValue),i.Ab(3),i.Uc(t.placeholder),i.Ab(1),i.uc("ngIf",!t.multiLabelTemplate&&t.selectedItems.length>0),i.Ab(1),i.uc("ngIf",t.multiLabelTemplate&&t.selectedValues.length>0),i.Ab(2),i.uc("ngIf",t.searchMask)("ngIfElse",e),i.Ab(3),i.uc("ngIf",t.loading),i.Ab(1),i.uc("ngIf",t.showClear()),i.Ab(3),i.uc("ngIf",t.isOpen)}},styles:[".j-select{position:relative;display:block;width:100%}.j-select [hidden]{display:none}.j-select.j-select-searchable .j-select-container .j-value-container .j-search-input{opacity:1}.j-select.j-select-disabled .j-select-container .j-value-container .j-placeholder,.j-select.j-select-disabled .j-select-container .j-value-container .j-value{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.j-select.j-select-disabled .j-arrow-wrapper{cursor:default}.j-select.j-select-filtered .j-placeholder{display:none}.j-select .j-select-container{cursor:default;display:-webkit-box;display:flex;outline:none;overflow:hidden;width:100%}.j-select .j-select-container .j-value-container{display:-webkit-box;display:flex;-webkit-box-flex:1;flex:1;-webkit-box-align:center;align-items:center}.j-select .j-select-container .j-value-container .j-search-input{opacity:0}.j-select .j-select-container .j-value-container .j-search-input>input{box-sizing:content-box;background:none transparent;border:0;box-shadow:none;outline:none;padding-left:2px;cursor:default;width:100%}.j-select .j-select-container .j-value-container .j-search-input>input::-ms-clear{display:none}.j-select .j-select-container .j-value-container .j-search-input>input[readonly]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:0;padding:0}.j-select.j-select-single.j-select-filtered .j-select-container .j-value-container .j-value{visibility:hidden}.j-select.j-select-single .j-select-container .j-value-container{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.j-select.j-select-single .j-select-container .j-value-container .j-value{padding-left:1px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.j-select.j-select-single .j-select-container .j-value-container .j-value .j-value-icon{display:none}.j-select.j-select-single .j-select-container .j-value-container .j-search-input{top:1.2em;position:absolute;left:0;width:100%}.j-select.j-select-multiple.j-select-disabled>.j-select-container .j-value-container .j-value .j-value-icon{display:none}.j-select.j-select-multiple .j-select-container .j-value-container{flex-wrap:wrap}.j-select.j-select-multiple .j-select-container .j-value-container .j-placeholder{position:absolute}.j-select.j-select-multiple .j-select-container .j-value-container .j-value{white-space:nowrap}.j-select.j-select-multiple .j-select-container .j-value-container .j-value.j-value-disabled .j-value-icon{display:none}.j-select.j-select-multiple .j-select-container .j-value-container .j-value .j-value-icon{cursor:pointer}.j-select.j-select-multiple .j-select-container .j-value-container .j-search-input{-webkit-box-flex:1;flex:1;z-index:2}.j-select.j-select-multiple .j-select-container .j-value-container .j-placeholder{z-index:1}.j-select .j-clear-wrapper{cursor:pointer;position:relative;width:17px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.j-select .j-clear-wrapper .j-clear{display:inline-block;font-size:18px;line-height:1;pointer-events:none}.j-select .j-spinner-loader{border-radius:50%;width:17px;height:17px;margin-right:5px;font-size:10px;position:relative;text-indent:-9999em;border:2px solid rgba(66,66,66,.2);border-left-color:#424242;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:load8 .8s linear infinite;animation:load8 .8s linear infinite}.j-select .j-spinner-loader:after{border-radius:50%;width:17px;height:17px}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes load8{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}.j-select .j-arrow-wrapper{cursor:pointer;position:relative;text-align:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.j-select .j-arrow-wrapper .j-arrow{pointer-events:none;display:inline-block;height:0;width:0;position:absolute}.j-dropdown-panel{box-sizing:border-box;position:absolute;opacity:0;width:100%;z-index:1050;-webkit-overflow-scrolling:touch}.j-dropdown-panel .j-dropdown-panel-items{display:block;height:auto;box-sizing:border-box;max-height:300px;overflow-y:auto}.j-dropdown-panel .j-dropdown-panel-items .j-optgroup{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.j-dropdown-panel .j-dropdown-panel-items .j-option{box-sizing:border-box;cursor:pointer;display:block}.j-dropdown-panel .j-dropdown-panel-items .j-option .highlighted{font-weight:700;text-decoration:underline}.j-dropdown-panel .j-dropdown-panel-items .j-option.disabled{cursor:default}.j-dropdown-panel .scroll-host{overflow:hidden;overflow-y:auto;position:relative;display:block;-webkit-overflow-scrolling:touch;padding-right:.5rem}.j-dropdown-panel .scroll-host::-webkit-scrollbar{width:8px}.j-dropdown-panel .scroll-host::-webkit-scrollbar-track{background:#fff}.j-dropdown-panel .scroll-host::-webkit-scrollbar-thumb{background:#b7bec5;border-radius:10px}.j-dropdown-panel .scrollable-content{top:0;left:0;width:100%;height:100%;position:absolute}.j-dropdown-panel .total-padding{width:1px;opacity:0}.j-form-field-type-select .j-form-field .j-form-field--infix{border-top:0;padding:0}.j-form-field-type-select .j-form-field-flex{display:-webkit-box;display:flex}.j-form-field-type-select .j-form-field--label-wrapper{top:0;box-sizing:border-box}.j-select:not(.j-select-filtered) .j-has-value .input-shadow{opacity:0}.j-value-container{position:relative;border:0;margin-left:.5em;margin-right:.5em;border-radius:0;background:none;padding:0;height:3.5em}.j-form-field-has-label .j-value-container{padding-top:1.7em;padding-bottom:.4em}.j-dropdown-panel{background-color:#fff;padding:1.5rem}.j-dropdown-panel.j-select-bottom{border-radius:0 0 8px 8px;margin-top:1px;box-shadow:0 14px 16px rgba(0,0,0,.05)}.j-dropdown-panel.j-select-top{border-radius:8px 8px 0 0;margin-bottom:2px;box-shadow:0 -1rem 3rem rgba(26,28,31,.175)}.j-dropdown-panel .j-option+.j-option{margin-top:.5rem}.j-value-label-default{display:block}.j-form-field-has-label .j-select.j-select-single .j-select-container .j-search-input{top:1.7em}"],encapsulation:2,changeDetection:0}),e})()},ObZ0:function(e,t,s){"use strict";s.d(t,"a",(function(){return Ht}));var i=s("ofXK"),n=s("Kj0E"),l=s("Q+Qo"),a=s("O1Qh"),r=s("vOW5"),o=s("Puj0"),c=s("tmjD"),h=s("PCNd"),d=s("fXoL"),u=s("JvPu"),p=s("wwEr"),m=s("3v+J"),b=s("Y+uv"),f=s("/zfT"),g=s("xWtO"),_=s("BV3K"),j=s("B+58"),T=s("zOyH"),v=s("Cg+c"),I=s("Dwsl"),w=s("+uUT"),S=s("Ya7Z"),O=s("13E/"),x=s("cZYL"),y=s("jMpN"),k=s("ttPG"),L=s("vZvt"),C=s("mCLR"),E=s("0eeg"),A=s("Wo9y"),F=s("EBek"),V=s("570E"),P=s("zdqJ"),R=s("i2Gl"),M=s("Kcpt"),B=s("Frqi"),D=s("M6pS"),H=s("paXB"),W=s("Q98t"),N=s("EiG8"),$=s("4oqK"),z=s("c66K"),Q=s("QfCG"),K=s("oa9T"),U=s("SfXN"),G=s("H6TZ"),X=s("jRXw"),q=s("2aJj"),J=s("VA2L"),Y=s("0AMz"),Z=s("W3Es"),ee=s("R4CF"),te=s("9txL"),se=s("LXWx"),ie=s("5I09"),ne=s("S1F0"),le=s("oKsb"),ae=s("fvpk"),re=s("Tile"),oe=s("aF9I"),ce=s("aZ8m"),he=s("UhoJ"),de=s("sCra"),ue=s("fGuG"),pe=s("7/bn"),me=s("Bl/x"),be=s("zN9f"),fe=s("Kx/q"),ge=s("2FF4"),_e=s("bSvt"),je=s("jH+I"),Te=s("4cI0"),ve=s("kUBv"),Ie=s("9Udv"),we=s("0jn5"),Se=s("fK/r"),Oe=s("Hjq/"),xe=s("PGAL"),ye=s("Kx0l"),ke=s("gdaf"),Le=s("LFY/"),Ce=s("I+WJ"),Ee=s("lABO"),Ae=s("hJI6"),Fe=s("JB36"),Ve=s("4zJ+"),Pe=s("XpgD"),Re=s("MfWJ"),Me=s("B8HE"),Be=s("5DAB"),De=s("DHTX"),He=s("6goL"),We=s("kDIH"),Ne=s("BAfr"),$e=s("ajRT"),ze=s("NpBu"),Qe=s("TaxS"),Ke=s("tkTF"),Ue=s("yy4r"),Ge=s("wGsJ"),Xe=s("ZVDf"),qe=s("l/gM"),Je=s("UoEe"),Ye=s("gN/K"),Ze=s("+hcb"),et=s("h7tf"),tt=s("9odQ"),st=s("WqMH"),it=s("3MRA"),nt=s("y6vz"),lt=s("Zgqj"),at=s("oMXN"),rt=s("rqas"),ot=s("dnqU"),ct=s("tp+K"),ht=s("saU0"),dt=s("ZF3e"),ut=s("JqCM"),pt=s("qew9"),mt=s("d/d6"),bt=s("e8Ap"),ft=s("sYmb"),gt=s("1kSV"),_t=s("Dvla"),jt=s("K1R0"),Tt=s("xJkR"),vt=s("dlKe"),It=s("DPnb"),wt=s("C6g9"),St=s("3M96"),Ot=s("DHcY"),xt=s("adOO"),yt=s("Eajh"),kt=s("Ub7F"),Lt=s("OHc7"),Ct=s("I0Rk"),Et=s("tepA"),At=s("Bs9s"),Ft=s("ScFe"),Vt=s("SCaJ"),Pt=s("wV3k"),Rt=s("wY9W"),Mt=s("7Fmj"),Bt=s("g1SY"),Dt=s("3skF");let Ht=(()=>{class e{}return e.\u0275mod=d.Ob({type:e}),e.\u0275inj=d.Nb({factory:function(t){return new(t||e)},providers:[{provide:a.b,useValue:o.a}],imports:[[i.c,h.a,c.c.forChild()]]}),e})();d.Lc(a.a,[n.a,l.a,a.a,r.i,r.j,r.d,r.g,r.b,r.a,r.h,r.l,r.f,r.k,r.e,r.c,i.r,i.s,i.t,i.u,i.B,i.x,i.y,i.z,i.A,i.v,i.w,u.a,p.a,m.a,b.a,f.a,g.a,_.b,j.a,T.a,v.a,I.a,w.a,S.a,_.a,O.a,x.b,x.a,y.a,k.a,L.a,C.a,E.a,A.a,F.a,V.a,P.a,R.b,M.a,B.a,D.a,H.a,W.a,N.a,$.a,z.a,Q.a,K.a,U.a,G.a,X.a,q.a,J.a,Y.a,Z.a,ee.a,te.a,se.a,ie.a,ne.a,le.a,ae.a,re.a,oe.a,ce.a,he.a,de.a,ue.a,pe.a,me.a,be.a,fe.a,ge.a,_e.a,je.a,Te.a,ve.a,Ie.a,we.a,Se.a,Oe.a,xe.a,ye.a,ke.a,Le.a,Ce.a,Ee.a,Ae.a,Fe.a,Ve.a,Pe.a,Re.a,Me.a,Be.b,De.a,He.a,We.a,Ne.a,$e.a,ze.a,Qe.a,Ke.a,Ue.a,Ge.a,Xe.a,qe.a,Je.a,Ye.a,Ze.a,et.a,tt.b,st.a,it.a,nt.a,lt.a,at.a,rt.a,ot.a,ct.a,ht.a,dt.a,c.a,ut.a,pt.a,mt.a,bt.a,ft.a,gt.E,gt.C,_t.a,_t.b,jt.a,Tt.a,vt.a,It.a,It.c,It.b,wt.a,St.a],[i.b,i.I,i.q,i.l,i.F,i.g,i.D,i.G,i.d,i.f,i.j,i.k,i.m,Ot.a,xt.a,yt.a,kt.a,Lt.a,Ct.a,Et.a,At.a,Ft.a,Vt.a,Pt.a,Rt.a,Mt.a,Bt.a,c.b,Dt.a,ft.d])},Puj0:function(e,t,s){"use strict";s.d(t,"b",(function(){return i})),s.d(t,"a",(function(){return n}));var i=function(e){return e[e.Tab=9]="Tab",e[e.Enter=13]="Enter",e[e.Esc=27]="Esc",e[e.Space=32]="Space",e[e.ArrowUp=38]="ArrowUp",e[e.ArrowDown=40]="ArrowDown",e[e.Backspace=8]="Backspace",e}({});function n(){return new l}class l{constructor(){this._selected=[]}get value(){return this._selected}select(e,t,s){if(e.selected=!0,(!e.children||!t&&s)&&this._selected.push(e),t)if(e.parent){const t=e.parent.children.length,s=e.parent.children.filter(e=>e.selected).length;e.parent.selected=t===s}else e.children&&(this._setChildrenSelectedState(e.children,!0),this._removeChildren(e),this._selected=s&&this._activeChildren(e)?[...this._selected.filter(t=>t.parent!==e),e]:[...this._selected,...e.children.filter(e=>!e.disabled)])}unselect(e,t){if(this._selected=this._selected.filter(t=>t!==e),e.selected=!1,t)if(e.parent&&e.parent.selected){const t=e.parent.children;this._removeParent(e.parent),this._removeChildren(e.parent),this._selected.push(...t.filter(t=>t!==e&&!t.disabled)),e.parent.selected=!1}else e.children&&(this._setChildrenSelectedState(e.children,!1),this._removeChildren(e))}clear(e){this._selected=e?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(e,t){for(const s of e)s.disabled||(s.selected=t)}_removeChildren(e){this._selected=[...this._selected.filter(t=>t.parent!==e),...e.children.filter(t=>t.parent===e&&t.disabled&&t.selected)]}_removeParent(e){this._selected=this._selected.filter(t=>t!==e)}_activeChildren(e){return e.children.every(e=>!e.disabled||e.selected)}}},"Q+Qo":function(e,t,s){"use strict";s.d(t,"a",(function(){return a}));var i=s("XNiG"),n=s("fXoL");const l=["*"];let a=(()=>{class e{constructor(e){this.elementRef=e,this.stateChange$=new i.a,this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=this._isDisabled(e)}get label(){return(this.elementRef.nativeElement.textContent||"").trim()}ngOnChanges(e){e.disabled&&this.stateChange$.next({value:this.value,disabled:this._disabled})}ngAfterViewChecked(){this.label!==this._previousLabel&&(this._previousLabel=this.label,this.stateChange$.next({value:this.value,disabled:this._disabled,label:this.elementRef.nativeElement.innerHTML}))}ngOnDestroy(){this.stateChange$.complete()}_isDisabled(e){return null!=e&&"false"!==`${e}`}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.l))},e.\u0275cmp=n.Kb({type:e,selectors:[["j-option"]],inputs:{value:"value",disabled:"disabled"},features:[n.yb()],ngContentSelectors:l,decls:1,vars:0,template:function(e,t){1&e&&(n.tc(),n.sc(0))},encapsulation:2,changeDetection:0}),e})()},vOW5:function(e,t,s){"use strict";s.d(t,"c",(function(){return l})),s.d(t,"j",(function(){return a})),s.d(t,"i",(function(){return r})),s.d(t,"d",(function(){return o})),s.d(t,"g",(function(){return c})),s.d(t,"b",(function(){return h})),s.d(t,"a",(function(){return d})),s.d(t,"h",(function(){return u})),s.d(t,"l",(function(){return p})),s.d(t,"f",(function(){return m})),s.d(t,"k",(function(){return b})),s.d(t,"e",(function(){return f}));var i=s("/Vf3"),n=s("fXoL");let l=(()=>{class e{constructor(e){this.element=e,this.escape=!0}ngOnChanges(e){this.element.nativeElement.innerHTML=this.escape?Object(i.a)(this.ngItemLabel):this.ngItemLabel}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.l))},e.\u0275dir=n.Lb({type:e,selectors:[["","ngItemLabel",""]],inputs:{ngItemLabel:"ngItemLabel",escape:"escape"},features:[n.yb()]}),e})(),a=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-option-tmp",""]]}),e})(),r=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-optgroup-tmp",""]]}),e})(),o=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-label-tmp",""]]}),e})(),c=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-multi-label-tmp",""]]}),e})(),h=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-header-tmp",""]]}),e})(),d=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-footer-tmp",""]]}),e})(),u=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-notfound-tmp",""]]}),e})(),p=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-typetosearch-tmp",""]]}),e})(),m=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-loadingtext-tmp",""]]}),e})(),b=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-tag-tmp",""]]}),e})(),f=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(n.Qb(n.L))},e.\u0275dir=n.Lb({type:e,selectors:[["","j-loadingspinner-tmp",""]]}),e})()}}]);