(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"+eKG":function(t,e,n){"use strict";var a=n("0zi4");n.d(e,"a",(function(){return a.a}))},"/68H":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("fXoL"),i=n("ofXK"),o=n("xJkR");const c=function(){return{width:"200px",height:"25px","background-color":"#ECEEF1"}},s=function(){return{height:"115px","background-color":"#ECEEF1"}};function r(t,e){1&t&&(a.Ub(0),a.Rb(1,"ngx-skeleton-loader",1),a.Rb(2,"ngx-skeleton-loader",1),a.Rb(3,"ngx-skeleton-loader",1),a.Tb()),2&t&&(a.Ab(1),a.uc("theme",a.yc(3,c)),a.Ab(1),a.uc("theme",a.yc(4,s)),a.Ab(1),a.uc("theme",a.yc(5,s)))}let l=(()=>{class t{constructor(){this.count=2}ngOnInit(){}get loadingCount(){return Array(this.count)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-statement-loading"]],inputs:{count:"count"},decls:1,vars:1,consts:[[4,"ngFor","ngForOf"],[3,"theme"]],template:function(t,e){1&t&&a.Rc(0,r,4,6,"ng-container",0),2&t&&a.uc("ngForOf",e.loadingCount)},directives:[i.t,o.a],styles:["[_nghost-%COMP%]{overflow:hidden;max-height:calc(100vh - 300px)}"]}),t})()},"0kjH":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("fXoL"),i=n("ofXK"),o=n("1kSV"),c=n("e8Ap");function s(t,e){if(1&t){const t=a.Xb();a.Wb(0,"a",8),a.ic("click",(function(n){a.Ic(t);const i=e.$implicit;return a.mc().onDownload(i.value,n)})),a.Tc(1),a.Vb()}if(2&t){const t=e.$implicit;a.Ab(1),a.Vc(" ",t.label," ")}}function r(t,e){if(1&t){const t=a.Xb();a.Wb(0,"button",9),a.ic("click",(function(n){a.Ic(t);const i=e.$implicit;return a.mc().onDownload(i.value)})),a.Tc(1),a.Vb()}if(2&t){const t=e.$implicit;a.Ab(1),a.Uc(t.label)}}let l=(()=>{class t{constructor(){this.downloaded=new a.n,this.downloadList=[{label:"PDF",value:"application/pdf"},{label:"EXL",value:"application/xls"},{label:"1C",value:"application/1c"},{label:"XML",value:"application/xml"},{label:"MT940",value:"application/mt940"}]}ngOnInit(){}onDownload(t,e=null){e&&e.preventDefault(),this.downloaded.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-download"]],inputs:{downloadList:"downloadList"},outputs:{downloaded:"downloaded"},decls:8,vars:2,consts:[[1,"d-sm-none","d-lg-flex"],["href","#","class","download-link",3,"click",4,"ngFor","ngForOf"],[1,"d-none","d-sm-block","d-lg-none"],["ngbDropdown","",1,"d-inline-block"],["href","#","ngbDropdownToggle","",1,"download-dropdown-toggle","no-caret","link-blue",3,"click"],["inlineSVG","/assets/icons/download.svg"],["ngbDropdownMenu","",1,"filter-dropdown-menu"],["ngbDropdownItem","","class","filter-dropdown-item",3,"click",4,"ngFor","ngForOf"],["href","#",1,"download-link",3,"click"],["ngbDropdownItem","",1,"filter-dropdown-item",3,"click"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Rc(1,s,2,1,"a",1),a.Vb(),a.Wb(2,"div",2),a.Wb(3,"div",3),a.Wb(4,"a",4),a.ic("click",(function(t){return t.preventDefault()})),a.Rb(5,"span",5),a.Vb(),a.Wb(6,"div",6),a.Rc(7,r,2,1,"button",7),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Ab(1),a.uc("ngForOf",e.downloadList),a.Ab(6),a.uc("ngForOf",e.downloadList))},directives:[i.t,o.i,o.n,c.a,o.l,o.k],styles:[".download-link[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin:1rem 0;color:#666c72;border-radius:8px}@media(min-width:1280px){.download-link[_ngcontent-%COMP%]{color:#1586bb;margin:0;padding:8px 4px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}}.download-link[_ngcontent-%COMP%]:hover{color:#ef5630}@media(min-width:1280px){.download-link[_ngcontent-%COMP%]:hover{background:#e9ecf1;color:#1586bb}}.download-dropdown-toggle[_ngcontent-%COMP%]{height:35px;padding:0 .25rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.download-dropdown-toggle[_ngcontent-%COMP%]:hover{opacity:.6;color:#1586bb}.download-dropdown-toggle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{flex-shrink:0;display:block}.download-dropdown-toggle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%] + span[_ngcontent-%COMP%]{margin-left:8px}"]}),t})()},"0zi4":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("mrSG"),i=n("tk/3"),o=n("zwEd"),c=n("XNiG"),s=n("lJxs"),r=n("SpoB"),l=n("L+ju"),d=n("fXoL"),b=n("p6Hd"),u=n("VnnJ"),m=n("KWy3"),p=n("sYmb"),h=n("VO+5");let g=(()=>{class t{constructor(t,e,n,a,i){this.apiService=t,this.companyService=e,this.statementService=n,this.translateService=a,this.notifierService=i,this.cardsUpdated$=new c.a}getStatement(t,e,n=1,i=50,o=null){return Object(a.a)(this,void 0,void 0,(function*(){if(this.cashedStatement&&this.cashedFilter===e&&this.cashedPageNumber===n&&this.cashedPageSize===i&&this.cardId===t&&!o)return this.cashedStatement;const a=`companies/${this.companyService.currentId}/corporate-cards/${t}/statements`;let c;c=!o&&this.cashedFilter===e&&n>this.cashedPageNumber;try{const s=yield this.statementService.getStatement(a,e,this.cashedStatement,c,n,i,!1,o,l.a.CARD);return o?s:(this.cashedFilter=e,this.cashedPageNumber=n,this.cashedPageSize=i,this.cashedStatement=s,this.cardId=t,this.cashedStatement)}catch(s){throw s}}))}mapCardLabel(t){if(t.alias)return t.alias;switch(t.category){case o.a.PRIVATE:return"ACCOUNTS.PRIVATE_CARD";case o.a.COMMERCIAL:return this.companyService.currentCompany.type==r.b.CORPORATE?"ACCOUNTS.CORPORATE_CARD":"ACCOUNTS.ENTREPRENEUR_CARD";default:return"ACCOUNTS.CARD"}}getCorporateCards(){return Object(a.a)(this,void 0,void 0,(function*(){const t=`companies/${this.companyService.currentId}/corporate-cards`;let e=(new i.h).set("includePrivate","true");const n=yield this.apiService.get(t,null,e);return this.cardsList=n.map(t=>new o.c(t)),this.cardsList}))}getCorporateCardsAsObservable(){const t=`companies/${this.companyService.currentId}/corporate-cards`;let e=(new i.h).set("includePrivate","true");return this.apiService.getObservable(t,null,e).pipe(Object(s.a)(t=>(this.cardsList=t.map(t=>new o.c(t)),this.cardsList)))}getCardById(t){return Object(a.a)(this,void 0,void 0,(function*(){return this.cardsList||(yield this.getCorporateCards()),this.findCardById(t)}))}getQrImg(t,e){return Object(a.a)(this,void 0,void 0,(function*(){const n=`companies/${this.companyService.currentId}/corporate-cards/${t}/qr`;let a=new i.h;return a=a.append("iban",e),this.apiService.get(n,null,a)}))}getQrPrint(t,e){return Object(a.a)(this,void 0,void 0,(function*(){const n=`companies/${this.companyService.currentId}/corporate-cards/${t}/qr/print`;let a=new i.g;a=a.set("Content-Type","application/octet-stream");let o=new i.h;return o=o.append("iban",e),this.apiService.get(n,a,o,{responseType:"blob"})}))}getPdf(t){return Object(a.a)(this,void 0,void 0,(function*(){const e=`companies/${this.companyService.currentId}/corporate-cards/${t}/requisites`;let n=new i.g;n=n.set("Accept-File","application/pdf"),n=n.set("Content-Type","application/octet-stream");const a=new i.h;return this.apiService.get(e,n,a,{responseType:"blob"})}))}changeCardStatus(t,e){return Object(a.a)(this,void 0,void 0,(function*(){const n=`companies/${this.companyService.currentId}/corporate-cards/${t}/status`,a={status:e?"BLOCK":"UNBLOCK"};try{const i=yield this.apiService.post(n,a);return this.cardsList.find(e=>e.cardId===t).status=e?o.b.TEMPORARILY_LOCK:o.b.ACTIVE,this.cardsUpdated$.next(this.cardsList),this.showCardStatusChangeSuccessNotification(e),i}catch(i){throw this.showCardStatusChangeErrorNotification(e),i}}))}changeCardVisibility(t,e){return Object(a.a)(this,void 0,void 0,(function*(){const n=`companies/${this.companyService.currentId}/corporate-cards/${t}:${e?"hide":"unhide"}`;try{const a=yield this.apiService.patch(n);return this.cardsList.find(e=>e.cardId===t).hidden=e,this.cardsUpdated$.next(this.cardsList),this.showCardVisibilityChangeSuccessNotification(e),a}catch(a){throw this.showCardVisibilityChangeErrorNotification(e),a}}))}mapCardStatus(t){const e="CARDS.STATUS.TITLE.";switch(t){case o.b.EXPIRED:return`${e}EXPIRED`;case o.b.TEMPORARILY_LOCK:return`${e}TEMPORARILY_LOCK`;case o.b.FRAUD:case o.b.LOST_LOCK:case o.b.THEFT_LOCK:return`${e}LOCK`;default:return`${e}ACTIVE`}}findCardById(t){return this.cardsList.find(e=>e.cardId===t)}renameCard(t,e){return this.apiService.put(`companies/${this.companyService.currentId}/corporate-cards/${t}/alias`,{alias:e})}showCardStatusChangeSuccessNotification(t){const e=this.translateService.instant(`CARDS.SETTINGS.LOCK.${t?"ACTIVATED_NOTIFICATION":"DEACTIVATED_NOTIFICATION"}`);this.notifierService.hideAll(),this.notifierService.notify("default",e)}showCardStatusChangeErrorNotification(t){const e=this.translateService.instant(`CARDS.SETTINGS.LOCK.${t?"ACTIVATED_FAILED":"DEACTIVATED_FAILED"}`);this.notifierService.hideAll(),this.notifierService.notify("error",e)}showCardVisibilityChangeSuccessNotification(t){const e=this.translateService.instant(`CARDS.SETTINGS.HIDE.${t?"HIDDEN_NOTIFICATION":"SHOWN_NOTIFICATION"}`);this.notifierService.hideAll(),this.notifierService.notify("default",e)}showCardVisibilityChangeErrorNotification(t){const e=this.translateService.instant(`CARDS.SETTINGS.HIDE.${t?"HIDDEN_FAILED":"SHOWN_FAILED"}`);this.notifierService.hideAll(),this.notifierService.notify("error",e)}}return t.\u0275fac=function(e){return new(e||t)(d.ec(b.a),d.ec(u.a),d.ec(m.b),d.ec(p.e),d.ec(h.c))},t.\u0275prov=d.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"4Nuw":function(t,e,n){"use strict";var a=n("L+ju"),i=n("xErE"),o=n("mQSa");n("UZjs"),n("hsBV"),n("pZP7"),n.d(e,"a",(function(){return a.a})),n.d(e,"d",(function(){return a.c})),n.d(e,"c",(function(){return i.a})),n.d(e,"b",(function(){return o.a}))},"5cNS":function(t,e,n){"use strict";var a=n("ofXK"),i=n("3Pt+"),o=n("1kSV"),c=n("tmjD"),s=n("sYmb"),r=n("PCNd"),l=n("M4UK"),d=n("fXoL"),b=n("THGi"),u=n("x2ms"),m=n("CqcL"),p=n("0kjH"),h=n("n6qU"),g=n("77FI"),f=n("sFIr"),T=n("AOrV"),y=n("6ElB"),v=n("9PaV"),S=n("u+5l"),_=n("zt08"),A=n("l2AU"),C=n("JvPu"),O=n("wwEr"),I=n("3v+J"),E=n("Y+uv"),x=n("/zfT"),P=n("xWtO"),w=n("BV3K"),R=n("B+58"),V=n("zOyH"),M=n("Cg+c"),k=n("Dwsl"),W=n("+uUT"),N=n("Ya7Z"),L=n("13E/"),D=n("cZYL"),j=n("jMpN"),F=n("ttPG"),U=n("vZvt"),G=n("mCLR"),B=n("0eeg"),H=n("Wo9y"),Y=n("EBek"),K=n("570E"),$=n("zdqJ"),Q=n("i2Gl"),X=n("Kcpt"),q=n("Frqi"),z=n("M6pS"),J=n("paXB"),Z=n("Q98t"),tt=n("EiG8"),et=n("4oqK"),nt=n("c66K"),at=n("QfCG"),it=n("oa9T"),ot=n("SfXN"),ct=n("H6TZ"),st=n("jRXw"),rt=n("2aJj"),lt=n("VA2L"),dt=n("0AMz"),bt=n("W3Es"),ut=n("R4CF"),mt=n("9txL"),pt=n("LXWx"),ht=n("5I09"),gt=n("S1F0"),ft=n("oKsb"),Tt=n("fvpk"),yt=n("Tile"),vt=n("aF9I"),St=n("aZ8m"),_t=n("UhoJ"),At=n("sCra"),Ct=n("fGuG"),Ot=n("7/bn"),It=n("Bl/x"),Et=n("zN9f"),xt=n("Kx/q"),Pt=n("2FF4"),wt=n("bSvt"),Rt=n("jH+I"),Vt=n("4cI0"),Mt=n("kUBv"),kt=n("9Udv"),Wt=n("0jn5"),Nt=n("fK/r"),Lt=n("Hjq/"),Dt=n("PGAL"),jt=n("Kx0l"),Ft=n("gdaf"),Ut=n("LFY/"),Gt=n("I+WJ"),Bt=n("lABO"),Ht=n("hJI6"),Yt=n("JB36"),Kt=n("4zJ+"),$t=n("XpgD"),Qt=n("MfWJ"),Xt=n("B8HE"),qt=n("5DAB"),zt=n("DHTX"),Jt=n("6goL"),Zt=n("kDIH"),te=n("BAfr"),ee=n("ajRT"),ne=n("NpBu"),ae=n("TaxS"),ie=n("tkTF"),oe=n("yy4r"),ce=n("wGsJ"),se=n("ZVDf"),re=n("l/gM"),le=n("UoEe"),de=n("gN/K"),be=n("+hcb"),ue=n("h7tf"),me=n("9odQ"),pe=n("WqMH"),he=n("3MRA"),ge=n("y6vz"),fe=n("Zgqj"),Te=n("oMXN"),ye=n("rqas"),ve=n("dnqU"),Se=n("tp+K"),_e=n("saU0"),Ae=n("ZF3e"),Ce=n("JqCM"),Oe=n("qew9"),Ie=n("d/d6"),Ee=n("e8Ap"),xe=n("Dvla"),Pe=n("K1R0"),we=n("xJkR"),Re=n("dlKe"),Ve=n("DPnb"),Me=n("C6g9"),ke=n("3M96");function We(t,e){if(1&t&&(d.Wb(0,"section",1),d.Rb(1,"j-entity-logo",2),d.Wb(2,"article",3),d.Wb(3,"div",4),d.Tc(4),d.nc(5,"translate"),d.Vb(),d.Wb(6,"div",5),d.Tc(7),d.Vb(),d.Vb(),d.Vb()),2&t){const t=d.mc();d.Ab(1),d.uc("name",t.account.bic),d.Ab(3),d.Wc("",d.oc(5,4,"PAYMENTS.RECIPIENTS.IBAN"),": ",t.account.iban,""),d.Ab(3),d.Uc(t.account.bic)}}let Ne=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Kb({type:t,selectors:[["j-recipient-account"]],inputs:{account:"account"},decls:1,vars:1,consts:[["class","account",4,"ngIf"],[1,"account"],[1,"mr-2",3,"name"],[1,"p3"],[1,"account-iban"],[1,"account-bic"]],template:function(t,e){1&t&&d.Rc(0,We,8,6,"section",0),2&t&&d.uc("ngIf",e.account)},directives:[a.u,Et.a],pipes:[s.d],styles:[".account[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:.5rem 1rem;margin:.5rem 0;background:#f6f7f8;border-radius:.5rem;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;cursor:pointer}.account[_ngcontent-%COMP%]:active, .account[_ngcontent-%COMP%]:hover{background:#e9ecf1}.account-iban[_ngcontent-%COMP%]{color:#1a1c1f}.account-bic[_ngcontent-%COMP%], .account-iban[_ngcontent-%COMP%]{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.account-bic[_ngcontent-%COMP%]{color:#666c72}"]}),t})();function Le(t,e){if(1&t){const t=d.Xb();d.Wb(0,"j-recipient-account",6),d.ic("click",(function(n){d.Ic(t);const a=e.$implicit;return d.mc(2).onAccountSelect(a)})),d.Vb()}2&t&&d.uc("account",e.$implicit)}function De(t,e){if(1&t){const t=d.Xb();d.Wb(0,"section",1),d.Wb(1,"h5",2),d.Tc(2),d.Vb(),d.Wb(3,"div",3),d.Tc(4),d.nc(5,"translate"),d.Wb(6,"a",4),d.ic("click",(function(e){return d.Ic(t),d.mc().onBinSelect(e)})),d.Tc(7),d.Vb(),d.Vb(),d.Rc(8,Le,1,1,"j-recipient-account",5),d.Vb()}if(2&t){const t=d.mc();d.Ab(2),d.Vc(" ",t.recipient.name," "),d.Ab(2),d.Vc(" ",d.oc(5,4,"PAYMENTS.RECIPIENTS.IIN"),": "),d.Ab(3),d.Uc(t.recipient.iinOrBin),d.Ab(1),d.uc("ngForOf",t.recipient.accounts)}}let je=(()=>{class t{constructor(){this.selected=new d.n}onAccountSelect(t){this.selected.emit({recipient:this.recipient,account:t})}onBinSelect(t){t.preventDefault(),this.selected.emit({recipient:this.recipient})}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=d.Kb({type:t,selectors:[["j-recipient"]],inputs:{recipient:"recipient"},outputs:{selected:"selected"},decls:1,vars:1,consts:[["class","recipient py-3",4,"ngIf"],[1,"recipient","py-3"],[1,"p2","mb-1"],[1,"text-muted","p3","mb-3"],["href","#",3,"click"],[3,"account","click",4,"ngFor","ngForOf"],[3,"account","click"]],template:function(t,e){1&t&&d.Rc(0,De,9,6,"section",0),2&t&&d.uc("ngIf",e.recipient)},directives:[a.u,a.t,Ne],pipes:[s.d],styles:[""]}),t})();var Fe=n("mrSG"),Ue=n("B1Ao");function Ge(t,e){if(1&t){const t=d.Xb();d.Wb(0,"j-recipient",2),d.ic("selected",(function(e){return d.Ic(t),d.mc().onAccountSelect(e)})),d.Vb()}2&t&&d.uc("recipient",e.$implicit)}function Be(t,e){1&t&&(d.Wb(0,"div",3),d.Rb(1,"img",4),d.nc(2,"translate"),d.Wb(3,"div",5),d.Tc(4),d.nc(5,"translate"),d.Vb(),d.Vb()),2&t&&(d.Ab(1),d.uc("alt",d.oc(2,2,"PAYMENTS.RECIPIENTS.EMPTY")),d.Ab(3),d.Vc(" ",d.oc(5,4,"PAYMENTS.RECIPIENTS.EMPTY")," "))}function He(t,e){1&t&&(d.Wb(0,"div",3),d.Wb(1,"div",5),d.Tc(2),d.nc(3,"translate"),d.Vb(),d.Vb()),2&t&&(d.Ab(2),d.Vc(" ",d.oc(3,1,"PAYMENTS.RECIPIENTS.NOT_FOUND")," "))}let Ye=(()=>{class t{constructor(t){this.recipients=t,this.recipientList=[],this.hasNoRecipients=!1,this.selected=new d.n}ngOnChanges(t){var e,n,a,i;(null===(n=null===(e=t)||void 0===e?void 0:e.query)||void 0===n?void 0:n.currentValue)!==(null===(i=null===(a=t)||void 0===a?void 0:a.query)||void 0===i?void 0:i.previousValue)&&this.searchRecipients(t.query.currentValue)}ngOnInit(){this.fetchRecipients()}onAccountSelect(t){this.selected.emit(t)}fetchRecipients(){return Object(Fe.a)(this,void 0,void 0,(function*(){this.hasNoRecipients||(this.errorText="");try{this.recipientList=yield this.recipients.getRecipients(void 0,!0),0===this.recipientList.length&&(this.hasNoRecipients=!0)}catch(t){this.errorText="PAYMENTS.RECIPIENTS.LIST_FETCH_ERROR"}}))}searchRecipients(t=null){return Object(Fe.a)(this,void 0,void 0,(function*(){this.recipientList=yield this.recipients.getRecipients(t)}))}}return t.\u0275fac=function(e){return new(e||t)(d.Qb(Ue.a))},t.\u0275cmp=d.Kb({type:t,selectors:[["j-recipient-list"]],inputs:{query:"query"},outputs:{selected:"selected"},features:[d.yb()],decls:3,vars:3,consts:[[3,"recipient","selected",4,"ngFor","ngForOf"],["class","empty",4,"ngIf"],[3,"recipient","selected"],[1,"empty"],["src","/assets/img/shared/empty.svg",1,"empty-img",3,"alt"],[1,"text-muted","empty-text"]],template:function(t,e){1&t&&(d.Rc(0,Ge,1,1,"j-recipient",0),d.Rc(1,Be,6,6,"div",1),d.Rc(2,He,4,3,"div",1)),2&t&&(d.uc("ngForOf",e.recipientList),d.Ab(1),d.uc("ngIf",e.hasNoRecipients),d.Ab(1),d.uc("ngIf",!e.hasNoRecipients&&e.recipientList&&0==e.recipientList.length))},directives:[a.t,a.u,je],pipes:[s.d],styles:[".empty[_ngcontent-%COMP%]{padding:1rem 0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:center;justify-content:center}.empty-text[_ngcontent-%COMP%]{line-height:24px}.empty-img[_ngcontent-%COMP%]{border-radius:50%;box-shadow:0 14px 16px rgba(0,0,0,.05);margin:1rem 0}"]}),t})();var Ke=n("DHcY"),$e=n("adOO"),Qe=n("Eajh"),Xe=n("Ub7F"),qe=n("OHc7"),ze=n("I0Rk"),Je=n("tepA"),Ze=n("Bs9s"),tn=n("ScFe"),en=n("SCaJ"),nn=n("wV3k"),an=n("wY9W"),on=n("7Fmj"),cn=n("g1SY"),sn=n("3skF");n.d(e,"a",(function(){return rn}));let rn=(()=>{class t{}return t.\u0275mod=d.Ob({type:t}),t.\u0275inj=d.Nb({factory:function(e){return new(e||t)},imports:[[a.c,i.n,i.D,r.a,l.a,c.c.forChild(),o.m,o.g,s.c]]}),t})();d.Lc(b.a,[b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,S.a,_.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,C.a,O.a,I.a,E.a,x.a,P.a,w.b,R.a,V.a,M.a,k.a,W.a,N.a,w.a,L.a,D.b,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.b,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.b,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.b,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,c.a,Ce.a,Oe.a,Ie.a,Ee.a,s.a,o.E,o.C,xe.a,xe.b,Pe.a,we.a,Re.a,Ve.a,Ve.c,Ve.b,Me.a,ke.a,je,Ye,Ne,o.i,o.j,o.n,o.l,o.k,o.t,o.d,o.e,o.p,o.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ke.a,$e.a,Qe.a,Xe.a,qe.a,ze.a,Je.a,Ze.a,tn.a,en.a,nn.a,an.a,on.a,cn.a,c.b,sn.a,s.d]),d.Lc(m.a,[b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,S.a,_.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,C.a,O.a,I.a,E.a,x.a,P.a,w.b,R.a,V.a,M.a,k.a,W.a,N.a,w.a,L.a,D.b,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.b,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.b,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.b,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,c.a,Ce.a,Oe.a,Ie.a,Ee.a,s.a,o.E,o.C,xe.a,xe.b,Pe.a,we.a,Re.a,Ve.a,Ve.c,Ve.b,Me.a,ke.a,je,Ye,Ne,o.i,o.j,o.n,o.l,o.k,o.t,o.d,o.e,o.p,o.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ke.a,$e.a,Qe.a,Xe.a,qe.a,ze.a,Je.a,Ze.a,tn.a,en.a,nn.a,an.a,on.a,cn.a,c.b,sn.a,s.d]),d.Lc(y.a,[b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,S.a,_.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,C.a,O.a,I.a,E.a,x.a,P.a,w.b,R.a,V.a,M.a,k.a,W.a,N.a,w.a,L.a,D.b,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.b,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.b,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.b,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,c.a,Ce.a,Oe.a,Ie.a,Ee.a,s.a,o.E,o.C,xe.a,xe.b,Pe.a,we.a,Re.a,Ve.a,Ve.c,Ve.b,Me.a,ke.a,je,Ye,Ne,o.i,o.j,o.n,o.l,o.k,o.t,o.d,o.e,o.p,o.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ke.a,$e.a,Qe.a,Xe.a,qe.a,ze.a,Je.a,Ze.a,tn.a,en.a,nn.a,an.a,on.a,cn.a,c.b,sn.a,s.d]),d.Lc(v.a,[b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,S.a,_.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,C.a,O.a,I.a,E.a,x.a,P.a,w.b,R.a,V.a,M.a,k.a,W.a,N.a,w.a,L.a,D.b,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.b,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.b,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.b,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,c.a,Ce.a,Oe.a,Ie.a,Ee.a,s.a,o.E,o.C,xe.a,xe.b,Pe.a,we.a,Re.a,Ve.a,Ve.c,Ve.b,Me.a,ke.a,je,Ye,Ne,o.i,o.j,o.n,o.l,o.k,o.t,o.d,o.e,o.p,o.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ke.a,$e.a,Qe.a,Xe.a,qe.a,ze.a,Je.a,Ze.a,tn.a,en.a,nn.a,an.a,on.a,cn.a,c.b,sn.a,s.d]),d.Lc(S.a,[b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,S.a,_.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,C.a,O.a,I.a,E.a,x.a,P.a,w.b,R.a,V.a,M.a,k.a,W.a,N.a,w.a,L.a,D.b,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.b,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.b,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.b,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,c.a,Ce.a,Oe.a,Ie.a,Ee.a,s.a,o.E,o.C,xe.a,xe.b,Pe.a,we.a,Re.a,Ve.a,Ve.c,Ve.b,Me.a,ke.a,je,Ye,Ne,o.i,o.j,o.n,o.l,o.k,o.t,o.d,o.e,o.p,o.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ke.a,$e.a,Qe.a,Xe.a,qe.a,ze.a,Je.a,Ze.a,tn.a,en.a,nn.a,an.a,on.a,cn.a,c.b,sn.a,s.d]),d.Lc(_.a,[b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,S.a,_.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,C.a,O.a,I.a,E.a,x.a,P.a,w.b,R.a,V.a,M.a,k.a,W.a,N.a,w.a,L.a,D.b,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.b,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.b,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.b,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,c.a,Ce.a,Oe.a,Ie.a,Ee.a,s.a,o.E,o.C,xe.a,xe.b,Pe.a,we.a,Re.a,Ve.a,Ve.c,Ve.b,Me.a,ke.a,je,Ye,Ne,o.i,o.j,o.n,o.l,o.k,o.t,o.d,o.e,o.p,o.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ke.a,$e.a,Qe.a,Xe.a,qe.a,ze.a,Je.a,Ze.a,tn.a,en.a,nn.a,an.a,on.a,cn.a,c.b,sn.a,s.d]),d.Lc(A.a,[b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,S.a,_.a,A.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v,i.i,i.l,i.j,i.m,i.f,C.a,O.a,I.a,E.a,x.a,P.a,w.b,R.a,V.a,M.a,k.a,W.a,N.a,w.a,L.a,D.b,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.b,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.b,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.b,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,c.a,Ce.a,Oe.a,Ie.a,Ee.a,s.a,o.E,o.C,xe.a,xe.b,Pe.a,we.a,Re.a,Ve.a,Ve.c,Ve.b,Me.a,ke.a,je,Ye,Ne,o.i,o.j,o.n,o.l,o.k,o.t,o.d,o.e,o.p,o.h],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ke.a,$e.a,Qe.a,Xe.a,qe.a,ze.a,Je.a,Ze.a,tn.a,en.a,nn.a,an.a,on.a,cn.a,c.b,sn.a,s.d])},"6ElB":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n("fXoL"),i=n("3Pt+"),o=n("y5b2"),c=n("quSY"),s=n("wd/R"),r=n("TwVa"),l=n("jZlK"),d=n("mR7B");function b(t,e){if(1&t){const t=a.Xb();a.Wb(0,"div",25),a.Wb(1,"j-filter-operations",26),a.ic("changed",(function(e){return a.Ic(t),a.mc().onOperationChange(e)})),a.Vb(),a.Vb()}if(2&t){const t=a.mc();a.Ab(1),a.uc("isUpdateEnabled",!1)("value",t.scheme.operationType)}}function u(t,e){1&t&&(a.Wb(0,"div",25),a.Rb(1,"h6",27),a.Rb(2,"j-filter-status"),a.Vb())}function m(t,e){1&t&&a.Rb(0,"h6",28)}function p(t,e){if(1&t&&(a.Wb(0,"div"),a.Rb(1,"j-filter-period",29),a.Vb()),2&t){const t=a.mc();a.Ab(1),a.uc("mode",t.mode)("periodType",t.extraForm.controls.periodType)("periodFrom",t.extraForm.controls.periodFrom)("periodTo",t.extraForm.controls.periodTo)}}function h(t,e){if(1&t&&(a.Wb(0,"div",30),a.Rb(1,"h6",31),a.Rb(2,"j-filter-period",29),a.Vb()),2&t){const t=a.mc();a.Ab(2),a.uc("mode",t.mode)("periodType",t.extraForm.controls.periodType)("periodFrom",t.extraForm.controls.periodFrom)("periodTo",t.extraForm.controls.periodTo)}}const g=[{value:r.j.CONVERSION,label:"PAYMENTS.TYPE.CONVERSION"},{value:r.j.FOREIGN,label:"PAYMENTS.TYPE.FOREIGN"},{value:r.j.IN_BETWEEN,label:"PAYMENTS.TYPE.IN_BETWEEN"},{value:r.j.MEDICAL,label:"PAYMENTS.TYPE.MEDICAL"},{value:r.j.PENSION,label:"PAYMENTS.TYPE.PENSION"},{value:r.j.SALARY,label:"PAYMENTS.TYPE.SALARY"},{value:r.j.SOCIAL,label:"PAYMENTS.TYPE.SOCIAL"},{value:r.j.TAX,label:"PAYMENTS.TYPE.TAX"}];let f=(()=>{class t{constructor(t,e){this.filterService=t,this.maskedService=e,this.FILTER_MODE=o.c,this.FILTER_PAYMENT_TYPES_LIST=g,this.toggled=new a.n,this.submitted=new a.n,this.scheme={},this.isFilterShown=!1,this.isSubmitted=!1,this.subscription=new c.a,this.errors={amountFrom:!1,amountTo:!1,dateFrom:!1,dateTo:!1},this.hasAmountErrors=!1,this.hasChangedStatus=!1}ngOnInit(){const t=this.filterService.getDefaults(this.mode);this.extraForm=new i.k({operationType:new i.h(t.operationType),documentNumber:new i.h(t.documentNumber||""),amountFrom:new i.h(t.amountFrom||""),amountTo:new i.h(t.amountTo||""),type:new i.h(t.type),periodType:new i.h(t.periodType),periodFrom:new i.h(t.periodFrom||""),periodTo:new i.h(t.periodTo||""),sortBy:new i.h(t.sortBy),comission:new i.h(t.comission)}),this.scheme=this.extraForm.value;const e=this.extraForm.valueChanges.subscribe(t=>{if(this.isSubmitted=!1,t.periodType!=o.e.CUSTOM&&this.mode==o.c.ACCOUNTS){const e=this.filterService.findPeriod(t.periodType);t.periodFrom=e.dates.from||"",t.periodTo=e.dates.to||""}else t.periodFrom=this.convertStringToDate(t.periodFrom),t.periodTo=this.convertStringToDate(t.periodTo);t.amountFrom&&(t.amountFrom=this.maskedService.getNumberedAmount(t.amountFrom)),t.amountTo&&(t.amountTo=this.maskedService.getNumberedAmount(t.amountTo)),this.scheme=Object.assign(this.scheme,t)}),n=this.filterService.getScheme().subscribe(t=>{this.cashedPaymentStatus&&this.cashedPaymentStatus!=t.paymentStatus?this.hasChangedStatus=!0:this.cashedPaymentStatus=t.paymentStatus,this.isSubmitted=!1,this.scheme=Object.assign(this.scheme,t),this.updateFormByScheme(this.scheme)});this.subscription.add(e),this.subscription.add(n)}ngOnDestroy(){this.subscription.unsubscribe()}toggleFilterAside(t){t.preventDefault(),t.stopPropagation(),this.isFilterShown=!this.isFilterShown,this.toggled.emit(this.isFilterShown)}hideFilterAside(){this.isFilterShown=!1,this.toggled.emit(this.isFilterShown)}onOperationChange(t){this.scheme.operationType=t}onDocNumberChange(t){this.scheme.documentNumber=t}onClickOutside(t){this.hideFilterAside()}onSubmit(){this.isSubmitted=!0,this.validateErrors()&&(this.filterService.updateExtra(this.scheme),this.submitted.emit(Object.assign({},this.scheme)),this.hideFilterAside())}onClear(){this.setDefaults(),this.filterService.updateExtra(this.scheme),this.submitted.emit(Object.assign({},this.scheme)),this.hideFilterAside()}validateErrors(){return!(this.maskedService.getNumberedAmount(this.extraForm.value.amountFrom)>this.maskedService.getNumberedAmount(this.extraForm.value.amountTo)&&(this.hasAmountErrors=!0,1))}setDefaults(){const t=this.filterService.getDefaults(this.mode);this.updateFormByScheme(t)}updateFormByScheme(t){this.extraForm.setValue({operationType:t.operationType,documentNumber:t.documentNumber,amountFrom:t.amountFrom,amountTo:t.amountTo,periodType:t.periodType,periodFrom:t.periodFrom,periodTo:t.periodTo,sortBy:t.sortBy,comission:t.comission,type:t.type})}convertStringToDate(t){if(!t||0==t.length)return"";const e=s(t,o.j);return e.isValid()?e.toDate():""}removeEmpty(t){Object.keys(t).forEach(e=>{t[e]&&"object"==typeof t[e]?this.removeEmpty(t[e]):null!=t[e]&&""!=t[e]||delete t[e]})}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(l.a),a.Qb(d.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-extra"]],inputs:{currency:"currency",mode:"mode"},outputs:{toggled:"toggled",submitted:"submitted"},decls:34,vars:31,consts:[[1,"filter-search-extra",3,"formGroup","exclude","clickOutside"],["type","button",1,"filter-dropdown-toggle","no-caret","filter-form-toggle",3,"click"],["translate","FILTER.TITLE",1,"d-none","d-md-inline-block","mr-2"],["inlineSVG","/assets/icons/filter.svg"],[3,"isShown","heading","closed"],["class","form-group d-sm-none",4,"ngIf"],["class","d-sm-none","translate","FILTER.SEARCH.TITLE",4,"ngIf"],[1,"form-group"],["clearable","true"],["translate","FILTER.SEARCH.DOCUMENT_NUMBER"],["type","text","jFormInput","",1,"form-control",3,"formControl"],[3,"placeholder","options","formControl"],[4,"ngIf"],[1,"form-group","extra-amounts"],[3,"label","hasError","currency","formControl"],[1,"mx-3","mb-3"],["class","form-group mb-4 d-sm-none",4,"ngIf"],[1,"extra-radios"],[1,"form-group","mb-4"],["translate","FILTER.SORT.TITLE"],[3,"control"],["translate","FILTER.COMMISSION"],[1,"form-group","extra-footer"],["type","submit","translate","SHARED.APPLY",1,"btn","btn-block","btn-primary",3,"click"],["type","button","translate","SHARED.CLEAR",1,"btn","btn-block","btn-outline-primary","d-sm-none",3,"click"],[1,"form-group","d-sm-none"],[3,"isUpdateEnabled","value","changed"],["translate","HISTORY.STATUS.TITLE"],["translate","FILTER.SEARCH.TITLE",1,"d-sm-none"],[3,"mode","periodType","periodFrom","periodTo"],[1,"form-group","mb-4","d-sm-none"],["translate","FILTER.PERIOD.TITLE"]],template:function(t,e){1&t&&(a.Wb(0,"form",0),a.ic("clickOutside",(function(t){return e.onClickOutside(t)})),a.Wb(1,"button",1),a.ic("click",(function(t){return e.toggleFilterAside(t)})),a.Rb(2,"span",2),a.Rb(3,"span",3),a.Vb(),a.Wb(4,"j-filter-aside",4),a.ic("closed",(function(t){return e.hideFilterAside()})),a.nc(5,"translate"),a.Rc(6,b,2,2,"div",5),a.Rc(7,u,3,0,"div",5),a.Rc(8,m,1,0,"h6",6),a.Wb(9,"div",7),a.Wb(10,"j-form-field",8),a.Rb(11,"j-label",9),a.Rb(12,"input",10),a.Vb(),a.Vb(),a.Wb(13,"div",7),a.Rb(14,"j-multi-select-dropdown-input",11),a.Vb(),a.Rc(15,p,2,4,"div",12),a.Wb(16,"div",13),a.Rb(17,"j-amount-input",14),a.nc(18,"translate"),a.Wb(19,"span",15),a.Tc(20,"-"),a.Vb(),a.Rb(21,"j-amount-input",14),a.nc(22,"translate"),a.Vb(),a.Rc(23,h,3,4,"div",16),a.Wb(24,"div",17),a.Wb(25,"div",18),a.Rb(26,"h6",19),a.Rb(27,"j-filter-sort",20),a.Vb(),a.Wb(28,"div",18),a.Rb(29,"h6",21),a.Rb(30,"j-filter-comission",20),a.Vb(),a.Vb(),a.Wb(31,"div",22),a.Wb(32,"button",23),a.ic("click",(function(t){return e.onSubmit()})),a.Vb(),a.Wb(33,"button",24),a.ic("click",(function(t){return e.onClear()})),a.Vb(),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.uc("formGroup",e.extraForm)("exclude",".btn-light"),a.Ab(1),a.Hb("toggled",e.isFilterShown),a.Ab(3),a.uc("isShown",e.isFilterShown)("heading",a.oc(5,25,"FILTER.TITLE")),a.Ab(2),a.uc("ngIf",e.mode==e.FILTER_MODE.ACCOUNTS),a.Ab(1),a.uc("ngIf",e.mode==e.FILTER_MODE.HISTORY),a.Ab(1),a.uc("ngIf",e.mode==e.FILTER_MODE.HISTORY),a.Ab(4),a.uc("formControl",e.extraForm.controls.documentNumber),a.Ab(2),a.uc("placeholder","FILTER.FILTER_PAYMENT_TYPES_LIST")("options",e.FILTER_PAYMENT_TYPES_LIST)("formControl",e.extraForm.controls.type),a.Ab(1),a.uc("ngIf",e.mode==e.FILTER_MODE.HISTORY),a.Ab(2),a.uc("label",a.oc(18,27,"FILTER.AMOUNT.FROM_LARGE"))("hasError",e.isSubmitted&&e.hasAmountErrors)("currency",e.currency)("formControl",e.extraForm.controls.amountFrom),a.Ab(4),a.uc("label",a.oc(22,29,"FILTER.AMOUNT.TO_LARGE"))("hasError",e.isSubmitted&&e.hasAmountErrors)("currency",e.currency)("formControl",e.extraForm.controls.amountTo),a.Ab(2),a.uc("ngIf",e.mode==e.FILTER_MODE.ACCOUNTS),a.Ab(4),a.uc("control",e.extraForm.controls.sortBy),a.Ab(3),a.uc("control",e.extraForm.controls.comission))},styles:[".extra-amounts[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:justify;justify-content:space-between}.extra-amounts[_ngcontent-%COMP%]   j-amount-input[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}@media(min-width:670px){.extra-footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;justify-self:flex-end;-webkit-box-orient:horizontal;-webkit-box-direction:reverse;flex-direction:row-reverse;border-top:1px solid #d6dadf;margin-bottom:.25rem;margin-right:-1rem;margin-left:-1rem;padding:0 1rem}}@media(min-width:670px){.extra-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{display:inline-block;width:auto;margin-top:1rem;margin-left:1rem}}@media(min-width:670px){.extra-radios[_ngcontent-%COMP%]{display:-webkit-box;display:flex}}@media(min-width:670px){.extra-radios[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}}"]}),t})()},"77FI":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("3Pt+"),i=n("y5b2"),o=n("fXoL"),c=n("ofXK"),s=n("sYmb");function r(t,e){if(1&t&&(o.Wb(0,"div",1),o.Rb(1,"input",2),o.Wb(2,"label",3),o.Tc(3),o.nc(4,"translate"),o.Vb(),o.Vb()),2&t){const t=e.$implicit,n=e.index,a=o.mc();o.Ab(1),o.vc("id","comission"+n),o.uc("formControl",a.control)("value",t.value),o.Ab(1),o.vc("for","comission"+n),o.Ab(1),o.Vc(" ",o.oc(4,5,t.label)," ")}}let l=(()=>{class t{constructor(){this.comissionList=i.b,this.control=new a.h(i.a.WITH_COMISSION)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["j-filter-comission"]],inputs:{control:"control"},decls:1,vars:1,consts:[["class","custom-control custom-radio my-3",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio","my-3"],["type","radio","name","comissionRadio",1,"custom-control-input",3,"id","formControl","value"],[1,"custom-control-label","text-muted",3,"for"]],template:function(t,e){1&t&&o.Rc(0,r,5,7,"div",0),2&t&&o.uc("ngForOf",e.comissionList)},directives:[c.t,a.B,a.c,a.t,a.i],pipes:[s.d],styles:[""]}),t})()},"9K1F":function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("fXoL"),i=n("1kSV");let o=(()=>{class t{constructor(t){this.modal=t}dismissModal(){this.modal.dismiss()}closeModal(){this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(i.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-transaction-sign-success"]],inputs:{transaction:"transaction"},decls:14,vars:7,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body","text-center","pb-4"],["src","/assets/img/history/modals/success.svg",3,"alt"],["translate","",1,"light","mb-3","mt-2"],[3,"money"],["translate","",1,"m-0","text-muted"],[1,"modal-footer","py-4","px-3","justify-content-center"],["translate","","type","button",1,"btn","btn-static","btn-link","m-0",3,"click"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"button",1),a.ic("click",(function(t){return e.dismissModal()})),a.Rb(2,"img",2),a.nc(3,"translate"),a.Vb(),a.Vb(),a.Wb(4,"div",3),a.Rb(5,"img",4),a.nc(6,"translate"),a.Wb(7,"h3",5),a.Rb(8,"j-money",6),a.Vb(),a.Wb(9,"p",7),a.Tc(10," STATEMENT.TRANSACTION.SIGN_SUCCESS "),a.Vb(),a.Vb(),a.Wb(11,"div",8),a.Wb(12,"button",9),a.ic("click",(function(t){return e.dismissModal()})),a.Tc(13," HISTORY.BACK_TO_HISTORY "),a.Vb(),a.Vb()),2&t&&(a.Ab(2),a.vc("alt",a.oc(3,3,"SHARED.CLOSE")),a.Ab(3),a.vc("alt",a.oc(6,5,"HISTORY.SIGNED")),a.Ab(3),a.uc("money",e.transaction.balance))},styles:[""]}),t})()},"9N4E":function(t,e,n){"use strict";n("x2ms"),n("CqcL"),n("0kjH"),n("n6qU"),n("77FI"),n("sFIr"),n("AOrV"),n("6ElB"),n("9PaV"),n("u+5l"),n("THGi"),n("zt08"),n("l2AU");var a=n("jZlK");n.d(e,"c",(function(){return a.a}));var i=n("y5b2");n.d(e,"a",(function(){return i.c})),n.d(e,"b",(function(){return i.e}))},"9PaV":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("fXoL"),i=n("quSY"),o=n("jZlK"),c=n("EIxY");let s=(()=>{class t{constructor(t,e){this.filterService=t,this.responsiveToolkit=e,this.isDropdownShown=!1,this.subscription=new i.a,this.submitted=new a.n;const n=this.filterService.getScheme().subscribe(t=>{this.scheme=t});this.subscription.add(n)}ngOnDestroy(){this.subscription.unsubscribe()}onFocus(){this.showDropdown()}onClickOutside(){this.hideDropdown()}onExtraToggle(t){t&&this.hideDropdown()}onSearch(t){this.submitted.emit(Object.assign({},t))}onRecipientSelect(t){this.filterService.updateRecipient(t),this.submitted.emit({recipientIban:t.account.iban,recipientBin:t.recipient.iinOrBin}),this.hideDropdown()}onQueryChange(t){this.searchQuery=t}get placeholder(){switch(this.responsiveToolkit.current()){case"xs":return"FILTER.SEARCH.SMALL";default:return"FILTER.SEARCH.LARGE"}}showDropdown(){this.isDropdownShown=!0}hideDropdown(){this.isDropdownShown=!1}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(o.a),a.Qb(c.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-search"]],inputs:{currency:"currency",mode:"mode"},outputs:{submitted:"submitted"},decls:5,vars:6,consts:[[1,"search",3,"clickOutside"],["jTour","STATEMENT.FILTER","jTourPosition","bottom",3,"placeholder","valueChanged","focused"],["jTour","STATEMENT.EXTRAS","jTourPosition","bottom",1,"search-suffix",3,"mode","currency","submitted","toggled"],[1,"dropdown-menu","filter-dropdown-menu","search-dropdown"],[3,"query","selected"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.ic("clickOutside",(function(t){return e.onClickOutside()})),a.Wb(1,"j-search-input",1),a.ic("valueChanged",(function(t){return e.onQueryChange(t)}))("focused",(function(t){return e.onFocus()})),a.Vb(),a.Wb(2,"j-filter-extra",2),a.ic("submitted",(function(t){return e.onSearch(t)}))("toggled",(function(t){return e.onExtraToggle(t)})),a.Vb(),a.Wb(3,"div",3),a.Wb(4,"j-recipient-list",4),a.ic("selected",(function(t){return e.onRecipientSelect(t)})),a.Vb(),a.Vb(),a.Vb()),2&t&&(a.Ab(1),a.uc("placeholder",e.placeholder),a.Ab(1),a.uc("mode",e.mode)("currency",e.currency),a.Ab(1),a.Hb("show",e.isDropdownShown),a.Ab(1),a.uc("query",e.searchQuery))},styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;width:100%}.search[_ngcontent-%COMP%]{position:relative;-webkit-box-flex:1;flex-grow:1}.search-suffix[_ngcontent-%COMP%]{position:absolute;right:1rem;top:1rem;z-index:5}.search-dropdown[_ngcontent-%COMP%]{display:block;position:absolute;width:100%;top:55px;max-height:0;padding:0 1.5rem;overflow:hidden;opacity:0;-webkit-transition:max-height .5s linear,opacity .3s linear;transition:max-height .5s linear,opacity .3s linear}.search-dropdown.show[_ngcontent-%COMP%]{padding:.5rem 1.5rem;max-height:50vh;overflow-y:auto;opacity:1}.form-control[_ngcontent-%COMP%]{padding-top:10px}"]}),t})()},AOrV:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("fXoL"),i=n("ofXK"),o=n("y5b2"),c=n("Kcpt");const s=["*"];let r=(()=>{class t{constructor(t){this.document=t,this.isShown=!1,this.mode=o.c.ACCOUNTS,this.FILTER_MODE=o.c,this.closed=new a.n,this.submitted=new a.n}ngOnInit(){this.innerWidth=window.innerWidth}ngOnChanges(){this.isShown&&this.isMobile?this.document.body.classList.add("overflow-hidden"):this.document.body.classList.remove("overflow-hidden")}onResize(t){this.innerWidth=window.innerWidth}onClose(t){t.preventDefault(),this.closed.emit()}onClickOutside(t){this.isShown&&this.closed.emit()}get isMobile(){return this.innerWidth<670}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(i.e))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-aside"]],hostBindings:function(t,e){1&t&&a.ic("resize",(function(t){return e.onResize(t)}),!1,a.Hc)},inputs:{heading:"heading",isShown:"isShown",mode:"mode"},outputs:{closed:"closed",submitted:"submitted"},features:[a.yb()],ngContentSelectors:s,decls:8,vars:5,consts:[[1,"filter-aside"],[1,"filter-aside-header"],[1,"mb-0"],["href","#",1,"filter-aside-close",3,"click"],["size","md","name","cross",1,"size-md"],[1,"filter-aside-body"]],template:function(t,e){1&t&&(a.tc(),a.Wb(0,"section",0),a.Wb(1,"section",1),a.Wb(2,"h5",2),a.Tc(3),a.Vb(),a.Wb(4,"a",3),a.ic("click",(function(t){return e.onClose(t)})),a.Rb(5,"j-icon",4),a.Vb(),a.Vb(),a.Wb(6,"section",5),a.sc(7),a.Vb(),a.Vb()),2&t&&(a.Hb("shown",e.isShown)("extra-space",e.mode===e.FILTER_MODE.HISTORY),a.Ab(3),a.Uc(e.heading))},directives:[c.a],styles:[".filter-aside[_ngcontent-%COMP%]{position:fixed;overflow:auto;right:-100%;width:100%;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;top:0;bottom:0;background:#fff;z-index:1000;padding-top:4rem}@media(min-width:670px){.filter-aside[_ngcontent-%COMP%]{padding-top:0;right:0;width:calc(540px - 2rem);top:40px;right:calc(-1rem + 1px);bottom:auto;position:absolute;border-radius:.5rem;box-shadow:0 0 1px rgba(0,0,0,.04),0 4px 8px rgba(0,0,0,.04),0 16px 24px rgba(0,0,0,.04),0 24px 32px rgba(0,0,0,.04);max-height:0;overflow:hidden;opacity:0;-webkit-transition:opacity .3s ease-in-out,max-height .3s ease-in-out;transition:opacity .3s ease-in-out,max-height .3s ease-in-out}}@media(min-width:1280px){.filter-aside[_ngcontent-%COMP%]{width:calc(600px - 2rem)}}.filter-aside.shown[_ngcontent-%COMP%]{right:0;overflow:unset}@media(min-width:670px){.filter-aside.shown[_ngcontent-%COMP%]{right:calc(-1rem + 1px);opacity:1;max-height:800px}}.filter-aside.extra-space[_ngcontent-%COMP%]{top:62px}.filter-aside-header[_ngcontent-%COMP%]{position:fixed;top:65px;width:100%;height:4rem;background:#fff;-webkit-box-pack:justify;justify-content:space-between;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:1rem 2rem 1rem 1rem;z-index:5;border-top:1px solid #d6dadf;border-bottom:1px solid #d6dadf}@media(min-width:670px){.filter-aside-header[_ngcontent-%COMP%]{z-index:unset;position:relative;padding:1rem 1rem 0;border-bottom:0;border-top:0;top:0}}.filter-aside-body[_ngcontent-%COMP%]{padding:1rem;position:relative;z-index:1;max-height:calc(100vh - 124px);overflow-y:auto}@media(min-width:1280px){.filter-aside-body[_ngcontent-%COMP%]{overflow-y:unset}}"]}),t})()},Br7L:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("fXoL");function i(t,e){1&t&&a.Rb(0,"j-refund-employee",6),2&t&&a.uc("refundDetailsItem",e.$implicit)}let o=(()=>{class t{constructor(){this.closed=new a.n}onClose(){this.closed.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-refund-employee-selector"]],inputs:{refundDetails:"refundDetails"},outputs:{closed:"closed"},decls:8,vars:4,consts:[[1,"employee-selector__header"],["type","button",1,"btn","btn-outline-primary","employee-selector-close",3,"click"],["name","chevronLeft","stroke","true","color","currentColor"],[1,"employee-selector__header_size_b"],[1,"employee-selector-block"],[3,"refundDetailsItem",4,"ngFor","ngForOf"],[3,"refundDetailsItem"]],template:function(t,e){1&t&&(a.Wb(0,"section",0),a.Wb(1,"button",1),a.ic("click",(function(t){return e.onClose()})),a.Rb(2,"j-icon",2),a.Vb(),a.Wb(3,"div",3),a.Tc(4),a.nc(5,"translate"),a.Vb(),a.Vb(),a.Wb(6,"section",4),a.Rc(7,i,1,1,"j-refund-employee",5),a.Vb()),2&t&&(a.Ab(4),a.Vc(" ",a.oc(5,2,"STATEMENT.EMPLOYEES.TITLE")," "),a.Ab(3),a.uc("ngForOf",e.refundDetails))},styles:["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;height:100%}.employee-selector__header[_ngcontent-%COMP%]{padding:1.5rem}.employee-selector-close[_ngcontent-%COMP%], .employee-selector__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.employee-selector-close[_ngcontent-%COMP%]{width:40px;height:40px;-webkit-box-pack:center;justify-content:center;margin-bottom:0!important;margin-right:1rem}.employee-selector-block[_ngcontent-%COMP%]{border-radius:.75rem;padding:1.5rem;overflow-y:auto;height:100%}.employee-selector__header_size_b[_ngcontent-%COMP%]{font-size:20px;font-weight:400;line-height:20px}"]}),t})()},Cj9k:function(t,e,n){"use strict";var a=n("mrSG"),i=n("lJxs"),o=n("LvDl");class c{constructor(t){Object(o.defaults)(this,t)}}var s=n("tk/3"),r=n("XNiG"),l=n("fXoL"),d=n("p6Hd"),b=n("VnnJ");let u=(()=>{class t{constructor(t,e){this.apiService=t,this.companyService=e,this.cardsUpdated$=new r.a}getCorporateLoans(){return Object(a.a)(this,void 0,void 0,(function*(){const t=`companies/${this.companyService.currentId}/loans`,e=(new s.h).set("includePrivate","true"),n=yield this.apiService.get(t,null,e);return this.loanList=n.map(t=>new c(t)),this.loanList}))}getLoansAsObservable(){return this.apiService.getObservable(`companies/${this.companyService.currentId}/loans`,null).pipe(Object(i.a)(t=>(this.loanList=t.map(t=>new c(t)),this.loanList)))}getLoanById(t){return Object(a.a)(this,void 0,void 0,(function*(){return this.loanList||(yield this.getCorporateLoans()),this.findLoanById(t)}))}getPdf(t){return Object(a.a)(this,void 0,void 0,(function*(){const e=`companies/${this.companyService.currentId}/loans/${t}/download`;let n=new s.g;n=n.set("Accept-File","application/pdf"),n=n.set("Content-Type","application/octet-stream");const a=new s.h;return this.apiService.get(e,n,a,{responseType:"blob"})}))}findLoanById(t){return this.loanList.find(e=>e.id===t)}getSchedule(t){return this.apiService.get(`companies/${this.companyService.currentId}/loans/${t}/schedule`)}}return t.\u0275fac=function(e){return new(e||t)(l.ec(d.a),l.ec(b.a))},t.\u0275prov=l.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();n.d(e,"a",(function(){return u}))},CqcL:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("3Pt+"),i=n("wd/R"),o=n("quSY"),c=n("y5b2"),s=n("fXoL"),r=n("jZlK");function l(t,e){if(1&t&&(s.Wb(0,"div",6),s.Rb(1,"input",7),s.Wb(2,"label",8),s.Tc(3),s.nc(4,"translate"),s.Vb(),s.Vb()),2&t){const t=e.$implicit,n=e.index,a=s.mc(2);s.Ab(1),s.vc("id","period"+n),s.uc("formControl",a.periodType)("value",t.type),s.Ab(1),s.vc("for","period"+n),s.Ab(1),s.Vc(" ",s.oc(4,5,t.label)," ")}}function d(t,e){if(1&t&&(s.Ub(0),s.Rc(1,l,5,7,"div",5),s.Tb()),2&t){const t=s.mc();s.Ab(1),s.uc("ngForOf",t.periodList)}}let b=(()=>{class t{constructor(t){this.filterService=t,this.FILTER_MODE=c.c,this.periodList=this.filterService.PERIOD_LIST,this.periodType=new a.h(c.e.TODAY),this.periodFrom=new a.h(""),this.periodTo=new a.h(""),this.fromMinDate=i("1991-01-01","YYYY-MM-DD").toDate(),this.fromMaxDate=new Date,this.toMinDate=i("1991-01-01","YYYY-MM-DD").toDate(),this.toMaxDate=new Date,this.subscription=new o.a}ngOnInit(){this.fromInput=new a.h(this.formatDate(this.periodFrom.value)),this.toInput=new a.h(this.formatDate(this.periodTo.value));const t=this.filterService.getScheme().subscribe(t=>{t.periodType&&this.periodType.setValue(t.periodType),t.periodFrom?(this.toMinDate=t.periodFrom,this.fromInput.setValue(this.formatDate(t.periodFrom))):this.fromInput.setValue(""),t.periodTo?(this.fromMaxDate=t.periodTo,this.toInput.setValue(this.formatDate(t.periodTo))):this.toInput.setValue("")}),e=this.fromInput.valueChanges.subscribe(t=>{this.toMinDate=this.formatInput(t),this.periodFrom.setValue(this.formatInput(t))}),n=this.toInput.valueChanges.subscribe(t=>{this.fromMaxDate=this.formatInput(t),this.periodTo.setValue(this.formatInput(t))});this.subscription.add(t),this.subscription.add(e),this.subscription.add(n)}ngOnDestroy(){this.subscription.unsubscribe()}get fromLabel(){return this.mode==c.c.ACCOUNTS?"FILTER.PERIOD_FROM":"FILTER.DATE_FROM"}get toLabel(){return this.mode==c.c.ACCOUNTS?"FILTER.PERIOD_TO":"FILTER.DATE_TO"}get isInputsHidden(){return this.periodType.value!=c.e.CUSTOM&&this.mode==c.c.ACCOUNTS}formatDate(t){return t?i(t).format(c.j):""}formatInput(t){return i(t,c.j).toDate()}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(r.a))},t.\u0275cmp=s.Kb({type:t,selectors:[["j-filter-period"]],inputs:{mode:"mode",periodType:"periodType",periodFrom:"periodFrom",periodTo:"periodTo"},decls:6,vars:11,consts:[[4,"ngIf"],[1,"form-group","periods",3,"hidden"],[3,"formControl","isErrorsHidden","maxDate","label"],[1,"d-none","d-sm-block","mx-3","mb-3"],[3,"formControl","isErrorsHidden","minDate","maxDate","label"],["class","custom-control custom-radio my-3",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio","my-3"],["type","radio","name","periodType",1,"custom-control-input",3,"formControl","id","value"],[1,"custom-control-label","text-muted",3,"for"]],template:function(t,e){1&t&&(s.Rc(0,d,2,1,"ng-container",0),s.Wb(1,"div",1),s.Rb(2,"j-date-input",2),s.Wb(3,"span",3),s.Tc(4,"-"),s.Vb(),s.Rb(5,"j-date-input",4),s.Vb()),2&t&&(s.uc("ngIf",e.mode==e.FILTER_MODE.ACCOUNTS),s.Ab(1),s.uc("hidden",e.isInputsHidden),s.Ab(1),s.uc("formControl",e.fromInput)("isErrorsHidden",!0)("maxDate",e.fromMaxDate)("label",e.fromLabel),s.Ab(3),s.uc("formControl",e.toInput)("isErrorsHidden",!0)("minDate",e.toMinDate)("maxDate",e.toMaxDate)("label",e.toLabel))},styles:["@media(min-width:670px){.periods[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:0}.periods[_ngcontent-%COMP%]   j-date-input[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1}}"]}),t})()},G54m:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"c",(function(){return r}));var a=n("fXoL"),i=n("VnnJ"),o=n("p6Hd"),c=function(t){return t.PDF="PDF",t.XLSX="XLSX",t.ONE_C="ONE_C",t}({}),s=function(t){return t.DAILY="DAILY",t.MONTHLY="MONTHLY",t}({});let r=(()=>{class t{constructor(t,e){this.companyService=t,this.api=e}getSubscriptions(t){const e=this.getApiUrl(t);return this.api.get(e)}saveSubscription(t,e){const n=this.getApiUrl(t.accountId,e);return this.api.put(n,t)}createSubscription(t){const e=this.getApiUrl(t.accountId);return this.api.post(e,t)}deleteSubscription(t,e){const n=this.getApiUrl(t,e);return this.api.delete(n)}getApiUrl(t,e=null){return`companies/${this.companyService.currentId}/accounts/${t}/statements-subscriptions${e?"/"+e:""}`}}return t.\u0275fac=function(e){return new(e||t)(a.ec(i.a),a.ec(o.a))},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},IdXV:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("fXoL");let i=(()=>{class t{constructor(){}get getEmployeeName(){return`${this.refundDetailsItem.lastName} ${this.refundDetailsItem.firstName} ${this.refundDetailsItem.middleName}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-refund-employee"]],inputs:{refundDetailsItem:"refundDetailsItem"},decls:13,vars:14,consts:[[1,"refund-employee-item"],[1,"text-dark","employee-name"],[1,"p4"],[3,"money","showSign"],[1,"p4","text-danger"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1),a.Tc(2),a.Vb(),a.Wb(3,"div",2),a.Tc(4),a.nc(5,"translate"),a.nc(6,"date"),a.Vb(),a.Wb(7,"div",2),a.Tc(8),a.nc(9,"translate"),a.Rb(10,"j-money",3),a.Vb(),a.Wb(11,"div",4),a.Tc(12),a.Vb(),a.Vb()),2&t&&(a.Ab(2),a.Uc(e.getEmployeeName),a.Ab(2),a.Wc("",a.oc(5,7,"STATEMENT.EMPLOYEES.PERIOD"),": ",a.pc(6,9,e.refundDetailsItem.period,"MM.yyyy"),""),a.Ab(4),a.Vc("",a.oc(9,12,"STATEMENT.EMPLOYEES.AMOUNT"),": "),a.Ab(2),a.uc("money",e.refundDetailsItem.amount)("showSign",!1),a.Ab(2),a.Uc(e.refundDetailsItem.description))},styles:[".refund-employee-item[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr;padding:1.5rem;grid-gap:4px;background-color:#fff;border-radius:.5rem}.employee-name[_ngcontent-%COMP%]{font-weight:400;font-size:16px;line-height:24px}"]}),t})()},KWy3:function(t,e,n){"use strict";n("QiVB"),n("/68H"),n("T+Ki"),n("pThr"),n("cIcs"),n("OTTH"),n("wqe5"),n("lYAS"),n("9K1F"),n("Br7L"),n("IdXV");var a=n("rEgK");n.d(e,"b",(function(){return a.a}));var i=n("ItTq");n.d(e,"a",(function(){return i.b}));var o=n("2G+r");n.d(e,"c",(function(){return o.d}))},M4UK:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("ofXK"),i=n("PCNd"),o=n("fXoL");let c=(()=>{class t{}return t.\u0275mod=o.Ob({type:t}),t.\u0275inj=o.Nb({factory:function(e){return new(e||t)},imports:[[a.c,i.a]]}),t})()},"O+dT":function(t,e,n){"use strict";n.r(e);var a=n("ofXK"),i=n("tyNb"),o=n("mrSG"),c=n("quSY"),s=n("fXoL"),r=n("Cj9k"),l=n("VnnJ"),d=n("Kcpt"),b=n("xJkR"),u=n("Kx/q"),m=n("sYmb");const p=function(){return{width:"300px",height:"20px","background-color":"#ECEEF1"}},h=function(){return{width:"500px",height:"36px","background-color":"#ECEEF1"}};function g(t,e){1&t&&(s.Ub(0),s.Rb(1,"ngx-skeleton-loader",1),s.Rb(2,"br"),s.Rb(3,"ngx-skeleton-loader",1),s.Tb()),2&t&&(s.Ab(1),s.uc("theme",s.yc(2,p)),s.Ab(2),s.uc("theme",s.yc(3,h)))}const f=function(t){return{scrolled:t}},T=function(t,e){return{unpaid:t,total:e}};function y(t,e){if(1&t&&(s.Ub(0),s.Wb(1,"section",2),s.Wb(2,"div",3),s.Rb(3,"img",4),s.Wb(4,"div",5),s.Tc(5),s.Rb(6,"j-money",6),s.Tc(7),s.Vb(),s.Vb(),s.Wb(8,"h1",7),s.Rb(9,"j-money",6),s.Vb(),s.Wb(10,"div",8),s.Wb(11,"div",9),s.Rb(12,"div",10),s.Tc(13," \xa0"),s.Rb(14,"j-money",6),s.Vb(),s.Tc(15," \u2022 "),s.Rb(16,"div",11),s.Vb(),s.Vb(),s.Tb()),2&t){const t=s.mc();s.Ab(1),s.uc("ngClass",s.zc(7,f,t.scrollState.coord_y>0&&"statement"===t.scrollState.selectedTab)),s.Ab(4),s.Vc(" ",t.loan.productName," "),s.Ab(1),s.uc("money",t.loan.amount),s.Ab(1),s.Vc(" \u2022 \u2116 ",t.loan.colvirId," "),s.Ab(2),s.uc("money",t.loan.amount),s.Ab(5),s.uc("money",t.getCurrentPaymentObj),s.Ab(2),s.uc("translateParams",s.Ac(9,T,t.unpaid,t.paymentsCount))}}let v=(()=>{class t{constructor(){this.paymentsCount=0,this.unpaid=0,this.subscription=new c.a}ngOnDestroy(){this.subscription.unsubscribe()}get getCurrentPaymentObj(){var t;return{amount:null===(t=this.currentPayment)||void 0===t?void 0:t.remainDebt,currency:this.loan.amount.currency}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Kb({type:t,selectors:[["j-loan-header"]],inputs:{paymentsCount:"paymentsCount",unpaid:"unpaid",loan:"loan",schedule:"schedule",currentPayment:"currentPayment",scrollState:"scrollState"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"theme"],[1,"account-header",3,"ngClass"],[1,"iban"],["src","/assets/img/home/loan-percent.svg"],[1,"ml-3","text-muted"],[3,"money"],[1,"f-page-title"],[1,"payment_info"],[1,"debt"],["translate","LOANS.INFO.MAIN_DEPT",1,"j-desc-child"],["translate","LOANS.INFO.REMAINING_PAYMENTS",1,"payments_count","text-muted",3,"translateParams"]],template:function(t,e){1&t&&(s.Rc(0,g,4,4,"ng-container",0),s.Rc(1,y,17,12,"ng-container",0)),2&t&&(s.uc("ngIf",!e.loan),s.Ab(1),s.uc("ngIf",e.loan))},directives:[a.u,b.a,a.r,u.a,m.a],styles:["[_nghost-%COMP%]{display:block}.account-header[_ngcontent-%COMP%]   .iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:4px;min-height:25px}.account-header[_ngcontent-%COMP%]   .iban[_ngcontent-%COMP%]   j-money[_ngcontent-%COMP%]{display:none}.account-header.scrolled[_ngcontent-%COMP%]   .iban[_ngcontent-%COMP%]{padding-bottom:1.25rem}.account-header.scrolled[_ngcontent-%COMP%]   .iban[_ngcontent-%COMP%]   j-money[_ngcontent-%COMP%]{display:inline}.account-header.scrolled[_ngcontent-%COMP%]   .f-page-title[_ngcontent-%COMP%], .account-header.scrolled[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]{-webkit-transform:translateX(-1000px);transform:translateX(-1000px);height:0}.f-page-title[_ngcontent-%COMP%]{margin-bottom:12px}.payment_info[_ngcontent-%COMP%], .payment_info[_ngcontent-%COMP%]   .debt[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.payment_info[_ngcontent-%COMP%]   .debt[_ngcontent-%COMP%]{padding-right:4px}.payment_info[_ngcontent-%COMP%]   .debt[_ngcontent-%COMP%]   .debt_amount[_ngcontent-%COMP%], .payment_info[_ngcontent-%COMP%]   .payments_count[_ngcontent-%COMP%]{padding-left:4px}"]}),t})();const S=function(){return["."]},_=function(){return{view:"statement"}},A=function(){return{view:"info"}};let C=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=s.Kb({type:t,selectors:[["j-loan-tabs"]],decls:6,vars:10,consts:[[1,"f-page-tabs-wrap"],[1,"f-page-tabs"],["routerLinkActive","active","translate","",3,"routerLink","queryParams","queryParamsHandling"]],template:function(t,e){1&t&&(s.Wb(0,"div",0),s.Wb(1,"nav",1),s.Wb(2,"a",2),s.Tc(3," LOANS.STATEMENT "),s.Vb(),s.Wb(4,"a",2),s.Tc(5," LOANS.INFO.TITLE "),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Ab(2),s.uc("routerLink",s.yc(6,S))("queryParams",s.yc(7,_))("queryParamsHandling","merge"),s.Ab(2),s.uc("routerLink",s.yc(8,S))("queryParams",s.yc(9,A))("queryParamsHandling","merge"))},directives:[i.f,i.e,m.a],styles:[""]}),t})();var O=n("Tile"),I=n("e8Ap");const E=function(t,e){return{amount:t,currency:e}};function x(t,e){if(1&t){const t=s.Xb();s.Wb(0,"div",13),s.ic("click",(function(n){s.Ic(t);const a=e.$implicit;return s.mc(3).showDetails(a)})),s.Wb(1,"div",14),s.Tc(2),s.Vb(),s.Wb(3,"div",15),s.Tc(4),s.nc(5,"date"),s.Vb(),s.Wb(6,"div",16),s.Rb(7,"j-money",17),s.Vb(),s.Vb()}if(2&t){const t=e.$implicit,n=s.mc(3);s.Ab(2),s.Vc("\u2116 ",t.paymentNumber,""),s.Ab(2),s.Uc(s.pc(5,3,t.paymentDate,"dd MMMM")),s.Ab(3),s.uc("money",s.Ac(6,E,t.totalAmount,n.loan.amount.currency))}}function P(t,e){if(1&t&&(s.Wb(0,"div",5),s.Ub(1),s.Wb(2,"div",6),s.Wb(3,"div",7),s.Wb(4,"div",8),s.Wb(5,"div",9),s.Tc(6),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Wb(7,"div",7),s.Wb(8,"div",10),s.Wb(9,"div",11),s.Rc(10,x,8,9,"div",12),s.Vb(),s.Vb(),s.Vb(),s.Tb(),s.Vb()),2&t){const t=e.$implicit;s.Ab(2),s.uc("id",t.key),s.Ab(4),s.Uc(t.key),s.Ab(4),s.uc("ngForOf",t.value)}}const w=function(t){return{scrolled:t}};function R(t,e){if(1&t&&(s.Wb(0,"div",2),s.Rb(1,"div",3),s.Rc(2,P,11,3,"div",4),s.nc(3,"keyvalue"),s.Vb()),2&t){const t=s.mc();s.uc("ngClass",s.zc(4,w,t.scrollStateVal.coord_y>0&&"statement"===t.scrollStateVal.selectedTab)),s.Ab(2),s.uc("ngForOf",s.oc(3,2,t.schedule.loanSchedule))}}function V(t,e){if(1&t){const t=s.Xb();s.Wb(0,"section",18),s.Wb(1,"div",19),s.ic("click",(function(e){return s.Ic(t),s.mc().hideDetails()})),s.Vb(),s.Wb(2,"section",20),s.Wb(3,"div",21),s.Wb(4,"div",22),s.Wb(5,"div",23),s.Tc(6),s.Vb(),s.Wb(7,"div",24),s.Tc(8),s.nc(9,"date"),s.Vb(),s.Vb(),s.Wb(10,"a",25),s.ic("click",(function(e){return s.Ic(t),s.mc().onCloseModal(e)})),s.Rb(11,"j-icon",26),s.Vb(),s.Vb(),s.Wb(12,"div",27),s.Rb(13,"j-money",17),s.Vb(),s.Wb(14,"div",28),s.Wb(15,"div",29),s.Rb(16,"div",30),s.Wb(17,"div",31),s.ic("click",(function(e){return s.Ic(t),s.mc().toggleSumsDropdown()})),s.Rb(18,"span",32),s.Vb(),s.Vb(),s.Wb(19,"div",33),s.Wb(20,"div",34),s.Wb(21,"div",35),s.Tc(22),s.nc(23,"translate"),s.Vb(),s.Wb(24,"div",16),s.Rb(25,"j-money",17),s.Vb(),s.Vb(),s.Wb(26,"div",34),s.Wb(27,"div",35),s.Tc(28),s.nc(29,"translate"),s.Vb(),s.Wb(30,"div",16),s.Rb(31,"j-money",17),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Vb()}if(2&t){const t=s.mc();s.uc("ngClass",t.wrapperClasses),s.Ab(2),s.uc("ngClass",t.detailsClasses),s.Ab(4),s.Wc(" ",t.payment.paymentNumber," \u0438\u0437 ",t.payment.totalPayments," "),s.Ab(2),s.Vc(" ",s.pc(9,13,t.payment.paymentDate,"d MMMM y")," "),s.Ab(5),s.uc("money",s.Ac(20,E,t.payment.totalAmount,t.loan.amount.currency)),s.Ab(1),s.Hb("hided",!t.isSumsShown),s.Ab(4),s.uc("inlineSVG","/assets/icons/shared/dropdown.svg"),s.Ab(4),s.Uc(s.oc(23,16,"LOANS.INFO.MAIN_DEPT")),s.Ab(3),s.uc("money",s.Ac(23,E,t.payment.mainDebtAmount,t.loan.amount.currency)),s.Ab(3),s.Uc(s.oc(29,18,"LOANS.INFO.ACCRUED")),s.Ab(3),s.uc("money",s.Ac(26,E,t.payment.interestAmount,t.loan.amount.currency))}}let M=(()=>{class t{constructor(t,e){this.router=t,this.document=e,this.isLoading=!0,this.wrapperClasses="",this.detailsClasses="",this.isDetailsShown=!1,this.isAnimating=!1,this.isSumsShown=!0}set selected(t){var e;this.selectedOperation=t,this.scrollToView(null===(e=t)||void 0===e?void 0:e.code)}set scrollState(t){this.scrollStateVal=t}scrollToView(t){var e;const n=null===(e=this.document.getElementById(t))||void 0===e?void 0:e.nextSibling,a=this.document.querySelector("html");n&&this.scrollToElm(a,n,1)}scrollToElm(t,e,n=2){e&&this.scrollTo(t,this.scrollStateVal.coord_y>0?e.offsetTop-200:e.offsetTop-350,n)}scrollTo(t,e,n,a){const i=t.scrollTop,o=e-i,c=performance.now();let s,r=performance.now(),l=(r-c)/1e3;!function e(){var d;r=performance.now(),l=(r-c)/1e3,s=l/n,t.scrollTop=i+o*((d=s)<.5?2*d*d:(4-2*d)*d-1),s<1?window.requestAnimationFrame(e):a&&a()}()}showDetails(t){this.payment=t,this.isAnimating||(this.isAnimating=!0,this.isDetailsShown=!0,this.wrapperClasses="animate__animated zoomInJ",setTimeout(()=>{this.document.body.classList.add("overflow-hidden"),this.detailsClasses="is-shown"},250),setTimeout(()=>{this.wrapperClasses="",this.isAnimating=!1},300))}onCloseModal(t){t.preventDefault(),this.hideDetails(),this.isSumsShown=!0}toggleSumsDropdown(){this.isSumsShown=!this.isSumsShown}hideDetails(){this.isAnimating||(this.isAnimating=!0,this.detailsClasses="",setTimeout(()=>{this.document.body.classList.remove("overflow-hidden"),this.wrapperClasses="animate__animated zoomOutJ"},250),setTimeout(()=>{this.wrapperClasses="",this.isDetailsShown=!1,this.isAnimating=!1},300))}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(i.c),s.Qb(a.e))},t.\u0275cmp=s.Kb({type:t,selectors:[["j-loan-statement"]],inputs:{loan:"loan",schedule:"schedule",selected:"selected",scrollState:"scrollState"},decls:3,vars:2,consts:[["class","schedule",3,"ngClass",4,"ngIf"],["class","f-page-wrapper is-shown",3,"ngClass",4,"ngIf"],[1,"schedule",3,"ngClass"],[1,"schedule_block_title_shadow"],["class","schedule_block",4,"ngFor","ngForOf"],[1,"schedule_block"],[1,"schedule_block_title",3,"id"],[1,"container"],[1,"row","offset-xl-2","col-xl-8","col-lg-10"],[1,"year"],[1,"row"],[1,"col-lg-10","col-xl-8","offset-lg-1","offset-xl-2"],["class","schedule_block_item",3,"click",4,"ngFor","ngForOf"],[1,"schedule_block_item",3,"click"],[1,"index"],[1,"date"],[1,"amount"],[3,"money"],[1,"f-page-wrapper","is-shown",3,"ngClass"],[1,"f-page-backdrop",3,"click"],[1,"f-page-content","f-page-content--gray","f-page-content--quarter","payment__details",3,"ngClass"],[1,"payment_header"],[1,"payment_header__info"],[1,"payment_header__info__count"],[1,"payment_header__info__date"],["href","#",1,"details__close","ml-auto",3,"click"],["size","md","name","cross",1,"size-md"],[1,"payment_amount"],[1,"payment_info"],[1,"payment_info__header"],["translate","STATEMENT.DETAILS.TITLE",1,"title"],[1,"toggler",3,"click"],[1,"dropdown-arrow","ml-auto","text-primary",3,"inlineSVG"],[1,"payment_info__body"],[1,"main_debt"],[1,"name"]],template:function(t,e){1&t&&(s.Wb(0,"f-page-extra"),s.Rc(1,R,4,6,"div",0),s.Vb(),s.Rc(2,V,32,29,"section",1)),2&t&&(s.Ab(1),s.uc("ngIf",e.schedule),s.Ab(1),s.uc("ngIf",e.payment&&e.isDetailsShown))},directives:[O.a,a.u,a.r,a.t,u.a,d.a,m.a,I.a],pipes:[a.m,a.f,m.d],styles:[".schedule_block_title_shadow[_ngcontent-%COMP%]{display:none}.scrolled[_ngcontent-%COMP%]   .schedule_block_title_shadow[_ngcontent-%COMP%]{display:block;position:-webkit-sticky;position:sticky;top:163px;width:100%;height:48px;box-shadow:0 4px 8px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 0 1px rgba(0,0,0,.04)}@media(max-width:1279.98px){.scrolled[_ngcontent-%COMP%]   .schedule_block_title_shadow[_ngcontent-%COMP%]{top:211px}}.scrolled[_ngcontent-%COMP%]   .schedule_block_title[_ngcontent-%COMP%]{height:48px}.schedule_block_title[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:58px;-webkit-box-align:center;align-items:center;padding-left:12px;padding-right:12px;top:163px;position:-webkit-sticky;position:sticky;z-index:2;background:#fff}@media(max-width:1279.98px){.schedule_block_title[_ngcontent-%COMP%]{top:211px}}.schedule_block_title[_ngcontent-%COMP%]   .year[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem;line-height:1.25rem;color:#1a1c1f}.schedule_block_title[_ngcontent-%COMP%]   .remaining_dept[_ngcontent-%COMP%]{margin-left:auto;font-size:.75rem;line-height:1.125rem;text-align:right;color:#666c72}.schedule_block_item[_ngcontent-%COMP%]{height:52px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding-left:12px;padding-right:12px;border-bottom:1px solid rgba(183,190,197,.5);cursor:pointer}.schedule_block_item[_ngcontent-%COMP%]:hover{box-shadow:0 10px 20px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 0 1px rgba(0,0,0,.04);border-radius:12px}.schedule_block_item[_ngcontent-%COMP%]   .index[_ngcontent-%COMP%]{color:#666c72;opacity:.95;font-size:.875rem;line-height:1.125rem;width:50px}.schedule_block_item[_ngcontent-%COMP%]   .date[_ngcontent-%COMP%]{margin-left:40px;font-weight:500;font-size:1.125rem;line-height:1.5rem;color:#1a1c1f;opacity:.95}.schedule_block_item[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{margin-left:auto;font-size:.875rem;line-height:1.125rem;color:#1a1c1f}.payment__details[_ngcontent-%COMP%]{padding:16px}.payment__details[_ngcontent-%COMP%]   .payment_header[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.payment__details[_ngcontent-%COMP%]   .payment_header[_ngcontent-%COMP%]   .payment_header__info[_ngcontent-%COMP%]   .payment_header__info__count[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;color:#1a1c1f}.payment__details[_ngcontent-%COMP%]   .payment_header[_ngcontent-%COMP%]   .payment_header__info[_ngcontent-%COMP%]   .payment_header__info__date[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.125rem;color:#666c72}.payment__details[_ngcontent-%COMP%]   .payment_amount[_ngcontent-%COMP%]{padding:24px 16px;font-weight:500;font-size:2.25rem;line-height:45px;color:#1a1c1f;background:#fff;border-radius:12px;margin-top:16px;margin-bottom:16px}.payment__details[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:22px 16px}.payment__details[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   .payment_info__header[_ngcontent-%COMP%]{padding-bottom:20px;display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.payment__details[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   .payment_info__header[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-weight:500;font-size:1.25rem;line-height:1.25rem;color:#1a1c1f}.payment__details[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   .payment_info__header[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{cursor:pointer;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.payment__details[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   .payment_info__body[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.payment__details[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   .payment_info__body[_ngcontent-%COMP%]   .main_debt[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.payment__details[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   .payment_info__body[_ngcontent-%COMP%]   .main_debt[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-size:1rem;line-height:1.5rem;color:#666c72}.payment__details[_ngcontent-%COMP%]   .payment_info[_ngcontent-%COMP%]   .payment_info__body[_ngcontent-%COMP%]   .main_debt[_ngcontent-%COMP%]   .amount[_ngcontent-%COMP%]{font-size:1rem;line-height:1.375rem;color:#1a1c1f}.payment__details[_ngcontent-%COMP%]   .payment_info.hided[_ngcontent-%COMP%]   .toggler[_ngcontent-%COMP%]{-webkit-transform:rotate(180deg);transform:rotate(180deg)}.payment__details[_ngcontent-%COMP%]   .payment_info.hided[_ngcontent-%COMP%]   .payment_info__body[_ngcontent-%COMP%]{display:none;opacity:0}"]}),t})();var k=n("ZF+8"),W=n("tepA");const N=function(){return{width:"435px",height:"275px","background-color":"#ECEEF1"}},L=function(){return{width:"435px",height:"318px","background-color":"#ECEEF1"}},D=function(){return{width:"435px",height:"340px","background-color":"#ECEEF1"}};function j(t,e){1&t&&(s.Ub(0),s.Rb(1,"ngx-skeleton-loader",5),s.Rb(2,"ngx-skeleton-loader",5),s.Rb(3,"ngx-skeleton-loader",5),s.Tb()),2&t&&(s.Ab(1),s.uc("theme",s.yc(3,N)),s.Ab(1),s.uc("theme",s.yc(4,L)),s.Ab(1),s.uc("theme",s.yc(5,D)))}function F(t,e){if(1&t&&(s.Wb(0,"div",6),s.Rb(1,"div",20),s.Wb(2,"div",10),s.Rb(3,"div",21),s.Wb(4,"div",12),s.Tc(5),s.Vb(),s.Vb(),s.Wb(6,"div",10),s.Rb(7,"div",22),s.Wb(8,"div",12),s.Tc(9),s.nc(10,"formatIban"),s.Vb(),s.Vb(),s.Wb(11,"div",10),s.Rb(12,"div",23),s.Wb(13,"div",12),s.Tc(14),s.nc(15,"formatIban"),s.Vb(),s.Vb(),s.Wb(16,"div",10),s.Rb(17,"div",24),s.Wb(18,"div",12),s.Tc(19),s.Vb(),s.Vb(),s.Vb()),2&t){const t=s.mc(2);s.Ab(5),s.Vc(" ",t.company.shortOrLongName," "),s.Ab(4),s.Vc(" ",s.oc(10,4,t.company.bin)," "),s.Ab(5),s.Vc(" ",s.oc(15,6,t.loan.loanAcc)," "),s.Ab(5),s.Vc(" ",t.company.kod," ")}}function U(t,e){if(1&t&&(s.Ub(0),s.Wb(1,"div",6),s.Rb(2,"div",7),s.Wb(3,"div",8),s.Rb(4,"j-money",9),s.Vb(),s.Wb(5,"div",10),s.Rb(6,"div",11),s.Wb(7,"div",12),s.Rb(8,"j-money",9),s.Vb(),s.Vb(),s.Vb(),s.Wb(9,"div",6),s.Rb(10,"div",13),s.Wb(11,"div",10),s.Rb(12,"div",14),s.Wb(13,"div",12),s.Tc(14),s.Vb(),s.Vb(),s.Wb(15,"div",10),s.Rb(16,"div",15),s.Wb(17,"div",12),s.Tc(18),s.nc(19,"date"),s.Vb(),s.Vb(),s.Wb(20,"div",10),s.Rb(21,"div",16),s.Wb(22,"div",12),s.Tc(23),s.nc(24,"date"),s.Vb(),s.Vb(),s.Wb(25,"div",10),s.Rb(26,"div",17),s.Wb(27,"div",12),s.Tc(28),s.Vb(),s.Vb(),s.Wb(29,"div",10),s.Rb(30,"div",18),s.Wb(31,"div",12),s.Tc(32),s.Vb(),s.Vb(),s.Vb(),s.Rc(33,F,20,8,"div",19),s.Tb()),2&t){const t=s.mc();s.Ab(4),s.uc("money",t.loan.amount),s.Ab(4),s.uc("money",t.getCurrentPaymentObj),s.Ab(6),s.Vc(" ",t.loan.colvirId," "),s.Ab(4),s.Vc(" ",s.pc(19,8,t.loan.dateFrom,"d MMMM yyyy")," "),s.Ab(5),s.Vc(" ",s.pc(24,11,t.loan.dateTo,"d MMMM yyyy")," "),s.Ab(5),s.Vc(" ",t.loan.effRate,"% "),s.Ab(4),s.Vc(" ",t.loan.term," \u043c\u0435\u0441\u044f\u0446\u0435\u0432 "),s.Ab(1),s.uc("ngIf",t.company)}}let G=(()=>{class t{constructor(t,e,n){this.router=t,this.loanService=e,this.filesService=n}onDownload(){return Object(o.a)(this,void 0,void 0,(function*(){try{const t=yield this.loanService.getPdf(this.loan.id);this.filesService.downloadFile(t,`${this.loan.colvirId}.pdf`)}catch(t){console.error(t)}}))}get getCurrentPaymentObj(){var t;return{amount:null===(t=this.currentPayment)||void 0===t?void 0:t.remainDebt,currency:this.loan.amount.currency}}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(i.c),s.Qb(r.a),s.Qb(k.b))},t.\u0275cmp=s.Kb({type:t,selectors:[["j-loan-info"]],inputs:{loan:"loan",company:"company",currentPayment:"currentPayment"},decls:6,vars:2,consts:[[1,"loans_info"],[1,"container"],[1,"row"],[1,"offset-xl-2","col-xl-8","col-lg-10"],[4,"ngIf"],[3,"theme"],[1,"info"],["translate","LOANS.INFO.CREDIT_SUM",1,"info__header__sum","text-dark"],[1,"info__header__amount","text-dark"],[3,"money"],[1,"j-desc-row"],["translate","LOANS.INFO.REMAINING_DEBT",1,"j-desc-child","text-muted"],[1,"j-desc-child","text-dark"],["translate","LOANS.INFO.DETAILS",1,"info__header","text-dark"],["translate","LOANS.INFO.AGREEMENT_NUMBER",1,"j-desc-child","text-muted"],["translate","LOANS.INFO.REGISTRATION_DATE",1,"j-desc-child","text-muted"],["translate","LOANS.INFO.END_DATE",1,"j-desc-child","text-muted"],["translate","LOANS.INFO.INTEREST_RATE",1,"j-desc-child","text-muted"],["translate","LOANS.INFO.LOAN_TERM",1,"j-desc-child","text-muted"],["class","info",4,"ngIf"],["translate","LOANS.INFO.WRITE_OFF_ACCOUNT",1,"info__header","text-dark"],["translate","LOANS.INFO.NAME",1,"j-desc-child","text-muted"],["translate","LOANS.INFO.BIN_IIN",1,"j-desc-child","text-muted"],["translate","LOANS.INFO.ACCOUNT",1,"j-desc-child","text-muted"],["translate","LOANS.INFO.KBE",1,"j-desc-child","text-muted"]],template:function(t,e){1&t&&(s.Wb(0,"section",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Rc(4,j,4,6,"ng-container",4),s.Rc(5,U,34,14,"ng-container",4),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&t&&(s.Ab(4),s.uc("ngIf",!e.loan),s.Ab(1),s.uc("ngIf",e.loan))},directives:[a.u,b.a,m.a,u.a],pipes:[a.f,W.a],styles:[".loans_info[_ngcontent-%COMP%]{background:#f6f7f8;padding-top:1.5rem}.info[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0 1rem;background:#fff;border-radius:.75rem;max-width:435px}.info__header__sum[_ngcontent-%COMP%]{font-size:16px}.info__header__amount[_ngcontent-%COMP%]{font-weight:500;font-size:28px;margin-bottom:1rem}.info__header[_ngcontent-%COMP%]{font-weight:500;font-size:20px;margin-bottom:1rem}.loan-download-button[_ngcontent-%COMP%]{width:100%;margin-top:1rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}"]}),t})();function B(t,e){if(1&t){const t=s.Xb();s.Wb(0,"button",19),s.ic("click",(function(e){s.Ic(t);const n=s.mc(3);return n.onSchedulePageChanged(n.operationTypePage-1)})),s.Tc(1," < "),s.Vb()}if(2&t){const t=s.mc(3);s.uc("disabled",0===t.operationTypePage)}}function H(t,e){if(1&t){const t=s.Xb();s.Wb(0,"button",20),s.ic("click",(function(n){s.Ic(t);const a=e.$implicit;return s.mc(3).onSelect(a.code)})),s.Tc(1),s.Vb()}if(2&t){const t=e.$implicit,n=s.mc(3);s.Hb("active",n.isSelected(t)),s.Ab(1),s.Vc(" ",t.label," ")}}function Y(t,e){if(1&t){const t=s.Xb();s.Wb(0,"button",19),s.ic("click",(function(e){s.Ic(t);const n=s.mc(3);return n.onSchedulePageChanged(n.operationTypePage+1)})),s.Tc(1," > "),s.Vb()}if(2&t){const t=s.mc(3);s.uc("disabled",7*(t.operationTypePage+1)>=t.operationTypes.length)}}function K(t,e){if(1&t&&(s.Wb(0,"div",15),s.Wb(1,"div",16),s.Rc(2,B,2,1,"button",17),s.Rc(3,H,2,3,"button",18),s.Rc(4,Y,2,1,"button",17),s.Vb(),s.Vb()),2&t){const t=s.mc(2);s.Ab(2),s.uc("ngIf",t.operationTypes.length>7),s.Ab(1),s.uc("ngForOf",t.operationTypeList),s.Ab(1),s.uc("ngIf",t.operationTypes.length>7)}}function $(t,e){if(1&t&&(s.Wb(0,"div",13),s.Wb(1,"div",3),s.Wb(2,"div",4),s.Wb(3,"div",7),s.Rc(4,K,5,3,"div",14),s.Vb(),s.Vb(),s.Vb(),s.Vb()),2&t){const t=s.mc();s.Ab(4),s.uc("ngIf",t.operationTypeList)}}function Q(t,e){if(1&t&&s.Rb(0,"j-loan-statement",21),2&t){const t=s.mc();s.uc("loan",t.loan)("schedule",t.schedule)("selected",t.selected)("scrollState",t.scrollState)}}function X(t,e){if(1&t&&s.Rb(0,"j-loan-info",22),2&t){const t=s.mc();s.uc("loan",t.loan)("company",t.company)("currentPayment",t.currentPayment)}}const q=function(t){return{scrolled:t}},z=[{path:":id",component:(()=>{class t{constructor(t,e,n,a,i){this.router=t,this.route=e,this.loanService=n,this.companyService=a,this.document=i,this.unpaid=0,this.paymentsCount=0,this.subscription=new c.a,this.isLoading=!0,this.wrapperClasses="",this.isAnimating=!1,this.detailsClasses="",this.operationTypes=[],this.operationTypeList=[],this.operationTypePage=0,this.scrollState={coord_y:0,selectedTab:"statement"}}onScrollEvent(t){const e=window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0;this.scrollState={coord_y:e,selectedTab:this.selectedTab}}ngOnInit(){const t=this.route.queryParamMap.subscribe(t=>{t.get("view")?this.selectedTab=t.get("view"):this.router.navigate([],{queryParams:{view:"statement"},queryParamsHandling:"merge"})}),e=this.route.params.subscribe(t=>{t.id&&(this.loanId=t.id,this.loadLoan())});this.subscription.add(t),this.subscription.add(e)}loadLoan(){return Object(o.a)(this,void 0,void 0,(function*(){this.isLoading=!0;try{this.loan=yield this.loanService.getLoanById(this.loanId),this.loanService.getSchedule(this.loan.colvirReferenceId).then(t=>{this.schedule=t,this.parseSchedule();for(const[e]of Object.entries(this.schedule.loanSchedule))this.operationTypes.push({label:e,code:e});this.onSchedulePageChanged(0),this.setSelected(this.operationTypes[0].code)}),this.companyService.getCompany(this.loan.companyId).then(t=>{this.company=t})}catch(t){this.errorText=t.description}finally{this.isLoading=!1}}))}parseSchedule(){if(this.schedule)for(const[t,e]of Object.entries(this.schedule.loanSchedule))for(const n of e)n.currentPayment&&(this.currentPayment=n,this.setSelected(t)),this.currentPayment&&this.unpaid++,this.paymentsCount++}isSelected(t){return t===this.selected}onSelect(t){this.setSelected(t)}onSchedulePageChanged(t){this.operationTypePage=t,this.operationTypeList=[];for(let e=7*t;e<=7*(t+1);e++)this.operationTypes[e]&&this.operationTypeList.push(this.operationTypes[e])}setSelected(t){this.selected=this.operationTypeList.find(e=>t===e.code)}setShowAll(t=!0){this.selected=null}goBack(){this.router.navigate(["/"])}ngOnDestroy(){this.subscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(s.Qb(i.c),s.Qb(i.a),s.Qb(r.a),s.Qb(l.a),s.Qb(a.e))},t.\u0275cmp=s.Kb({type:t,selectors:[["j-loans"]],hostBindings:function(t,e){1&t&&s.ic("scroll",(function(t){return e.onScrollEvent(t)}),!1,s.Hc)},decls:14,vars:12,consts:[[1,"loans_wrapper"],[1,"loans_top_wrapper",3,"ngClass"],[1,"loans_header"],[1,"container"],[1,"row"],["type","button",1,"btn","btn-outline-primary","close-btn",3,"click"],["name","chevronLeft","stroke","true","color","currentColor"],[1,"col-lg-10","col-xl-8","offset-lg-1","offset-xl-2"],[3,"loan","schedule","paymentsCount","unpaid","currentPayment","scrollState"],["class","loans_filter",4,"ngIf"],[1,"loans_body"],[3,"loan","schedule","selected","scrollState",4,"ngIf"],[3,"loan","company","currentPayment",4,"ngIf"],[1,"loans_filter"],["class","filter-header d-flex",4,"ngIf"],[1,"filter-header","d-flex"],[1,"filter-buttons","d-flex"],["type","button","class","btn btn-sm filter-btn",3,"disabled","click",4,"ngIf"],["type","button","class","btn btn-sm filter-btn year-btn","translate","",3,"active","click",4,"ngFor","ngForOf"],["type","button",1,"btn","btn-sm","filter-btn",3,"disabled","click"],["type","button","translate","",1,"btn","btn-sm","filter-btn","year-btn",3,"click"],[3,"loan","schedule","selected","scrollState"],[3,"loan","company","currentPayment"]],template:function(t,e){1&t&&(s.Wb(0,"section",0),s.Wb(1,"div",1),s.Wb(2,"div",2),s.Wb(3,"div",3),s.Wb(4,"div",4),s.Wb(5,"button",5),s.ic("click",(function(t){return e.goBack()})),s.Rb(6,"j-icon",6),s.Vb(),s.Wb(7,"div",7),s.Rb(8,"j-loan-header",8),s.Rb(9,"j-loan-tabs"),s.Vb(),s.Vb(),s.Vb(),s.Vb(),s.Rc(10,$,5,1,"div",9),s.Vb(),s.Wb(11,"div",10),s.Rc(12,Q,1,4,"j-loan-statement",11),s.Rc(13,X,1,3,"j-loan-info",12),s.Vb(),s.Vb()),2&t&&(s.Ab(1),s.uc("ngClass",s.zc(10,q,e.scrollState.coord_y>0&&"statement"===e.selectedTab)),s.Ab(7),s.uc("loan",e.loan)("schedule",e.schedule)("paymentsCount",e.paymentsCount)("unpaid",e.unpaid)("currentPayment",e.currentPayment)("scrollState",e.scrollState),s.Ab(2),s.uc("ngIf","statement"===e.selectedTab),s.Ab(2),s.uc("ngIf","statement"===e.selectedTab),s.Ab(1),s.uc("ngIf","info"===e.selectedTab))},directives:[a.r,d.a,v,C,a.u,a.t,m.a,M,G],styles:["[_nghost-%COMP%]   .filter-header[_ngcontent-%COMP%]{margin-bottom:0}@media(max-width:1279.98px){[_nghost-%COMP%]   .filter-buttons[_ngcontent-%COMP%]{max-width:100%;overflow:auto}}[_nghost-%COMP%]   .filter-btn[_ngcontent-%COMP%]{margin-bottom:0}[_nghost-%COMP%]   .loans_top_wrapper[_ngcontent-%COMP%]{position:-webkit-sticky;position:sticky;top:0;background:#fff;z-index:3}@media(max-width:1279.98px){[_nghost-%COMP%]   .loans_top_wrapper[_ngcontent-%COMP%]{padding-top:1.5rem}}[_nghost-%COMP%]   .loans_top_wrapper.scrolled[_ngcontent-%COMP%]   j-loan-tabs[_ngcontent-%COMP%]{-webkit-transform:translateX(-1000px);transform:translateX(-1000px);height:0;display:block}[_nghost-%COMP%]   .loans_top_wrapper.scrolled[_ngcontent-%COMP%]   .loans_header[_ngcontent-%COMP%]{padding-top:1.5rem}@media(max-width:1279.98px){[_nghost-%COMP%]   .loans_top_wrapper.scrolled[_ngcontent-%COMP%]   .loans_header[_ngcontent-%COMP%]{padding-top:0}}[_nghost-%COMP%]   .loans_header[_ngcontent-%COMP%]{padding-top:3.5rem}@media(max-width:1279.98px){[_nghost-%COMP%]   .loans_header[_ngcontent-%COMP%]{padding-top:0}}[_nghost-%COMP%]   .loans_header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:absolute;width:40px;height:40px;padding:0;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;margin-top:-.5rem}@media(max-width:1279.98px){[_nghost-%COMP%]   .loans_header[_ngcontent-%COMP%]   .close-btn[_ngcontent-%COMP%]{position:relative;left:1rem;margin-bottom:1rem}}[_nghost-%COMP%]   .loans_filter[_ngcontent-%COMP%]{padding-top:20px;padding-bottom:20px;background:#f6f7f8}"]}),t})(),data:{title:"TRANSFERS.TITLE"}},{path:":id/statement",component:M},{path:":id/info",component:G}];let J=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},imports:[[i.g.forChild(z)],i.g]}),t})();var Z=n("PCNd"),tt=n("5cNS");n.d(e,"LoansModule",(function(){return et}));let et=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},imports:[[a.c,J,Z.a,tt.a]]}),t})()},OTTH:function(t,e,n){"use strict";n.d(e,"a",(function(){return wt}));var a=n("mrSG"),i=n("fXoL"),o=n("ofXK"),c=n("R0Ic"),s=n("jtnZ"),r=n("ItTq"),l=n("TwVa"),d=n("2G+r"),b=n("rEgK"),u=n("sYmb"),m=n("q25w"),p=n("VnnJ"),h=n("VO+5");function g(t,e){1&t&&i.Rb(0,"span",26)}function f(t,e){if(1&t&&(i.Wb(0,"span",27),i.Tc(1),i.nc(2,"translate"),i.Vb()),2&t){const t=i.mc();i.Db(t.paymentStatus.classList),i.Ab(1),i.Vc(" ",i.oc(2,3,t.paymentStatus.label)," ")}}function T(t,e){if(1&t&&(i.Rb(0,"div",28),i.nc(1,"translate")),2&t){const t=i.mc();i.Db(null==t.paymentStatus?null:t.paymentStatus.classList),i.uc("innerText",i.pc(1,3,t.transaction.paymentMessage,t.transaction.paymentMessageTranslateParams))}}function y(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",29),i.ic("click",(function(e){return i.Ic(t),i.mc().showRefundDetails(e)})),i.Tc(1,"STATEMENT.TRANSACTION.REFUND_DETAILS"),i.Vb()}}function v(t,e){if(1&t){const t=i.Xb();i.Wb(0,"button",30),i.ic("click",(function(e){return i.Ic(t),i.mc().repeatPayment()})),i.Rb(1,"span",31),i.Wb(2,"span"),i.Tc(3),i.nc(4,"translate"),i.Vb(),i.Vb()}if(2&t){const t=i.mc();i.Ab(1),i.uc("inlineSVG","/assets/icons/transaction/repeat.svg"),i.Ab(2),i.Uc(i.oc(4,2,t.mapActionLabel("REPEAT")))}}function S(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",32),i.ic("click",(function(e){return i.Ic(t),i.mc().signPayment(e)})),i.Tc(1),i.nc(2,"translate"),i.Vb()}if(2&t){const t=i.mc();i.Ab(1),i.Vc(" ",i.oc(2,1,t.mapActionLabel("SIGN"))," ")}}function _(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",33),i.ic("click",(function(e){return i.Ic(t),i.mc().sendForSign(e)})),i.Tc(1," STATEMENT.DETAILS.SEND_FOR_SIGN "),i.Vb()}}function A(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",34),i.ic("click",(function(e){return i.Ic(t),i.mc().exportPayment(e)})),i.Rb(1,"span",31),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.DETAILS.DOWNLOAD"),i.Vb(),i.Vb()}2&t&&(i.Ab(1),i.uc("inlineSVG","/assets/icons/transaction/pdf.svg"))}function C(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",34),i.ic("click",(function(e){return i.Ic(t),i.mc().downloadIncomingPayment(e)})),i.Rb(1,"span",31),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.DETAILS.DOWNLOAD"),i.Vb(),i.Vb()}2&t&&(i.Ab(1),i.uc("inlineSVG","/assets/icons/transaction/pdf.svg"))}function O(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",39),i.ic("click",(function(e){return i.Ic(t),i.mc(3).repeatPayment(e)})),i.Rb(1,"span",31),i.Wb(2,"span"),i.Tc(3),i.nc(4,"translate"),i.Vb(),i.Vb()}if(2&t){const t=i.mc(3);i.Ab(1),i.uc("inlineSVG","/assets/icons/transaction/repeat.svg"),i.Ab(2),i.Uc(i.oc(4,2,t.mapActionLabel("REPEAT")))}}function I(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",39),i.ic("click",(function(e){return i.Ic(t),i.mc(3).editPayment(e)})),i.Rb(1,"span",31),i.Wb(2,"span"),i.Tc(3),i.nc(4,"translate"),i.Vb(),i.Vb()}if(2&t){const t=i.mc(3);i.Ab(1),i.uc("inlineSVG","/assets/icons/transaction/edit.svg"),i.Ab(2),i.Uc(i.oc(4,2,t.mapActionLabel("EDIT")))}}function E(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",39),i.ic("click",(function(e){return i.Ic(t),i.mc(3).deletePayment(e)})),i.Rb(1,"span",31),i.Wb(2,"span"),i.Tc(3),i.nc(4,"translate"),i.Vb(),i.Vb()}if(2&t){const t=i.mc(3);i.Ab(1),i.uc("inlineSVG","/assets/icons/transaction/delete.svg"),i.Ab(2),i.Uc(i.oc(4,2,t.mapActionLabel("DELETE")))}}function x(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",39),i.ic("click",(function(e){return i.Ic(t),i.mc(3).revokePayment(e)})),i.Rb(1,"span",31),i.Wb(2,"span"),i.Tc(3),i.nc(4,"translate"),i.Vb(),i.Vb()}if(2&t){const t=i.mc(3);i.Ab(1),i.uc("inlineSVG","/assets/icons/transaction/revoke.svg"),i.Ab(2),i.Uc(i.oc(4,2,t.mapActionLabel("REVOKE")))}}function P(t,e){if(1&t&&(i.Wb(0,"section",37),i.Rc(1,O,5,4,"a",38),i.Rc(2,I,5,4,"a",38),i.Rc(3,E,5,4,"a",38),i.Rc(4,x,5,4,"a",38),i.Vb()),2&t){const t=i.mc(2);i.Hb("details__row--two-items",t.hasTwoActions)("details__row--three-items",t.hasThreeActions),i.Ab(1),i.uc("ngIf",t.transaction.isRepeatable),i.Ab(1),i.uc("ngIf",t.transaction.isEditable),i.Ab(1),i.uc("ngIf",t.transaction.isRemovable),i.Ab(1),i.uc("ngIf",t.transaction.isRevokable)}}function w(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",39),i.ic("click",(function(e){return i.Ic(t),i.mc(3).loadParentPayment(e)})),i.Rb(1,"span",31),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.DETAILS.TO_INITIAL"),i.Vb(),i.Vb()}2&t&&(i.Ab(1),i.uc("inlineSVG","/assets/icons/transaction/to-initial.svg"))}function R(t,e){if(1&t&&(i.Ub(0),i.Rc(1,w,4,1,"a",38),i.Tb()),2&t){const t=i.mc(2);i.Ab(1),i.uc("ngIf",t.transaction.parentReference)}}function V(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.DETAILS.KNP"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Tc(6),i.Vb(),i.Vb()),2&t){const t=i.mc(3);i.Ab(6),i.Vc(" ",(null==t.transaction.knp?null:t.transaction.knp.label)||(null==t.transaction.knp?null:t.transaction.knp.code)||"-"," ")}}function M(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"section",40),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",41),i.Wb(5,"h5",42),i.Tc(6,"STATEMENT.TRANSFER_ACTIONS.TITLE"),i.Vb(),i.Rb(7,"j-icon",43),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",44),i.Rc(10,V,7,1,"div",45),i.Wb(11,"div",46),i.Wb(12,"div",47),i.Wb(13,"span",35),i.Tc(14,"STATEMENT.DETAILS.DOCUMENT_NUMBER"),i.Vb(),i.Tc(15,": "),i.Vb(),i.Wb(16,"div",48),i.Tc(17),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(18,"section",40),i.Wb(19,"j-collapsible"),i.Wb(20,"j-collapsible-trigger"),i.Wb(21,"div",49),i.Wb(22,"h5",42),i.Tc(23),i.Vb(),i.Rb(24,"j-icon",43),i.Vb(),i.Vb(),i.Wb(25,"j-collapsible-body"),i.Wb(26,"div",44),i.Wb(27,"div",46),i.Wb(28,"div",47),i.Wb(29,"span",35),i.Tc(30,"STATEMENT.DETAILS.BANK"),i.Vb(),i.Tc(31,": "),i.Vb(),i.Wb(32,"div",48),i.Tc(33),i.nc(34,"bankAccountName"),i.Vb(),i.Vb(),i.Wb(35,"div",46),i.Wb(36,"div",47),i.Wb(37,"span",35),i.Tc(38,"STATEMENT.DETAILS.BIC"),i.Vb(),i.Tc(39,": "),i.Vb(),i.Wb(40,"div",48),i.Tc(41),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()),2&t){const t=i.mc(2);i.Ab(7),i.uc("isStroke",!0),i.Ab(3),i.uc("ngIf",!t.transaction.parentReference),i.Ab(7),i.Vc(" ",t.transaction.documentNumber||"-",""),i.Ab(6),i.Vc(" ",t.transaction.isCredit?"STATEMENT.TRANSACTION.SENDER":"STATEMENT.TRANSACTION.RECEIVER"," "),i.Ab(1),i.uc("isStroke",!0),i.Ab(9),i.Vc(" ",t.transaction.correspondentAccount?i.oc(34,7,t.transaction.correspondentAccount):"-"," "),i.Ab(8),i.Vc(" ",t.transaction.correspondentBankBic||"-"," ")}}function k(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",48),i.Tc(2),i.Vb(),i.Wb(3,"div",54),i.Tc(4,"SHARED.SIGNED"),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(2),i.Uc(t.transaction.signHead)}}function W(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",48),i.Tc(2),i.Vb(),i.Wb(3,"div",54),i.Tc(4,"SHARED.SIGNED"),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(2),i.Uc(t.transaction.signBuch)}}function N(t,e){if(1&t&&(i.Wb(0,"section",40),i.Wb(1,"j-collapsible"),i.Wb(2,"j-collapsible-trigger"),i.Wb(3,"div",51),i.Wb(4,"h5",52),i.Tc(5,"STATEMENT.DETAILS.SIGNERS"),i.Vb(),i.Rb(6,"j-icon",53),i.Vb(),i.Vb(),i.Wb(7,"j-collapsible-body"),i.Wb(8,"div",44),i.Rc(9,k,5,1,"div",45),i.Rc(10,W,5,1,"div",45),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(3);i.Ab(6),i.uc("isStroke",!0),i.Ab(3),i.uc("ngIf",t.isSignerShown(t.transaction.signHead)),i.Ab(1),i.uc("ngIf",t.isSignerShown(t.transaction.signBuch))}}function L(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",48),i.Tc(2),i.Vb(),i.Wb(3,"div",54),i.Tc(4),i.Vb(),i.Vb()),2&t){const t=e.$implicit;i.Ab(2),i.Uc(t.name),i.Ab(1),i.Db(t.classList),i.Ab(1),i.Uc(t.label)}}function D(t,e){if(1&t&&(i.Wb(0,"section",40),i.Wb(1,"j-collapsible"),i.Wb(2,"j-collapsible-trigger"),i.Wb(3,"div",49),i.Wb(4,"h5",42),i.Tc(5,"STATEMENT.DETAILS.SIGNERS"),i.Vb(),i.Rb(6,"j-icon",43),i.Vb(),i.Vb(),i.Wb(7,"j-collapsible-body"),i.Wb(8,"div",44),i.Rc(9,L,5,4,"div",55),i.Vb(),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(3);i.Ab(6),i.uc("isStroke",!0),i.Ab(3),i.uc("ngForOf",t.signers)}}function j(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.DETAILS.PAYER_CARD_NUMBER"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Tc(6),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(6),i.Vc(" ",t.payerCardNumber,"")}}function F(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.DETAILS.RECIPIENT_CARD_NUMBER"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Tc(6),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(6),i.Vc(" ",t.recipientCardNumber,"")}}function U(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"section",40),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",41),i.Wb(5,"h5",42),i.Tc(6,"STATEMENT.TRANSFER_ACTIONS.TITLE"),i.Vb(),i.Rb(7,"j-icon",43),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",44),i.Wb(10,"div",46),i.Wb(11,"div",47),i.Wb(12,"span",35),i.Tc(13,"STATEMENT.DETAILS.VALUE_DATE"),i.Vb(),i.Tc(14,": "),i.Vb(),i.Wb(15,"div",48),i.Tc(16),i.nc(17,"date"),i.Vb(),i.Vb(),i.Wb(18,"div",46),i.Wb(19,"div",47),i.Wb(20,"span",35),i.Tc(21,"STATEMENT.DETAILS.PAYER_IBAN"),i.Vb(),i.Tc(22,": "),i.Vb(),i.Wb(23,"div",48),i.Tc(24),i.nc(25,"formatIban"),i.Vb(),i.Vb(),i.Wb(26,"div",46),i.Wb(27,"div",47),i.Wb(28,"span",35),i.Tc(29,"STATEMENT.DETAILS.RECEIVER_IBAN"),i.Vb(),i.Tc(30,": "),i.Vb(),i.Wb(31,"div",48),i.Tc(32),i.nc(33,"formatIban"),i.Vb(),i.Vb(),i.Rc(34,j,7,1,"div",45),i.Rc(35,F,7,1,"div",45),i.Wb(36,"div",46),i.Wb(37,"div",47),i.Wb(38,"span",35),i.Tc(39,"STATEMENT.DETAILS.KNP"),i.Vb(),i.Tc(40,": "),i.Vb(),i.Wb(41,"div",48),i.Tc(42),i.Vb(),i.Vb(),i.Wb(43,"div",46),i.Wb(44,"div",47),i.Wb(45,"span",35),i.Tc(46,"STATEMENT.DETAILS.DOCUMENT_NUMBER"),i.Vb(),i.Tc(47,": "),i.Vb(),i.Wb(48,"div",48),i.Tc(49),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()),2&t){const t=i.mc(3);i.Ab(7),i.uc("isStroke",!0),i.Ab(9),i.Vc(" ",t.transaction.valueDate?i.pc(17,8,t.transaction.valueDate,"d MMMM yyyy"):"-"," "),i.Ab(8),i.Vc("",i.oc(25,11,t.transaction.iban)||"-"," "),i.Ab(8),i.Vc(" ",i.oc(33,13,t.transaction.correspondentAccount)||"-",""),i.Ab(2),i.uc("ngIf",t.payerCardNumber),i.Ab(1),i.uc("ngIf",t.recipientCardNumber),i.Ab(7),i.Vc(" ",(null==t.transaction.knp?null:t.transaction.knp.label)||(null==t.transaction.knp?null:t.transaction.knp.code)||"-"," "),i.Ab(7),i.Vc(" ",t.transaction.documentNumber||"-","")}}function G(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.CONTRACT_NUMBER"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Tc(6),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(6),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails.fxContract?null:t.loadedPayment.details.foreignPaymentDetails.fxContract.contractNumber," ")}}function B(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.UNK"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Tc(6),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(6),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:t.loadedPayment.details.foreignPaymentDetails.fxContract.registrationNumberContract," ")}}function H(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span"),i.Tc(3),i.nc(4,"translate"),i.Vb(),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(3),i.Uc(i.oc(4,3,"AE"==(null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:t.loadedPayment.paymentRecipient.countryCode)?"STATEMENT.FOREIGN_DETAILS.CODEWORD_AE":"STATEMENT.FOREIGN_DETAILS.CODEWORD")),i.Ab(4),i.Wc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:null==t.loadedPayment.details.foreignPaymentDetails.codeWord?null:t.loadedPayment.details.foreignPaymentDetails.codeWord.code," - ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:null==t.loadedPayment.details.foreignPaymentDetails.codeWord?null:t.loadedPayment.details.foreignPaymentDetails.codeWord.name," ")}}function Y(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.KVO"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.currencyTransactionCode," ")}}function K(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.PAYER_INN"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.payerInn," ")}}function $(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.PAYER_KPP"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.payerKpp," ")}}function Q(t,e){1&t&&(i.Wb(0,"span"),i.Tc(1," - "),i.Vb())}function X(t,e){if(1&t&&(i.Wb(0,"span"),i.Tc(1),i.Vb()),2&t){const t=i.mc(5);i.Ab(1),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:t.loadedPayment.details.kbk.name," ")}}function q(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.KBK"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Rc(8,Q,2,0,"span",22),i.Rc(9,X,2,1,"span",22),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:t.loadedPayment.details.kbk.code," "),i.Ab(1),i.uc("ngIf",(null==t.loadedPayment?null:null==t.loadedPayment.details?null:t.loadedPayment.details.kbk.code)&&(null==t.loadedPayment?null:null==t.loadedPayment.details?null:t.loadedPayment.details.kbk.name)),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:t.loadedPayment.details.kbk.name)}}function z(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.OKTMO"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.oktmo," ")}}function J(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.PAYER_STATUS"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.payerStatus," ")}}function Z(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.PAYMENT_BASIS"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.paymentBasis," ")}}function tt(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.BUDGET_DOC_NUMBER"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.budgetDocNumber," ")}}function et(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.PERIOD"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.period," ")}}function nt(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_DETAILS.UIP"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.uip," ")}}function at(t,e){if(1&t&&(i.Wb(0,"div",48),i.Tc(1),i.Vb()),2&t){const t=i.mc(5);i.Ab(1),i.Wc(" ",null==t.transaction.kbe?null:t.transaction.kbe.code," - ",null==t.transaction.kbe?null:t.transaction.kbe.name," ")}}function it(t,e){if(1&t&&(i.Wb(0,"div",48),i.Tc(1),i.Vb()),2&t){const t=i.mc(5);i.Ab(1),i.Vc(" ",null==t.transaction.kbe?null:t.transaction.kbe.code," ")}}function ot(t,e){1&t&&(i.Wb(0,"div",48),i.Tc(1," - "),i.Vb())}function ct(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.DETAILS.KBE"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Rc(5,at,2,2,"div",56),i.Rc(6,it,2,1,"div",56),i.Rc(7,ot,2,0,"div",56),i.Vb()),2&t){const t=i.mc(4);i.Ab(5),i.uc("ngIf",(null==t.transaction.kbe?null:t.transaction.kbe.code)&&(null==t.transaction.kbe?null:t.transaction.kbe.name)),i.Ab(1),i.uc("ngIf",(null==t.transaction.kbe?null:t.transaction.kbe.code)&&!(null!=t.transaction.kbe&&t.transaction.kbe.name)),i.Ab(1),i.uc("ngIf",!(null!=t.transaction.kbe&&t.transaction.kbe.code))}}function st(t,e){1&t&&(i.Wb(0,"span"),i.Tc(1," - "),i.Vb())}function rt(t,e){if(1&t&&(i.Wb(0,"span"),i.Tc(1),i.Vb()),2&t){const t=i.mc(4);i.Ab(1),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:null==t.loadedPayment.paymentRecipient.recipientAccount?null:t.loadedPayment.paymentRecipient.recipientAccount.bankName," ")}}function lt(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_RECEIVER.KIO"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:t.loadedPayment.paymentRecipient.iinOrBin," ")}}function dt(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_RECEIVER.NAME"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:t.loadedPayment.paymentRecipient.name," ")}}function bt(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.FOREIGN_RECEIVER.KPP"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:t.loadedPayment.paymentRecipient.kpp," ")}}function ut(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"section",40),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",41),i.Wb(5,"h5",42),i.Tc(6,"STATEMENT.DETAILS.TITLE"),i.Vb(),i.Rb(7,"j-icon",43),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",44),i.Rc(10,G,7,1,"div",45),i.Rc(11,B,7,1,"div",45),i.Wb(12,"div",46),i.Wb(13,"div",47),i.Wb(14,"span",35),i.Tc(15,"STATEMENT.DETAILS.VALUE_DATE"),i.Vb(),i.Tc(16,": "),i.Vb(),i.Wb(17,"div",48),i.Tc(18),i.nc(19,"date"),i.Vb(),i.Vb(),i.Wb(20,"div",46),i.Wb(21,"div",47),i.Wb(22,"span",35),i.Tc(23,"STATEMENT.DETAILS.KNP"),i.Vb(),i.Tc(24,": "),i.Vb(),i.Wb(25,"div",48),i.Tc(26),i.Vb(),i.Vb(),i.Wb(27,"div",46),i.Wb(28,"div",47),i.Wb(29,"span",35),i.Tc(30,"STATEMENT.DETAILS.PAYER_IBAN"),i.Vb(),i.Tc(31,": "),i.Vb(),i.Wb(32,"div",48),i.Tc(33),i.nc(34,"formatIban"),i.Vb(),i.Vb(),i.Wb(35,"div",46),i.Wb(36,"div",47),i.Wb(37,"span",35),i.Tc(38,"STATEMENT.DETAILS.PAYER_COMMISSION_IBAN"),i.Vb(),i.Tc(39,": "),i.Vb(),i.Wb(40,"div",48),i.Tc(41),i.nc(42,"formatIban"),i.Vb(),i.Vb(),i.Wb(43,"div",46),i.Wb(44,"div",47),i.Wb(45,"span",35),i.Tc(46,"STATEMENT.DETAILS.DOCUMENT_NUMBER"),i.Vb(),i.Tc(47,": "),i.Vb(),i.Wb(48,"div",48),i.Tc(49),i.Vb(),i.Vb(),i.Rc(50,H,8,5,"div",45),i.Rc(51,Y,8,1,"div",45),i.Rc(52,K,8,1,"div",45),i.Rc(53,$,8,1,"div",45),i.Rc(54,q,10,3,"div",45),i.Rc(55,z,8,1,"div",45),i.Rc(56,J,8,1,"div",45),i.Rc(57,Z,8,1,"div",45),i.Rc(58,tt,8,1,"div",45),i.Rc(59,et,8,1,"div",45),i.Rc(60,nt,8,1,"div",45),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(61,"section",40),i.Wb(62,"j-collapsible"),i.Wb(63,"j-collapsible-trigger"),i.Wb(64,"div",41),i.Wb(65,"h5",42),i.Tc(66,"STATEMENT.FOREIGN_RECEIVER.TITLE"),i.Vb(),i.Rb(67,"j-icon",43),i.Vb(),i.Vb(),i.Wb(68,"j-collapsible-body"),i.Wb(69,"div",44),i.Wb(70,"div",46),i.Wb(71,"div",47),i.Wb(72,"span",35),i.Tc(73,"STATEMENT.FOREIGN_RECEIVER.COUNTRY"),i.Vb(),i.Tc(74,": "),i.Vb(),i.Wb(75,"div",48),i.Tc(76),i.Vb(),i.Vb(),i.Wb(77,"div",46),i.Wb(78,"div",47),i.Wb(79,"span",35),i.Tc(80,"STATEMENT.FOREIGN_RECEIVER.CITY"),i.Vb(),i.Tc(81,": "),i.Vb(),i.Wb(82,"div",48),i.Tc(83),i.Vb(),i.Vb(),i.Wb(84,"div",46),i.Wb(85,"div",47),i.Wb(86,"span",35),i.Tc(87,"STATEMENT.FOREIGN_RECEIVER.IBAN"),i.Vb(),i.Tc(88,": "),i.Vb(),i.Wb(89,"div",48),i.Tc(90),i.Vb(),i.Vb(),i.Rc(91,ct,8,3,"div",45),i.Wb(92,"div",46),i.Wb(93,"div",47),i.Wb(94,"span",35),i.Tc(95,"STATEMENT.FOREIGN_RECEIVER.BIC"),i.Vb(),i.Tc(96,": "),i.Vb(),i.Wb(97,"div",48),i.Wb(98,"span"),i.Tc(99),i.Vb(),i.Rc(100,st,2,0,"span",22),i.Rc(101,rt,2,1,"span",22),i.Vb(),i.Vb(),i.Rc(102,lt,8,1,"div",45),i.Rc(103,dt,8,1,"div",45),i.Rc(104,bt,8,1,"div",45),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()),2&t){const t=i.mc(3);i.Ab(7),i.uc("isStroke",!0),i.Ab(3),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:null==t.loadedPayment.details.foreignPaymentDetails.fxContract?null:t.loadedPayment.details.foreignPaymentDetails.fxContract.contractNumber),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:null==t.loadedPayment.details.foreignPaymentDetails.fxContract?null:t.loadedPayment.details.foreignPaymentDetails.fxContract.registrationNumberContract),i.Ab(7),i.Vc(" ",t.transaction.valueDate?i.pc(19,30,t.transaction.valueDate,"d MMMM yyyy"):"-"," "),i.Ab(8),i.Vc(" ",(null==t.transaction.knp?null:t.transaction.knp.label)||(null==t.transaction.knp?null:t.transaction.knp.code)||"-"," "),i.Ab(7),i.Vc("",i.oc(34,33,t.transaction.iban)||"-"," "),i.Ab(8),i.Vc(" ",i.oc(42,35,null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.commissionWithdrawalIban)||"-"," "),i.Ab(8),i.Vc(" ",t.transaction.documentNumber||"-",""),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.codeWord),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.currencyTransactionCode),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.payerInn),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.payerKpp),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.kbk?null:t.loadedPayment.details.kbk.code),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.oktmo),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.payerStatus),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.paymentBasis),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.budgetDocNumber),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.period),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.foreignPaymentDetails?null:t.loadedPayment.details.foreignPaymentDetails.uip),i.Ab(7),i.uc("isStroke",!0),i.Ab(9),i.Vc(" ",t.country," "),i.Ab(7),i.Vc(" ",(null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:t.loadedPayment.paymentRecipient.cityName)||"-"," "),i.Ab(7),i.Vc(" ",t.transaction.correspondentAccount||"-",""),i.Ab(1),i.uc("ngIf",t.transaction.kbe),i.Ab(8),i.Vc(" ",(null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:null==t.loadedPayment.paymentRecipient.recipientAccount?null:t.loadedPayment.paymentRecipient.recipientAccount.bic)||""," "),i.Ab(1),i.uc("ngIf",(null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:null==t.loadedPayment.paymentRecipient.recipientAccount?null:t.loadedPayment.paymentRecipient.recipientAccount.bic)&&(null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:null==t.loadedPayment.paymentRecipient.recipientAccount?null:t.loadedPayment.paymentRecipient.recipientAccount.bankName)),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:null==t.loadedPayment.paymentRecipient.recipientAccount?null:t.loadedPayment.paymentRecipient.recipientAccount.bankName),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:t.loadedPayment.paymentRecipient.iinOrBin),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:t.loadedPayment.paymentRecipient.name),i.Ab(1),i.uc("ngIf",null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:t.loadedPayment.paymentRecipient.kpp)}}function mt(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.CONVERSION.RATE"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Rb(6,"j-money",57),i.Tc(7," = "),i.Rb(8,"j-money",57),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(6),i.uc("money",t.conversionRateFrom),i.Ab(2),i.uc("money",t.conversionRateTo)}}function pt(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"section",40),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",41),i.Wb(5,"h5",42),i.Tc(6,"STATEMENT.CONVERSION.TITLE"),i.Vb(),i.Rb(7,"j-icon",43),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",44),i.Wb(10,"div",46),i.Wb(11,"div",47),i.Wb(12,"span",35),i.Tc(13,"STATEMENT.DETAILS.VALUE_DATE"),i.Vb(),i.Tc(14,": "),i.Vb(),i.Wb(15,"div",48),i.Tc(16),i.nc(17,"date"),i.Vb(),i.Vb(),i.Rc(18,mt,9,2,"div",45),i.Wb(19,"div",46),i.Wb(20,"div",47),i.Wb(21,"span",35),i.Tc(22,"STATEMENT.DETAILS.PAYER_IBAN"),i.Vb(),i.Tc(23,": "),i.Vb(),i.Wb(24,"div",48),i.Tc(25),i.nc(26,"formatIban"),i.Vb(),i.Vb(),i.Wb(27,"div",46),i.Wb(28,"div",47),i.Wb(29,"span",35),i.Tc(30,"STATEMENT.CONVERSION.TO_IBAN"),i.Vb(),i.Tc(31,": "),i.Vb(),i.Wb(32,"div",48),i.Tc(33),i.nc(34,"formatIban"),i.Vb(),i.Vb(),i.Wb(35,"div",46),i.Wb(36,"div",47),i.Wb(37,"span",35),i.Tc(38,"STATEMENT.CONVERSION.FROM_AMOUNT"),i.Vb(),i.Tc(39,": "),i.Vb(),i.Wb(40,"div",48),i.Rb(41,"j-money",57),i.Vb(),i.Vb(),i.Wb(42,"div",46),i.Wb(43,"div",47),i.Wb(44,"span",35),i.Tc(45,"STATEMENT.CONVERSION.TO_AMOUNT"),i.Vb(),i.Tc(46,": "),i.Vb(),i.Wb(47,"div",48),i.Rb(48,"j-money",57),i.Vb(),i.Vb(),i.Wb(49,"div",46),i.Wb(50,"div",47),i.Wb(51,"span",35),i.Tc(52,"STATEMENT.CONVERSION.NUMBER"),i.Vb(),i.Tc(53,": "),i.Vb(),i.Wb(54,"div",48),i.Tc(55),i.Vb(),i.Vb(),i.Wb(56,"div",46),i.Wb(57,"div",47),i.Wb(58,"span",35),i.Tc(59,"STATEMENT.CONVERSION.PURPOSE"),i.Vb(),i.Vb(),i.Wb(60,"div",48),i.Wb(61,"span"),i.Tc(62),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()),2&t){const t=i.mc(3);i.Ab(7),i.uc("isStroke",!0),i.Ab(9),i.Vc(" ",t.transaction.valueDate?i.pc(17,10,t.transaction.valueDate,"d MMMM yyyy"):"-"," "),i.Ab(2),i.uc("ngIf",t.conversionRateFrom&&t.conversionRateTo),i.Ab(7),i.Vc("",i.oc(26,13,t.transaction.iban)||"-"," "),i.Ab(8),i.Vc(" ",i.oc(34,15,null==t.loadedPayment?null:null==t.loadedPayment.paymentRecipient?null:null==t.loadedPayment.paymentRecipient.recipientAccount?null:t.loadedPayment.paymentRecipient.recipientAccount.iban)||"-"," "),i.Ab(8),i.uc("money",null==t.loadedPayment?null:null==t.loadedPayment.details?null:t.loadedPayment.details.paymentAmount),i.Ab(7),i.uc("money",t.conversionToAmount),i.Ab(7),i.Vc(" ",t.transaction.documentNumber||"-",""),i.Ab(7),i.Wc(" ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.conversionPurpose?null:t.loadedPayment.details.conversionPurpose.code," - ",null==t.loadedPayment?null:null==t.loadedPayment.details?null:null==t.loadedPayment.details.conversionPurpose?null:t.loadedPayment.details.conversionPurpose.description," ")}}function ht(t,e){1&t&&(i.Wb(0,"span"),i.Tc(1," - "),i.Vb())}function gt(t,e){if(1&t&&(i.Wb(0,"span"),i.Tc(1),i.Vb()),2&t){const t=i.mc(5);i.Ab(1),i.Vc(" ",null==t.transaction.kbk?null:t.transaction.kbk.name," ")}}function ft(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.DETAILS.KBK"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Wb(6,"span"),i.Tc(7),i.Vb(),i.Rc(8,ht,2,0,"span",22),i.Rc(9,gt,2,1,"span",22),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(7),i.Vc(" ",null==t.transaction.kbk?null:t.transaction.kbk.code," "),i.Ab(1),i.uc("ngIf",(null==t.transaction.kbk?null:t.transaction.kbk.code)&&(null==t.transaction.kbk?null:t.transaction.kbk.name)),i.Ab(1),i.uc("ngIf",null==t.transaction.kbk?null:t.transaction.kbk.name)}}function Tt(t,e){if(1&t&&(i.Wb(0,"div",46),i.Wb(1,"div",47),i.Wb(2,"span",35),i.Tc(3,"STATEMENT.DETAILS.EMAIL"),i.Vb(),i.Tc(4,": "),i.Vb(),i.Wb(5,"div",48),i.Tc(6),i.Vb(),i.Vb()),2&t){const t=i.mc(4);i.Ab(6),i.Vc(" ",t.transaction.emailOnSuccess,"")}}function yt(t,e){if(1&t){const t=i.Xb();i.Ub(0),i.Wb(1,"section",40),i.Wb(2,"j-collapsible"),i.Wb(3,"j-collapsible-trigger"),i.Wb(4,"div",49),i.Wb(5,"h5",42),i.Tc(6,"STATEMENT.DETAILS.TITLE"),i.Vb(),i.Rb(7,"j-icon",43),i.Vb(),i.Vb(),i.Wb(8,"j-collapsible-body"),i.Wb(9,"div",44),i.Wb(10,"div",46),i.Wb(11,"div",47),i.Wb(12,"span",35),i.Tc(13,"STATEMENT.DETAILS.VALUE_DATE"),i.Vb(),i.Tc(14,": "),i.Vb(),i.Wb(15,"div",48),i.Tc(16),i.nc(17,"date"),i.Vb(),i.Vb(),i.Wb(18,"div",58),i.Wb(19,"div",47),i.Wb(20,"span",35),i.Tc(21,"STATEMENT.EMPLOYEES.TITLE"),i.Vb(),i.Tc(22,": "),i.Vb(),i.Wb(23,"div",48),i.Tc(24),i.Wb(25,"a",29),i.ic("click",(function(e){return i.Ic(t),i.mc(3).showEmployees(e)})),i.Tc(26,"STATEMENT.EMPLOYEES.SHOW_LIST"),i.Vb(),i.Vb(),i.Vb(),i.Wb(27,"div",46),i.Wb(28,"div",47),i.Wb(29,"span",35),i.Tc(30,"STATEMENT.DETAILS.KNP"),i.Vb(),i.Tc(31,": "),i.Vb(),i.Wb(32,"div",48),i.Tc(33),i.Vb(),i.Vb(),i.Rc(34,ft,10,3,"div",45),i.Wb(35,"div",46),i.Wb(36,"div",47),i.Wb(37,"span"),i.Tc(38),i.nc(39,"translate"),i.Vb(),i.Tc(40,": "),i.Vb(),i.Wb(41,"div",48),i.Tc(42),i.nc(43,"formatIban"),i.Vb(),i.Vb(),i.Wb(44,"div",46),i.Wb(45,"div",47),i.Wb(46,"span",35),i.Tc(47,"STATEMENT.DETAILS.DOCUMENT_NUMBER"),i.Vb(),i.Tc(48,": "),i.Vb(),i.Wb(49,"div",48),i.Tc(50),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Wb(51,"section",40),i.Wb(52,"j-collapsible"),i.Wb(53,"j-collapsible-trigger"),i.Wb(54,"div",49),i.Wb(55,"h5",42),i.Tc(56),i.Vb(),i.Rb(57,"j-icon",43),i.Vb(),i.Vb(),i.Wb(58,"j-collapsible-body"),i.Wb(59,"div",44),i.Wb(60,"div",46),i.Wb(61,"div",47),i.Wb(62,"span",35),i.Tc(63,"STATEMENT.DETAILS.NAME"),i.Vb(),i.Tc(64,": "),i.Vb(),i.Wb(65,"div",48),i.Tc(66),i.nc(67,"translate"),i.Vb(),i.Vb(),i.Wb(68,"div",46),i.Wb(69,"div",47),i.Wb(70,"span",35),i.Tc(71,"STATEMENT.DETAILS.BIN"),i.Vb(),i.Tc(72,": "),i.Vb(),i.Wb(73,"div",48),i.Tc(74),i.Vb(),i.Vb(),i.Wb(75,"div",46),i.Wb(76,"div",47),i.Wb(77,"span",35),i.Tc(78,"STATEMENT.DETAILS.IBAN"),i.Vb(),i.Tc(79,": "),i.Vb(),i.Wb(80,"div",48),i.Tc(81),i.nc(82,"formatIban"),i.Vb(),i.Vb(),i.Wb(83,"div",46),i.Wb(84,"div",47),i.Wb(85,"span",35),i.Tc(86,"STATEMENT.DETAILS.KBE"),i.Vb(),i.Tc(87,": "),i.Vb(),i.Wb(88,"div",48),i.Tc(89),i.Vb(),i.Vb(),i.Wb(90,"div",46),i.Wb(91,"div",47),i.Wb(92,"span",35),i.Tc(93,"STATEMENT.DETAILS.BANK"),i.Vb(),i.Tc(94,": "),i.Vb(),i.Wb(95,"div",48),i.Tc(96),i.nc(97,"bankAccountName"),i.Vb(),i.Vb(),i.Wb(98,"div",46),i.Wb(99,"div",47),i.Wb(100,"span",35),i.Tc(101,"STATEMENT.DETAILS.BIC"),i.Vb(),i.Tc(102,": "),i.Vb(),i.Wb(103,"div",48),i.Tc(104),i.Vb(),i.Vb(),i.Rc(105,Tt,7,1,"div",45),i.Vb(),i.Vb(),i.Vb(),i.Vb(),i.Tb()}if(2&t){const t=i.mc(3);i.Ab(7),i.uc("isStroke",!0),i.Ab(9),i.Vc(" ",t.transaction.valueDate?i.pc(17,18,t.transaction.valueDate,"d MMMM yyyy"):"-"," "),i.Ab(2),i.uc("hidden",!t.employees||0==(null==t.employees?null:t.employees.length)),i.Ab(6),i.Vc(" ",null==t.employees?null:t.employees.length," "),i.Ab(9),i.Vc(" ",(null==t.transaction.knp?null:t.transaction.knp.label)||(null==t.transaction.knp?null:t.transaction.knp.code)||"-"," "),i.Ab(1),i.uc("ngIf",null==t.transaction.kbk?null:t.transaction.kbk.code),i.Ab(4),i.Uc(i.oc(39,21,t.transaction.isCredit?"STATEMENT.DETAILS.RECEIVER_IBAN":"STATEMENT.DETAILS.PAYER_IBAN")),i.Ab(4),i.Vc("",i.oc(43,23,t.transaction.iban)||"-"," "),i.Ab(8),i.Vc(" ",t.transaction.documentNumber||"-",""),i.Ab(6),i.Vc(" ",t.transaction.isCredit?"STATEMENT.TRANSACTION.SENDER":"STATEMENT.TRANSACTION.RECEIVER"," "),i.Ab(1),i.uc("isStroke",!0),i.Ab(9),i.Vc(" ",t.transaction.correspondentName||i.oc(67,25,"STATEMENT.TRANSACTION.NO_TITLE")," "),i.Ab(8),i.Vc(" ",t.transaction.correspondentBin||"-",""),i.Ab(7),i.Vc(" ",i.oc(82,27,t.transaction.correspondentAccount)||"-",""),i.Ab(8),i.Vc(" ",(null==t.transaction.kbe?null:t.transaction.kbe.code)||"-",""),i.Ab(7),i.Vc(" ",t.transaction.correspondentAccount?i.oc(97,29,t.transaction.correspondentAccount):"-"," "),i.Ab(8),i.Vc(" ",t.transaction.correspondentBankBic||"-",""),i.Ab(1),i.uc("ngIf",t.transaction.emailOnSuccess)}}function vt(t,e){if(1&t&&(i.Ub(0),i.Rc(1,N,11,3,"section",50),i.Rc(2,D,10,2,"section",50),i.Rc(3,U,50,15,"ng-container",22),i.Rc(4,ut,105,37,"ng-container",22),i.Rc(5,pt,63,17,"ng-container",22),i.Rc(6,yt,106,31,"ng-container",22),i.Tb()),2&t){const t=i.mc(2);i.Ab(1),i.uc("ngIf",!t.transaction.isPayment&&t.transaction.isDebit&&(t.transaction.signHead||t.transaction.signBuch)),i.Ab(1),i.uc("ngIf",t.transaction.isPayment&&(null==t.signers?null:t.signers.length)>0),i.Ab(1),i.uc("ngIf",t.isTransferOwnGroup),i.Ab(1),i.uc("ngIf",t.isForeignGroup),i.Ab(1),i.uc("ngIf",t.isConversionGroup),i.Ab(1),i.uc("ngIf",t.isDefaultGroup)}}function St(t,e){if(1&t&&(i.Ub(0),i.Rc(1,P,5,8,"section",36),i.Rc(2,R,2,1,"ng-container",22),i.Rc(3,M,42,9,"ng-container",22),i.Rc(4,vt,7,6,"ng-container",22),i.Tb()),2&t){const t=i.mc();i.Ab(1),i.uc("ngIf",t.transaction.isPayment),i.Ab(1),i.uc("ngIf",t.transaction.category==t.TRANSACTION_CATEGORY.COMMISSION||t.transaction.category==t.TRANSACTION_CATEGORY.REFUND),i.Ab(1),i.uc("ngIf",t.transaction.category==t.TRANSACTION_CATEGORY.COMMISSION),i.Ab(1),i.uc("ngIf",t.transaction.category!=t.TRANSACTION_CATEGORY.COMMISSION)}}function _t(t,e){if(1&t&&(i.Wb(0,"div",66),i.Wb(1,"span",35),i.Tc(2,"STATEMENT.EMPLOYEES.ACCOUNT"),i.Vb(),i.Tc(3,": "),i.Wb(4,"span"),i.Tc(5),i.nc(6,"formatIban"),i.Vb(),i.Vb()),2&t){const t=i.mc().$implicit;i.Ab(5),i.Uc(i.oc(6,1,t.iban))}}function At(t,e){if(1&t&&(i.Wb(0,"div",66),i.Wb(1,"span",35),i.Tc(2,"STATEMENT.EMPLOYEES.IIN"),i.Vb(),i.Tc(3,": "),i.Wb(4,"span"),i.Tc(5),i.Vb(),i.Vb()),2&t){const t=i.mc().$implicit;i.Ab(5),i.Uc(t.iin)}}function Ct(t,e){if(1&t&&(i.Wb(0,"div",66),i.Wb(1,"span",35),i.Tc(2,"STATEMENT.EMPLOYEES.PERIOD"),i.Vb(),i.Tc(3,": "),i.Wb(4,"span"),i.Tc(5),i.nc(6,"date"),i.Vb(),i.Vb()),2&t){const t=i.mc().$implicit;i.Ab(5),i.Uc(i.pc(6,1,t.period,"MM.yyyy"))}}function Ot(t,e){if(1&t&&(i.Wb(0,"div",66),i.Wb(1,"span",35),i.Tc(2,"STATEMENT.EMPLOYEES.AMOUNT"),i.Vb(),i.Tc(3,": "),i.Rb(4,"j-money",57),i.Vb()),2&t){const t=i.mc().$implicit;i.Ab(4),i.uc("money",t.amount)}}function It(t,e){if(1&t&&(i.Wb(0,"div",64),i.Wb(1,"div",3),i.Tc(2),i.Vb(),i.Rc(3,_t,7,3,"div",65),i.Rc(4,At,6,1,"div",65),i.Rc(5,Ct,7,4,"div",65),i.Rc(6,Ot,5,1,"div",65),i.Vb()),2&t){const t=e.$implicit;i.Ab(2),i.Xc("",t.lastname||""," ",t.firstname||""," ",t.middlename||"",""),i.Ab(1),i.uc("ngIf",t.iban),i.Ab(1),i.uc("ngIf",t.iin),i.Ab(1),i.uc("ngIf",t.period),i.Ab(1),i.uc("ngIf",t.amount)}}function Et(t,e){if(1&t){const t=i.Xb();i.Ub(0),i.Wb(1,"section",23),i.Wb(2,"section",59),i.Wb(3,"button",60),i.ic("click",(function(e){return i.Ic(t),i.mc().hideEmployees()})),i.Rb(4,"j-icon",61),i.Vb(),i.Wb(5,"h6",62),i.Tc(6,"STATEMENT.EMPLOYEES.TITLE"),i.Vb(),i.Vb(),i.Wb(7,"section",10),i.Rc(8,It,7,7,"div",63),i.Vb(),i.Vb(),i.Tb()}if(2&t){const t=i.mc();i.Ab(1),i.Hb("extra-padding",t.hasExtraPadding),i.uc("@employees",t.isEmployeesShown?"shown":"hidden"),i.Ab(7),i.uc("ngForOf",t.employees)}}function xt(t,e){if(1&t){const t=i.Xb();i.Wb(0,"j-transaction-details",67),i.ic("edited",(function(e){i.Ic(t);const n=i.mc();return n.editPayment(null,n.parentPayment)}))("repeated",(function(e){i.Ic(t);const n=i.mc();return n.repeatPayment(null,n.parentPayment)}))("exported",(function(e){i.Ic(t);const n=i.mc();return n.exportPayment(null,n.parentPayment)}))("downloaded",(function(e){i.Ic(t);const n=i.mc();return n.downloadIncomingPayment(null,n.parentPayment)}))("deleted",(function(e){i.Ic(t);const n=i.mc();return n.deletePayment(null,n.parentPayment)}))("signed",(function(e){i.Ic(t);const n=i.mc();return n.signPayment(null,n.parentPayment)}))("sentForSign",(function(e){i.Ic(t);const n=i.mc();return n.sendForSign(null,n.parentPayment)}))("closed",(function(e){return i.Ic(t),i.mc().hideInitialPayment()})),i.Vb()}if(2&t){const t=i.mc();i.uc("transaction",t.parentPayment)("mode",t.mode)("signers",t.signers)("hasExtraPadding",t.hasExtraPadding)}}function Pt(t,e){if(1&t){const t=i.Xb();i.Wb(0,"section",68),i.Wb(1,"div",69),i.ic("click",(function(e){return i.Ic(t),i.mc().hideSelector()})),i.Vb(),i.Wb(2,"section",70),i.Wb(3,"j-refund-employee-selector",71),i.ic("closed",(function(e){return i.Ic(t),i.mc().hideSelector()})),i.Vb(),i.Vb(),i.Vb()}if(2&t){const t=i.mc();i.uc("ngClass",t.wrapperClasses),i.Ab(2),i.uc("ngClass",t.selectorClasses),i.Ab(1),i.uc("refundDetails",t.transaction.refundDetails)}}let wt=(()=>{class t{constructor(t,e,n,a,o,c){this.statementService=t,this.translateService=e,this.paymentsSharedService=n,this.companyService=a,this.notifierService=o,this.document=c,this.TRANSACTION_CATEGORY=d.a,this.STATEMENT_MODE=r.b,this.hasExtraPadding=!1,this.repeated=new i.n,this.edited=new i.n,this.deleted=new i.n,this.signed=new i.n,this.sentForSign=new i.n,this.exported=new i.n,this.downloaded=new i.n,this.revoked=new i.n,this.refundDetailsOpened=new i.n,this.isAnimating=!1,this.isSelectorShown=!1,this.wrapperClasses="",this.selectorClasses="",this.closed=new i.n,this.transactionPaymentId=null,this.isEmployeesShown=!1,this.isParentPaymentShown=!1,this.isParentPaymentLoading=!1}get title(){return this.statementService.getTransactionTitle(this.transaction)}get country(){var t,e,n,a;const i=null===(e=null===(t=this.loadedPayment)||void 0===t?void 0:t.paymentRecipient)||void 0===e?void 0:e.country;if(i){let t;switch(this.translateService.currentLang){case"ru":default:t=i.nameRu;break;case"kk":t=i.nameKk;break;case"en":t=i.nameEn}return`${i.code} - ${t}`}return(null===(a=null===(n=this.transaction)||void 0===n?void 0:n.foreignRecipient)||void 0===a?void 0:a.countryCode)||"-"}get isTransferOwnGroup(){return this.transaction.paymentType===l.j.IN_BETWEEN||this.transaction.paymentType===l.j.CARD_TO_ACCOUNT||this.transaction.paymentType===l.j.ACCOUNT_TO_CARD||this.transaction.paymentType===l.j.CARD_TO_CARD}get isForeignGroup(){return this.transaction.paymentType===l.j.FOREIGN}get isConversionGroup(){return this.transaction.paymentType===l.j.CONVERSION}get isDefaultGroup(){return!this.isTransferOwnGroup&&!this.isForeignGroup&&!this.isConversionGroup}get payerCardNumber(){var t,e,n,a;const i=(null===(a=null===(n=null===(e=null===(t=this.loadedPayment)||void 0===t?void 0:t.details)||void 0===e?void 0:e.associatedField)||void 0===n?void 0:n.parameters)||void 0===a?void 0:a.payerCardNumber)||null;return i?`${i.substring(0,4)} \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ${i.substring(i.length-4,i.length)}`:null}get recipientCardNumber(){var t,e,n,a;const i=(null===(a=null===(n=null===(e=null===(t=this.loadedPayment)||void 0===t?void 0:t.details)||void 0===e?void 0:e.associatedField)||void 0===n?void 0:n.parameters)||void 0===a?void 0:a.recipientCardNumber)||null;return i?`${i.substring(0,4)} \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ${i.substring(i.length-4,i.length)}`:null}onClose(t){t.preventDefault(),this.closed.emit()}ngOnInit(){this.paymentStatus=this.statementService.generatePaymentStatusLabel(this.transaction,!0),this.loadPaymentById(),this.generateSignersList(),this.countActions()}ngOnDestroy(){this.closed.emit()}repeatPayment(t=null,e=this.transaction){var n;null===(n=t)||void 0===n||n.preventDefault(),this.repeated.emit(e)}editPayment(t,e=this.transaction){var n;null===(n=t)||void 0===n||n.preventDefault(),this.edited.emit(e)}signPayment(t,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.signed.emit(e)}sendForSign(t,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.sentForSign.emit(e)}deletePayment(t,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.deleted.emit(e)}revokePayment(t,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.revoked.emit(e)}exportPayment(t,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.exported.emit(e)}downloadIncomingPayment(t,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.downloaded.emit(e)}showEmployees(t){t.preventDefault(),this.isEmployeesShown=!0}hideEmployees(){this.isEmployeesShown=!1}isSignerShown(t){return t&&"\u041d\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d"!=t&&"\u041d\u0435 \u043f\u0440\u0435\u0434\u0443\u0441\u043c\u043e\u0442\u0440\u0435\u043d\u043e"!=t}mapMoney(t,e){return{amount:t,currency:e}}mapActionLabel(t){switch(this.transaction.paymentType){case l.j.IN_BETWEEN:return`STATEMENT.TRANSFER_ACTIONS.${t}`;case l.j.CONVERSION:return`STATEMENT.CONVERSION_ACTIONS.${t}`;default:return`STATEMENT.DETAILS.${t}`}}loadPaymentById(){return Object(a.a)(this,void 0,void 0,(function*(){this.transaction.isPayment?(this.loadedPayment=yield this.statementService.getPaymentDetails(this.transaction.id),this.employees=this.loadedPayment.paymentEmployees,this.applyConversionRules(this.loadedPayment)):this.transaction.paymentColvirId&&this.transaction.category!=d.a.COMMISSION&&(this.loadedPayment=yield this.statementService.getPaymentDetailsFromColvir(this.transaction.paymentColvirId),this.transaction.paymentStatus=this.loadedPayment.status,this.loadedPayment.id&&(this.transaction.paymentId=this.loadedPayment.id,this.transaction.isExportable=!0,this.transaction.isRepeatable=!0,this.countActions()))}))}loadParentPayment(t){return Object(a.a)(this,void 0,void 0,(function*(){if(t.preventDefault(),this.parentPayment)this.isParentPaymentShown=!0;else{this.isParentPaymentLoading=!0;try{this.parentPayment=yield this.statementService.loadParentPayment(this.transaction.iban,this.transaction.parentReference),this.isParentPaymentShown=!0}catch(e){this.notifierService.notify("error",this.translateService.instant(e===s.a.RESOURCE_NOT_FOUND?"STATEMENT.DETAILS.INITIAL_PAYMENT_NOT_FOUND":"ERRORS.UNKNOWN_ERROR"))}finally{this.isParentPaymentLoading=!1}}}))}hideInitialPayment(){this.isParentPaymentShown=!1}applyConversionRules(t){var e;const n=null===(e=t.details)||void 0===e?void 0:e.exchangeRate;t.type===l.j.CONVERSION&&n&&(this.mapConversionToAmount(n),this.calculateConversionRates(n))}mapConversionToAmount(t){const{sum:e,currencyFrom:n,currencyTo:a,calculatedSum:i}=t;this.conversionToAmount=e.currency===n?{amount:i,currency:a}:e}calculateConversionRates(t){const{from:e,to:n}=this.paymentsSharedService.getRateAmounts(t);this.conversionRateFrom=e,this.conversionRateTo=n}generateSignersList(){var t;this.signers=this.companyService.generateSignersList(null===(t=this.transaction.paymentStatus)||void 0===t?void 0:t.code,this.transaction.signatureScheme,this.transaction.signatures)}countActions(){let t=["isEditable","isRemovable","isRepeatable","isRevokable"].reduce((t,e)=>this.transaction[e]&&++t||t,0);this.transaction.isRepeatable||this.transaction.isPayment||this.transaction.category==d.a.COMMISSION||!this.transaction.paymentColvirId||t++,this.hasTwoActions=2===t,this.hasThreeActions=3===t}showRefundDetails(t,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.isAnimating||(this.isAnimating=!0,this.isSelectorShown=!0,this.wrapperClasses="animate__animated zoomInJ",setTimeout(()=>{this.document.body.classList.add("overflow-hidden"),this.selectorClasses="is-shown"},250),setTimeout(()=>{this.wrapperClasses="",this.isAnimating=!1},300))}hideSelector(){this.isAnimating||(this.isAnimating=!0,this.selectorClasses="",setTimeout(()=>{this.document.body.classList.remove("overflow-hidden"),this.wrapperClasses="animate__animated zoomOutJ"},250),setTimeout(()=>{this.wrapperClasses="",this.isSelectorShown=!1,this.isAnimating=!1},300))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(b.a),i.Qb(u.e),i.Qb(m.a),i.Qb(p.a),i.Qb(h.c),i.Qb(o.e))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-transaction-details"]],inputs:{mode:"mode",transaction:"transaction",hasExtraPadding:"hasExtraPadding",signers:"signers"},outputs:{repeated:"repeated",edited:"edited",deleted:"deleted",signed:"signed",sentForSign:"sentForSign",exported:"exported",downloaded:"downloaded",revoked:"revoked",refundDetailsOpened:"refundDetailsOpened",closed:"closed"},decls:36,vars:33,consts:[[1,"details",3,"hidden"],[1,"details__header"],[1,"details__img",3,"isInversed","transaction"],[1,"p2","text-dark"],[1,"p3"],["class","text-danger","translate","STATEMENT.TRANSACTION.REFUND",4,"ngIf"],["class","transaction__status",3,"class",4,"ngIf"],[1,"text-muted","text-lowercase"],["href","#",1,"details__close","ml-auto",3,"click"],["size","md","name","cross",1,"size-md"],[1,"details__scrollable"],[1,"details__block","py-3","mt-0"],[1,"mb-0"],["showSign","true",3,"money","isDebit","isCredit"],[1,"p2"],["class","p3 details__error",3,"class","innerText",4,"ngIf"],[1,"p2","details__description"],["href","#","class","link-blue","translate","",3,"click",4,"ngIf"],["class","btn btn-md btn-primary details__button mb-2",3,"click",4,"ngIf"],["href","#","class","btn btn-md btn-primary details__button mb-2",3,"click",4,"ngIf"],["href","#","class","btn btn-md btn-primary details__button mb-2","translate","",3,"click",4,"ngIf"],["href","#","class","btn btn-md btn-outline-primary details__button",3,"click",4,"ngIf"],[4,"ngIf"],[1,"employees"],[3,"transaction","mode","signers","hasExtraPadding","edited","repeated","exported","downloaded","deleted","signed","sentForSign","closed",4,"ngIf"],["class","f-page-wrapper is-shown",3,"ngClass",4,"ngIf"],["translate","STATEMENT.TRANSACTION.REFUND",1,"text-danger"],[1,"transaction__status"],[1,"p3","details__error",3,"innerText"],["href","#","translate","",1,"link-blue",3,"click"],[1,"btn","btn-md","btn-primary","details__button","mb-2",3,"click"],[1,"details__icon",3,"inlineSVG"],["href","#",1,"btn","btn-md","btn-primary","details__button","mb-2",3,"click"],["href","#","translate","",1,"btn","btn-md","btn-primary","details__button","mb-2",3,"click"],["href","#",1,"btn","btn-md","btn-outline-primary","details__button",3,"click"],["translate",""],["class","details__row",3,"details__row--two-items","details__row--three-items",4,"ngIf"],[1,"details__row"],["href","#","class","details__link details__block",3,"click",4,"ngIf"],["href","#",1,"details__link","details__block",3,"click"],[1,"details__block","details__block--collapsible"],[1,"details__collapse","d-flex","align-items-center"],["translate","",1,"mb-0"],["name","arrowUp",1,"ml-auto","details__arrow",3,"isStroke"],[1,"details__body","p2"],["class","j-desc-row",4,"ngIf"],[1,"j-desc-row"],[1,"text-muted","j-desc-child"],[1,"text-dark","j-desc-child"],[1,"d-flex","justify-content-between","details__collapse"],["class","details__block details__block--collapsible",4,"ngIf"],[1,"j-desc-row","details__collapse"],["translate","",1,"mb-0","j-desc-child"],["name","arrowUp",1,"ml-auto","details__arrow","j-desc-child",3,"isStroke"],["translate","",1,"text-muted","j-desc-child"],["class","j-desc-row",4,"ngFor","ngForOf"],["class","text-dark j-desc-child",4,"ngIf"],[3,"money"],[1,"j-desc-row",3,"hidden"],[1,"details__header","employees__header"],["type","button","href","/",1,"btn","btn-outline-primary","f-page-close","employees__close",3,"click"],["name","chevronLeft","stroke","true","color","currentColor"],["translate","",1,"employees__heading"],["class","employees__item",4,"ngFor","ngForOf"],[1,"employees__item"],["class","employee__row text-muted",4,"ngIf"],[1,"employee__row","text-muted"],[3,"transaction","mode","signers","hasExtraPadding","edited","repeated","exported","downloaded","deleted","signed","sentForSign","closed"],[1,"f-page-wrapper","is-shown",3,"ngClass"],[1,"f-page-backdrop",3,"click"],[1,"f-page-content","f-page-content--gray","f-page-content--quarter","currency-selector",3,"ngClass"],[3,"refundDetails","closed"]],template:function(t,e){1&t&&(i.Wb(0,"section",0),i.Wb(1,"section",1),i.Rb(2,"j-transaction-type",2),i.Wb(3,"article"),i.Wb(4,"div",3),i.Tc(5),i.Vb(),i.Wb(6,"div",4),i.Rc(7,g,1,0,"span",5),i.Rc(8,f,3,5,"span",6),i.Wb(9,"span",7),i.Tc(10),i.nc(11,"async"),i.Vb(),i.Vb(),i.Vb(),i.Wb(12,"a",8),i.ic("click",(function(t){return e.onClose(t)})),i.Rb(13,"j-icon",9),i.Vb(),i.Vb(),i.Wb(14,"div",10),i.Wb(15,"section",11),i.Wb(16,"h3",12),i.Rb(17,"j-money",13),i.Vb(),i.Wb(18,"div",14),i.Tc(19),i.Vb(),i.Rc(20,T,2,6,"div",15),i.Wb(21,"div",16),i.Tc(22),i.nc(23,"translate"),i.Rb(24,"br"),i.Rc(25,y,2,0,"a",17),i.Vb(),i.Rc(26,v,5,4,"button",18),i.Rc(27,S,3,3,"a",19),i.Rc(28,_,2,0,"a",20),i.Rc(29,A,4,1,"a",21),i.Rc(30,C,4,1,"a",21),i.Vb(),i.Rc(31,St,5,4,"ng-container",22),i.Vb(),i.Vb(),i.Rc(32,Et,9,4,"ng-container",22),i.Wb(33,"section",23),i.Rc(34,xt,1,4,"j-transaction-details",24),i.Vb(),i.Rc(35,Pt,4,3,"section",25)),2&t&&(i.Hb("extra-padding",e.hasExtraPadding),i.uc("@details",e.isEmployeesShown||e.isParentPaymentShown?"hidden":"shown")("hidden",e.isEmployeesShown),i.Ab(2),i.uc("isInversed",!0)("transaction",e.transaction),i.Ab(3),i.Vc(" \u2116",e.transaction.documentNumber," "),i.Ab(2),i.uc("ngIf",e.transaction.category==e.TRANSACTION_CATEGORY.REFUND),i.Ab(1),i.uc("ngIf",e.transaction.isPayment&&e.transaction.paymentStatus),i.Ab(2),i.Vc(" ",i.oc(11,29,e.transaction.dateStatusText)," "),i.Ab(7),i.uc("money",e.transaction.balance)("isDebit",!e.transaction.isCredit)("isCredit",e.transaction.isCredit),i.Ab(2),i.Uc(e.title),i.Ab(1),i.uc("ngIf","BANK_COMPLETED"!=(null==e.transaction.paymentStatus?null:e.transaction.paymentStatus.code)&&e.transaction.paymentMessage),i.Ab(2),i.Vc(" ",e.transaction.description||i.oc(23,31,"STATEMENT.TRANSACTION.NO_DESCRIPTION"),""),i.Ab(3),i.uc("ngIf",e.transaction.category==e.TRANSACTION_CATEGORY.REFUND),i.Ab(1),i.uc("ngIf",e.transaction.isRepeatable&&(null==e.loadedPayment?null:e.loadedPayment.id)&&!e.transaction.isPayment),i.Ab(1),i.uc("ngIf",e.transaction.isSignable),i.Ab(1),i.uc("ngIf",!e.transaction.isSignable&&e.transaction.isSendableForSign),i.Ab(1),i.uc("ngIf",e.transaction.isExportable),i.Ab(1),i.uc("ngIf",e.transaction.isCredit),i.Ab(1),i.uc("ngIf",e.mode!=e.STATEMENT_MODE.CARDS),i.Ab(1),i.uc("ngIf",e.mode!=e.STATEMENT_MODE.CARDS),i.Ab(1),i.Hb("extra-padding",e.hasExtraPadding),i.uc("@employees",e.isParentPaymentShown?"shown":"hidden"),i.Ab(1),i.uc("ngIf",e.parentPayment),i.Ab(1),i.uc("ngIf",e.isSelectorShown))},styles:[":host{position:relative}.details,:host{overflow:hidden}.details{width:100%;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:absolute;height:100vh}.details.extra-padding{padding-top:62px}@media(min-width:960px){.details.extra-padding{padding-top:100px}}@media(min-width:1280px){.details.extra-padding{padding-top:0}}.details__header{display:-webkit-box;display:flex;padding:1.5rem 1rem}.details__img{margin-right:12px}.details__button{display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;width:100%;margin-bottom:0}.details__scrollable{-webkit-box-flex:1;flex-grow:1;overflow-y:auto;padding:0 1rem 1rem}.details__scrollable::-webkit-scrollbar{width:8px}.details__scrollable::-webkit-scrollbar-track{background:#fff}.details__scrollable::-webkit-scrollbar-thumb{background:#d6dadf;border-radius:10px}.details__collapse{padding:1rem}.details__block{background:#fff;border-radius:.5rem;padding:1rem;margin:.75rem 0}.details__block--collapsible{padding-top:0;padding-bottom:0}.details__arrow,.details__block--collapsible{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.details__arrow{-webkit-transform:rotate(540deg);transform:rotate(540deg)}.details__collapse{cursor:pointer;-webkit-box-align:center;align-items:center;margin-left:-1rem;margin-right:-1rem}.details__link{color:#1586bb;display:-webkit-box;display:flex;padding-left:1rem;padding-right:1rem;width:100%}.details__link:hover{color:#ef5630}.details__icon{margin-right:.5rem;display:block}.details__row{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.details__row--two-items{grid-template-columns:1fr 1fr}.details__row--three-items,.details__row--two-items{display:grid;-webkit-column-gap:.5rem;-moz-column-gap:.5rem;column-gap:.5rem}.details__row--three-items{grid-template-columns:1fr 1fr 1fr}.details__row--three-items .details__link,.details__row--two-items .details__link{width:auto;display:block;font-size:.875rem;text-align:center;padding-left:0;padding-right:0;word-spacing:30rem}.details__row--three-items .details__icon,.details__row--two-items .details__icon{margin-bottom:.5rem;margin-right:0}.details__description{color:#666c72;background:#f6f7f8;padding:.75rem 1rem;margin:1.5rem 0;border-radius:.5rem;word-break:break-all}.details__error{margin:1.5rem 0}.details__body{display:block;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}.j-collapsed .details__body{padding-bottom:1rem}.j-collapsed .details__collapse .details__arrow{-webkit-transform:rotate(0deg);transform:rotate(0deg)}.employees{width:100%;overflow:hidden;display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;position:absolute;height:100vh}.employees.extra-padding{padding-top:62px}@media(min-width:960px){.employees.extra-padding{padding-top:100px}}@media(min-width:1280px){.employees.extra-padding{padding-top:0}}.employees__header{-webkit-box-align:center;align-items:center;padding-bottom:1rem}.employees__heading{margin-left:1rem}.employees__close{position:relative}.employees__item{padding:1rem;border-radius:.5rem;margin-bottom:.5rem;background:#fff}.employee__row{font-size:.875rem;margin-top:.25rem}"],encapsulation:2,data:{animation:[Object(c.o)("details",[Object(c.l)("shown",Object(c.m)({opacity:"1"})),Object(c.l)("hidden",Object(c.m)({opacity:"0"})),Object(c.n)("shown=>hidden",Object(c.e)("250ms")),Object(c.n)("hidden=>shown",Object(c.e)("250ms"))]),Object(c.o)("employees",[Object(c.l)("shown",Object(c.m)({transform:"scale(1)",right:"0%",opacity:"1"})),Object(c.l)("hidden",Object(c.m)({transform:"scale(0.5)",right:"-100%",opacity:"0"})),Object(c.n)("shown=>hidden",Object(c.e)("250ms")),Object(c.n)("hidden=>shown",Object(c.e)("250ms"))])]}}),t})()},QiVB:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));var a=n("fXoL");function i(t,e){if(1&t){const t=a.Xb();a.Wb(0,"j-transaction-group",3),a.ic("selected",(function(e){return a.Ic(t),a.mc(2).onSelect(e)}))("signed",(function(e){return a.Ic(t),a.mc(2).onSign(e)}))("sentForSign",(function(e){return a.Ic(t),a.mc(2).onSentForSign(e)}))("deleted",(function(e){return a.Ic(t),a.mc(2).onDelete(e)}))("revoked",(function(e){return a.Ic(t),a.mc(2).onRevoke(e)})),a.Vb()}if(2&t){const t=e.$implicit,n=a.mc(2);a.uc("group",t)("hasExtraPadding",n.hasExtraPadding)("hasLargeTransactions",n.statement.hasLargeTransactions)("isSelectable",n.isSelectable)("isTotalsShown",n.isTotalsShown)("isLoadingExtra",n.isLoadingExtra)("mode",n.mode)("type",n.statement.groupType)}}function o(t,e){if(1&t&&a.Rb(0,"j-empty-placeholder",4),2&t){const t=a.mc(2);a.uc("label",t.emptyLabel)}}function c(t,e){if(1&t&&(a.Ub(0),a.Rc(1,i,1,8,"j-transaction-group",1),a.Rc(2,o,1,1,"j-empty-placeholder",2),a.Tb()),2&t){const t=a.mc();a.Ab(1),a.uc("ngForOf",t.statement.transactionGroups),a.Ab(1),a.uc("ngIf",0==t.statement.totalTransactionsCount&&!t.isLoadingExtra)}}let s=(()=>{class t{constructor(){this.emptyLabel="HISTORY.EMPTY",this.hasExtraPadding=!1,this.isSelectable=!1,this.isTotalsShown=!0,this.isLoadingExtra=!1,this.selected=new a.n,this.deleted=new a.n,this.exported=new a.n,this.signed=new a.n,this.sentForSign=new a.n,this.revoked=new a.n}onSelect(t){this.selected.emit(t)}onDelete(t){this.deleted.emit(t)}onSign(t){this.signed.emit(t)}onSentForSign(t){this.sentForSign.emit(t)}onRevoke(t){this.revoked.emit(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-statement"]],inputs:{emptyLabel:"emptyLabel",mode:"mode",statement:"statement",hasExtraPadding:"hasExtraPadding",isSelectable:"isSelectable",isTotalsShown:"isTotalsShown",isLoadingExtra:"isLoadingExtra"},outputs:{selected:"selected",deleted:"deleted",exported:"exported",signed:"signed",sentForSign:"sentForSign",revoked:"revoked"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"group","hasExtraPadding","hasLargeTransactions","isSelectable","isTotalsShown","isLoadingExtra","mode","type","selected","signed","sentForSign","deleted","revoked",4,"ngFor","ngForOf"],[3,"label",4,"ngIf"],[3,"group","hasExtraPadding","hasLargeTransactions","isSelectable","isTotalsShown","isLoadingExtra","mode","type","selected","signed","sentForSign","deleted","revoked"],[3,"label"]],template:function(t,e){1&t&&a.Rc(0,c,3,2,"ng-container",0),2&t&&a.uc("ngIf",e.statement)},styles:[""]}),t})()},RW1d:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("pLZG"),i=n("lJxs"),o=n("fXoL"),c=n("tyNb"),s=n("4wRv");let r=(()=>{class t{constructor(t,e){this.router=t,this.featureFlagsService=e}canActivate(t,e){return this.featureFlagsService.featureFlags$.pipe(Object(a.a)(t=>t.length>0),Object(i.a)(e=>!!e.find(e=>e.key===t.data.featureFlag).active||(this.router.navigate(["/"]),!1)))}}return t.\u0275fac=function(e){return new(e||t)(o.ec(c.c),o.ec(s.b))},t.\u0275prov=o.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},"T+Ki":function(t,e,n){"use strict";var a=n("fXoL"),i=n("mR7B");let o=(()=>{class t{constructor(t){this.maskedService=t}formatBalance(t,e=!1){if(t&&null!=t.amount&&t.currency){const n=this.maskedService.formatAmount(Math.abs(t.amount));let a="";return e&&t.amount>0?a="+ ":t.amount<0&&(a="- "),`${a}${n}`}}}return t.\u0275fac=function(e){return new(e||t)(a.ec(i.a))},t.\u0275prov=a.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function c(t,e){if(1&t&&(a.Wb(0,"h5",7),a.Rb(1,"j-money",8),a.Vb()),2&t){const t=a.mc().$implicit,e=a.mc();a.Hb("balances-amount--large-amount",e.statement.hasLargeBalances),a.uc("ngClass",t.textClass),a.Ab(1),a.uc("money",e.getMoney(t.property))("isDebit",t.isDebit||null)("isCredit",t.isCredit||null)("showSign",t.showSign)}}function s(t,e){if(1&t&&(a.Wb(0,"h5",9),a.Tc(1," - "),a.Vb()),2&t){const t=a.mc(2);a.Hb("balances-amount--large-amount",t.statement.hasLargeBalances)}}function r(t,e){if(1&t&&(a.Ub(0),a.Wb(1,"li",3),a.Wb(2,"div",4),a.Tc(3),a.nc(4,"translate"),a.Vb(),a.Rc(5,c,2,7,"h5",5),a.Rc(6,s,2,2,"h5",6),a.Vb(),a.Tb()),2&t){const t=e.$implicit,n=a.mc();a.Ab(3),a.Vc(" ",a.oc(4,3,t.label)," "),a.Ab(2),a.uc("ngIf",n.getMoney(t.property)),a.Ab(1),a.uc("ngIf",!n.getMoney(t.property))}}n.d(e,"a",(function(){return l}));let l=(()=>{class t{constructor(t){this.currency=t}ngOnInit(){this.balanceList=[{label:"STATEMENT.BALANCES.INCOME",textClass:"text-success",showSign:!0,isCredit:!0,isDebit:!1,property:"creditTotalSum"},{label:"STATEMENT.BALANCES.OUTCOME",textClass:"text-danger",showSign:!0,isCredit:!1,isDebit:!0,property:"debitTotalSum"},{label:"STATEMENT.BALANCES.BALANCE_IN",textClass:"",showSign:!1,property:"balanceIn"},{label:"STATEMENT.BALANCES.BALANCE_OUT",textClass:"",showSign:!1,property:"balanceOut"}]}formatBalance(t,e){return this.currency.formatBalance(t,e)}getMoney(t){return this.statement&&this.statement[t]}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(o))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-statement-balances"]],inputs:{statement:"statement"},decls:3,vars:1,consts:[[1,"balances-wrap"],[1,"balances"],[4,"ngFor","ngForOf"],[1,"balances-item"],[1,"text-muted","balances-label"],["class","balances-amount",3,"balances-amount--large-amount","ngClass",4,"ngIf"],["class","balances-amount text-muted",3,"balances-amount--large-amount",4,"ngIf"],[1,"balances-amount",3,"ngClass"],[3,"money","isDebit","isCredit","showSign"],[1,"balances-amount","text-muted"]],template:function(t,e){1&t&&(a.Wb(0,"section",0),a.Wb(1,"ul",1),a.Rc(2,r,7,5,"ng-container",2),a.Vb(),a.Vb()),2&t&&(a.Ab(2),a.uc("ngForOf",e.balanceList))},styles:[".balances-wrap[_ngcontent-%COMP%]{padding:1rem 0;position:relative;border-bottom:1px solid #eceef1}.balances[_ngcontent-%COMP%]{min-width:100%;display:-webkit-box;display:flex;flex-wrap:wrap;list-style:none;padding:0;margin:0}@media(min-width:960px){.balances[_ngcontent-%COMP%]{flex-wrap:nowrap}}.balances-item[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;min-width:120px;margin-bottom:1rem;width:50%}@media(min-width:960px){.balances-item[_ngcontent-%COMP%]{margin-bottom:0;width:auto}}.balances-item[_ngcontent-%COMP%]:nth-child(n+3){margin-bottom:0}.balances-label[_ngcontent-%COMP%]{font-size:.875rem;line-height:20px;margin-bottom:4px}@media(min-width:1280px){.balances-label[_ngcontent-%COMP%]{line-height:18px}}.balances-amount[_ngcontent-%COMP%]{font-size:.875rem;line-height:20px;margin-bottom:0}@media(min-width:670px){.balances-amount[_ngcontent-%COMP%]{font-size:1.25rem}}@media(min-width:1280px){.balances-amount[_ngcontent-%COMP%]{line-height:25px;font-size:1.25rem}}.balances-amount--large-amount[_ngcontent-%COMP%]{font-size:.75rem}@media(min-width:670px){.balances-amount--large-amount[_ngcontent-%COMP%]{font-size:1.25rem}}@media(min-width:960px){.balances-amount--large-amount[_ngcontent-%COMP%]{font-size:.875rem}}@media(min-width:1280px){.balances-amount--large-amount[_ngcontent-%COMP%]{font-size:1rem}}"]}),t})()},THGi:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("fXoL"),i=n("y5b2"),o=n("jZlK");function c(t,e){if(1&t){const t=a.Xb();a.Wb(0,"j-filter-download",9),a.ic("downloaded",(function(e){return a.Ic(t),a.mc(2).onDownload(e)})),a.Vb()}}function s(t,e){if(1&t){const t=a.Xb();a.Wb(0,"div",4),a.Wb(1,"j-filter-operations",5),a.ic("changed",(function(e){return a.Ic(t),a.mc().onOperationChanged(e)})),a.Vb(),a.Wb(2,"div",6),a.Wb(3,"j-filter-period-dropdown",7),a.ic("submitted",(function(e){return a.Ic(t),a.mc().onPeriodChanged(e)})),a.Vb(),a.Rc(4,c,1,0,"j-filter-download",8),a.Vb(),a.Vb()}if(2&t){const t=a.mc();a.Hb("mb-0",t.mode==t.FILTER_MODE.CARDS),a.Ab(1),a.uc("mode",t.mode),a.Ab(2),a.uc("mode",t.mode),a.Ab(1),a.uc("ngIf",t.mode==t.FILTER_MODE.ACCOUNTS||t.mode==t.FILTER_MODE.DEPOSITS)}}function r(t,e){1&t&&(a.Wb(0,"div",10),a.Rb(1,"j-filter-status"),a.Vb())}function l(t,e){if(1&t){const t=a.Xb();a.Wb(0,"div",14),a.Wb(1,"a",15),a.ic("click",(function(e){return a.Ic(t),a.mc(2).toggleDownloadAside(e)})),a.Rb(2,"span",16),a.Vb(),a.Wb(3,"j-filter-aside",17),a.ic("closed",(function(e){return a.Ic(t),a.mc(2).toggleDownloadAside(e,!1)}))("submitted",(function(e){return a.Ic(t),a.mc(2).onSearch(e)})),a.nc(4,"translate"),a.Wb(5,"j-filter-download",18),a.ic("downloaded",(function(e){return a.Ic(t),a.mc(2).onDownload(e)})),a.Vb(),a.Vb(),a.Vb()}if(2&t){const t=a.mc(2);a.Ab(1),a.Hb("toggled",t.isDownloadAsideShown),a.Ab(2),a.uc("mode",t.mode)("isShown",t.isDownloadAsideShown)("heading",a.oc(4,5,"FILTER.SHARE"))}}function d(t,e){if(1&t){const t=a.Xb();a.Wb(0,"div",11),a.Wb(1,"j-filter-search",12),a.ic("submitted",(function(e){return a.Ic(t),a.mc().onSearch(e)})),a.Vb(),a.Rc(2,l,6,7,"div",13),a.Vb()}if(2&t){const t=a.mc();a.Ab(1),a.uc("mode",t.mode)("currency",t.currency),a.Ab(1),a.uc("ngIf",t.mode==t.FILTER_MODE.ACCOUNTS||t.mode==t.FILTER_MODE.DEPOSITS)}}let b=(()=>{class t{constructor(t){this.filterService=t,this.mode=i.c.ACCOUNTS,this.FILTER_MODE=i.c,this.filtered=new a.n,this.downloaded=new a.n,this.isDownloadAsideShown=!1}ngOnInit(){this.scheme=this.filterService.getDefaults(this.mode)}toggleDownloadAside(t=null,e=!this.isDownloadAsideShown){t&&(t.stopPropagation(),t.preventDefault()),this.isDownloadAsideShown=e}onSearch(t){this.filtered.emit(Object.assign(Object.assign({},this.scheme),t))}onDownload(t){this.downloaded.emit(t)}onPeriodChanged(t){this.filtered.emit(Object.assign(Object.assign({},this.scheme),{periodFrom:t.from,periodTo:t.to}))}onOperationChanged(t){this.filtered.emit(Object.assign(Object.assign({},this.scheme),{operationType:t}))}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(o.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter"]],inputs:{currency:"currency",mode:"mode"},outputs:{filtered:"filtered",downloaded:"downloaded"},decls:4,vars:4,consts:[["class","filter-header d-none d-sm-flex",3,"mb-0",4,"ngIf"],["jTour","HISTORY.STATUSES","jTourPosition","bottom","class","filter-header d-none d-sm-block",4,"ngIf"],["class","filter-body",4,"ngIf"],[3,"mode"],[1,"filter-header","d-none","d-sm-flex"],[3,"mode","changed"],[1,"filter-groups"],["jTour","STATEMENTS_ACCOUNT.FILTER","jTourPosition","left",1,"filter-group","d-none","d-sm-inline-block",3,"mode","submitted"],["jTour","STATEMENT.DOWNLOAD","jTourPosition","bottom","class","filter-group",3,"downloaded",4,"ngIf"],["jTour","STATEMENT.DOWNLOAD","jTourPosition","bottom",1,"filter-group",3,"downloaded"],["jTour","HISTORY.STATUSES","jTourPosition","bottom",1,"filter-header","d-none","d-sm-block"],[1,"filter-body"],["jTour","HISTORY.SEARCH","jTourPosition","bottom",3,"mode","currency","submitted"],["class","d-inline-block d-sm-none",4,"ngIf"],[1,"d-inline-block","d-sm-none"],["href","#",1,"filter-dropdown-toggle","filter-link","link-blue",3,"click"],["inlineSVG","/assets/icons/download.svg"],[3,"mode","isShown","heading","closed","submitted"],[3,"downloaded"]],template:function(t,e){1&t&&(a.Rc(0,s,5,5,"div",0),a.Rc(1,r,2,0,"div",1),a.Rc(2,d,3,3,"div",2),a.Rb(3,"j-filter-tags",3)),2&t&&(a.uc("ngIf",e.mode==e.FILTER_MODE.ACCOUNTS||e.mode==e.FILTER_MODE.DEPOSITS||e.mode==e.FILTER_MODE.CARDS),a.Ab(1),a.uc("ngIf",e.mode==e.FILTER_MODE.HISTORY),a.Ab(1),a.uc("ngIf",e.mode!=e.FILTER_MODE.CARDS),a.Ab(1),a.uc("mode",e.mode))},styles:[""],encapsulation:2}),t})()},UZjs:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("zwEd"),i=n("fXoL"),o=n("+eKG");function c(t,e){if(1&t&&i.Rb(0,"j-money",9),2&t){const t=i.mc();i.uc("money",null==t.card?null:t.card.balance)}}function s(t,e){if(1&t&&(i.Wb(0,"small",10),i.Tc(1),i.nc(2,"translate"),i.Vb()),2&t){const t=i.mc();i.Ab(1),i.Uc(i.oc(2,1,t.status))}}let r=(()=>{class t{constructor(t){this.cardsService=t}ngOnInit(){}get cardImage(){const t="/assets/icons/accounts";switch(this.card.category){case a.a.PRIVATE:return`${t}/card-private.svg`;case a.a.COMMERCIAL:default:return`${t}/card-commercial.svg`}}get cardMps(){const t="/assets/icons/cards/mps";return"4"===this.card.cardNumber[0]?`${t}/visa.svg`:`${t}/mastercard.svg`}get status(){if(this.card.status!==a.b.ACTIVE)return this.cardsService.mapCardStatus(this.card.status)}get label(){return this.cardsService.mapCardLabel(this.card)}get isBalanceShown(){return this.card.category===a.a.COMMERCIAL}get maskedCardNumber(){var t;const e=null===(t=this.card)||void 0===t?void 0:t.cardNumber;return e?`${e.substring(0,4)} \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ${e.substring(e.length-4,e.length)}`:""}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(o.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-account-card"]],inputs:{card:"card"},decls:13,vars:8,consts:[[1,"account-item"],[1,"account-item__img",3,"inlineSVG"],[1,"account-item__body","p3"],[1,"text-muted"],[1,"text-dark","d-flex"],[1,"mr-2",3,"inlineSVG"],[1,"ml-auto","p3","text-right"],[3,"money",4,"ngIf"],["class","d-block text-muted",4,"ngIf"],[3,"money"],[1,"d-block","text-muted"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Rb(1,"span",1),i.Wb(2,"div",2),i.Wb(3,"div",3),i.Tc(4),i.nc(5,"translate"),i.Vb(),i.Wb(6,"div",4),i.Rb(7,"span",5),i.Wb(8,"span"),i.Tc(9),i.Vb(),i.Vb(),i.Vb(),i.Wb(10,"div",6),i.Rc(11,c,1,1,"j-money",7),i.Rc(12,s,3,3,"small",8),i.Vb(),i.Vb()),2&t&&(i.Ab(1),i.uc("inlineSVG",e.cardImage),i.Ab(3),i.Uc(i.oc(5,6,e.label)),i.Ab(3),i.uc("inlineSVG",e.cardMps),i.Ab(2),i.Uc(e.maskedCardNumber),i.Ab(2),i.uc("ngIf",e.isBalanceShown),i.Ab(1),i.uc("ngIf",e.status))},styles:["[_nghost-%COMP%]{display:block;width:100%}.account-item[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-item--blocked[_ngcontent-%COMP%]{opacity:.4}.account-item__img[_ngcontent-%COMP%]{margin-right:1rem}.selected-account[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;padding-right:1rem}.selected-account__label[_ngcontent-%COMP%]{top:10px!important;left:65px!important;-webkit-transform:scale(.75);transform:scale(.75)}.selected-account__label--all[_ngcontent-%COMP%]{left:21px!important}.selected-account__money[_ngcontent-%COMP%]{margin-left:auto}.selected-account__value[_ngcontent-%COMP%]{padding-left:1rem;position:relative;top:8px;padding-right:1rem}.account-dropdown__from-arrow[_ngcontent-%COMP%], .selected-account__value[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-dropdown__from-arrow[_ngcontent-%COMP%]{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;opacity:1;position:absolute;width:28px;height:28px;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);border-radius:50%;background:#fff;-webkit-box-pack:center;justify-content:center;left:-14px;bottom:-22px;z-index:2}"]}),t})()},cIcs:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var a=n("ofXK"),i=n("fXoL"),o=n("2G+r"),c=n("sYmb");function s(t,e){if(1&t&&(i.Wb(0,"h5",9),i.Tc(1),i.nc(2,"translate"),i.Vb()),2&t){const t=i.mc(2);i.Ab(1),i.Uc(i.oc(2,1,t.title))}}function r(t,e){if(1&t&&(i.Wb(0,"h5",10),i.Tc(1),i.nc(2,"translate"),i.Vb()),2&t){const t=i.mc(2);i.Ab(1),i.Uc(i.oc(2,1,t.title))}}function l(t,e){if(1&t&&(i.Wb(0,"div",11),i.Rb(1,"j-money",12),i.Vb()),2&t){const t=i.mc(2);i.Ab(1),i.uc("money",t.group.debitSum)("isDebit",!0)("isCredit",!1)}}function d(t,e){if(1&t&&(i.Wb(0,"div",13),i.Rb(1,"j-money",14),i.Vb()),2&t){const t=i.mc(2);i.Ab(1),i.uc("money",t.group.creditSum)("isCredit",!0)("isDebit",!1)}}function b(t,e){if(1&t&&(i.Wb(0,"div",4),i.Rc(1,s,3,3,"h5",5),i.Rc(2,r,3,3,"h5",6),i.Rc(3,l,2,3,"div",7),i.Rc(4,d,2,3,"div",8),i.Vb()),2&t){const t=i.mc();i.Ab(1),i.uc("ngIf",t.group.hasTour),i.Ab(1),i.uc("ngIf",!t.group.hasTour),i.Ab(1),i.uc("ngIf",t.isTotalsShown),i.Ab(1),i.uc("ngIf",t.isTotalsShown)}}function u(t,e){if(1&t){const t=i.Xb();i.Wb(0,"j-transaction",17),i.ic("deleted",(function(e){return i.Ic(t),i.mc(2).onDelete(e)}))("revoked",(function(e){return i.Ic(t),i.mc(2).onRevoke(e)}))("signed",(function(e){return i.Ic(t),i.mc(2).onSign(e)}))("sentForSign",(function(e){return i.Ic(t),i.mc(2).onSentForSign(e)}))("selected",(function(e){i.Ic(t);const n=i.mc(),a=n.$implicit,o=n.index;return i.mc().onSelect(e,a,o)})),i.Vb()}if(2&t){const t=i.mc().$implicit,e=i.mc();i.uc("transaction",t)("mode",e.mode)("isSelectable",e.isSelectable)("hasExtraPadding",e.hasExtraPadding)("hasLargeTransactions",e.hasLargeTransactions)}}function m(t,e){if(1&t){const t=i.Xb();i.Wb(0,"j-transaction",18),i.ic("deleted",(function(e){return i.Ic(t),i.mc(2).onDelete(e)}))("revoked",(function(e){return i.Ic(t),i.mc(2).onRevoke(e)}))("signed",(function(e){return i.Ic(t),i.mc(2).onSign(e)}))("sentForSign",(function(e){return i.Ic(t),i.mc(2).onSentForSign(e)}))("selected",(function(e){i.Ic(t);const n=i.mc(),a=n.$implicit,o=n.index;return i.mc().onSelect(e,a,o)})),i.Vb()}if(2&t){const t=i.mc().$implicit,e=i.mc();i.uc("transaction",t)("mode",e.mode)("isSelectable",e.isSelectable)("hasExtraPadding",e.hasExtraPadding)("hasLargeTransactions",e.hasLargeTransactions)}}function p(t,e){if(1&t&&(i.Ub(0),i.Rc(1,u,1,5,"j-transaction",15),i.Rc(2,m,1,5,"j-transaction",16),i.Tb()),2&t){const t=e.index,n=i.mc();i.Ab(1),i.uc("ngIf",0==t&&"PAYMENTS"!=n.mode),i.Ab(1),i.uc("ngIf",t>0||"PAYMENTS"==n.mode)}}const h=function(){return{height:"86px","background-color":"#ECEEF1"}};function g(t,e){1&t&&(i.Wb(0,"div",19),i.Rb(1,"ngx-skeleton-loader",20),i.Vb()),2&t&&(i.Ab(1),i.uc("theme",i.yc(1,h)))}let f=(()=>{class t{constructor(t){this.translateService=t,this.isTotalsShown=!0,this.isSelectable=!1,this.hasExtraPadding=!1,this.isLoadingExtra=!1,this.selected=new i.n,this.deleted=new i.n,this.signed=new i.n,this.sentForSign=new i.n,this.exported=new i.n,this.revoked=new i.n,this.locale="ru",this.selectedTransactions=[],this.locale=this.translateService.currentLang,this.translateService.onLangChange.subscribe(()=>{this.locale=this.translateService.currentLang})}ngAfterViewInit(){}get transactions(){return this.group&&this.group.transactions?this.group.transactions:[]}get title(){return this.group&&this.group.title?this.group.title:this.type==o.b.DAY?this.isToday?this.translateService.instant("FILTER.PERIOD.TODAY"):this.isYesterday?this.translateService.instant("FILTER.PERIOD.YESTERDAY"):this.capitalized(this.convertToDayFormat(this.date)):this.type==o.b.MONTH?this.capitalized(this.isCurrentYear?this.convertToMonth(this.date):this.convertToMonthYear(this.date)):null}onSelect(t,e,n){t?this.selectedTransactions.push(e):this.selectedTransactions.splice(n,1),this.selected.emit(this.selectedTransactions)}onDelete(t){this.deleted.emit(t)}onRevoke(t){this.revoked.emit(t)}onSign(t){this.signed.emit(t)}onSentForSign(t){this.sentForSign.emit(t)}get date(){return new Date(this.group.groupDate)}get isToday(){const t=new Date;return this.convertToDayFormat(this.date)==this.convertToDayFormat(t)}get isYesterday(){const t=new Date,e=new Date(t.setDate(t.getDate()-1));return this.convertToDayFormat(this.date)==this.convertToDayFormat(e)}get isCurrentYear(){const t=new Date;return this.date.getFullYear()==t.getFullYear()}convertToDayFormat(t){return Object(a.K)(t,"d MMMM yyyy",this.locale)}convertToMonth(t){return Object(a.K)(t,"LLLL",this.locale)}convertToMonthYear(t){return Object(a.K)(t,"LLLL y",this.locale)}capitalized(t){return`${t[0].toUpperCase()}${t.substr(1).toLowerCase()}`}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(c.e))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-transaction-group"]],inputs:{mode:"mode",group:"group",type:"type",hasLargeTransactions:"hasLargeTransactions",isTotalsShown:"isTotalsShown",isSelectable:"isSelectable",hasExtraPadding:"hasExtraPadding",isLoadingExtra:"isLoadingExtra"},outputs:{selected:"selected",deleted:"deleted",signed:"signed",sentForSign:"sentForSign",exported:"exported",revoked:"revoked"},decls:4,vars:3,consts:[["class","transaction-group__header",4,"ngIf"],[1,"transaction-group__list"],[4,"ngFor","ngForOf"],["class","py-2",4,"ngIf"],[1,"transaction-group__header"],["jTour","HISTORY.OTHERS_FOR_SIGN","jTourPosition","right","class","transaction-group__title",4,"ngIf"],["class","transaction-group__title",4,"ngIf"],["class","d-none d-md-block p3 transaction-group__sum mr-3",4,"ngIf"],["class","d-none d-md-block p3 transaction-group__sum text-success",4,"ngIf"],["jTour","HISTORY.OTHERS_FOR_SIGN","jTourPosition","right",1,"transaction-group__title"],[1,"transaction-group__title"],[1,"d-none","d-md-block","p3","transaction-group__sum","mr-3"],["showSign","true",3,"money","isDebit","isCredit"],[1,"d-none","d-md-block","p3","transaction-group__sum","text-success"],["showSign","true",3,"money","isCredit","isDebit"],["jTour","STATEMENTS_ACCOUNT.TRANSACTIONS","jTourPosition","top",3,"transaction","mode","isSelectable","hasExtraPadding","hasLargeTransactions","deleted","revoked","signed","sentForSign","selected",4,"ngIf"],[3,"transaction","mode","isSelectable","hasExtraPadding","hasLargeTransactions","deleted","revoked","signed","sentForSign","selected",4,"ngIf"],["jTour","STATEMENTS_ACCOUNT.TRANSACTIONS","jTourPosition","top",3,"transaction","mode","isSelectable","hasExtraPadding","hasLargeTransactions","deleted","revoked","signed","sentForSign","selected"],[3,"transaction","mode","isSelectable","hasExtraPadding","hasLargeTransactions","deleted","revoked","signed","sentForSign","selected"],[1,"py-2"],[3,"theme"]],template:function(t,e){1&t&&(i.Rc(0,b,5,4,"div",0),i.Wb(1,"div",1),i.Rc(2,p,3,2,"ng-container",2),i.Rc(3,g,2,2,"div",3),i.Vb()),2&t&&(i.uc("ngIf",(null==e.group?null:null==e.group.transactions?null:e.group.transactions.length)>0),i.Ab(2),i.uc("ngForOf",e.transactions),i.Ab(1),i.uc("ngIf",e.isLoadingExtra))},styles:[".transaction-group__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;padding:1rem 0;margin-bottom:.5rem}.transaction-group__title[_ngcontent-%COMP%]{margin-right:auto;margin-bottom:0}.transaction-group__loading[_ngcontent-%COMP%]{padding:2rem 0}"]}),t})()},crCf:function(t,e,n){"use strict";n.d(e,"a",(function(){return $e}));var a=n("ofXK"),i=n("3Pt+"),o=n("PCNd"),c=n("1kSV"),s=n("sYmb"),r=n("xJkR"),l=n("fXoL"),d=n("QiVB"),b=n("T+Ki"),u=n("/68H"),m=n("pThr"),p=n("cIcs"),h=n("OTTH"),g=n("wqe5"),f=n("Br7L"),T=n("IdXV"),y=n("9K1F"),v=n("lYAS"),S=n("JvPu"),_=n("wwEr"),A=n("3v+J"),C=n("Y+uv"),O=n("/zfT"),I=n("xWtO"),E=n("BV3K"),x=n("B+58"),P=n("zOyH"),w=n("Cg+c"),R=n("Dwsl"),V=n("+uUT"),M=n("Ya7Z"),k=n("13E/"),W=n("cZYL"),N=n("jMpN"),L=n("ttPG"),D=n("vZvt"),j=n("mCLR"),F=n("0eeg"),U=n("Wo9y"),G=n("EBek"),B=n("570E"),H=n("zdqJ"),Y=n("i2Gl"),K=n("Kcpt"),$=n("Frqi"),Q=n("M6pS"),X=n("paXB"),q=n("Q98t"),z=n("EiG8"),J=n("4oqK"),Z=n("c66K"),tt=n("QfCG"),et=n("oa9T"),nt=n("SfXN"),at=n("H6TZ"),it=n("jRXw"),ot=n("2aJj"),ct=n("VA2L"),st=n("0AMz"),rt=n("W3Es"),lt=n("R4CF"),dt=n("9txL"),bt=n("LXWx"),ut=n("5I09"),mt=n("S1F0"),pt=n("oKsb"),ht=n("fvpk"),gt=n("Tile"),ft=n("aF9I"),Tt=n("aZ8m"),yt=n("UhoJ"),vt=n("sCra"),St=n("fGuG"),_t=n("7/bn"),At=n("Bl/x"),Ct=n("zN9f"),Ot=n("Kx/q"),It=n("2FF4"),Et=n("bSvt"),xt=n("jH+I"),Pt=n("4cI0"),wt=n("kUBv"),Rt=n("9Udv"),Vt=n("0jn5"),Mt=n("fK/r"),kt=n("Hjq/"),Wt=n("PGAL"),Nt=n("Kx0l"),Lt=n("gdaf"),Dt=n("LFY/"),jt=n("I+WJ"),Ft=n("lABO"),Ut=n("hJI6"),Gt=n("JB36"),Bt=n("4zJ+"),Ht=n("XpgD"),Yt=n("MfWJ"),Kt=n("B8HE"),$t=n("5DAB"),Qt=n("DHTX"),Xt=n("6goL"),qt=n("kDIH"),zt=n("BAfr"),Jt=n("ajRT"),Zt=n("NpBu"),te=n("TaxS"),ee=n("tkTF"),ne=n("yy4r"),ae=n("wGsJ"),ie=n("ZVDf"),oe=n("l/gM"),ce=n("UoEe"),se=n("gN/K"),re=n("+hcb"),le=n("h7tf"),de=n("9odQ"),be=n("WqMH"),ue=n("3MRA"),me=n("y6vz"),pe=n("Zgqj"),he=n("oMXN"),ge=n("rqas"),fe=n("dnqU"),Te=n("tp+K"),ye=n("saU0"),ve=n("ZF3e"),Se=n("tmjD"),_e=n("JqCM"),Ae=n("qew9"),Ce=n("d/d6"),Oe=n("e8Ap"),Ie=n("Dvla"),Ee=n("K1R0"),xe=n("dlKe"),Pe=n("DPnb"),we=n("C6g9"),Re=n("3M96"),Ve=n("DHcY"),Me=n("adOO"),ke=n("Eajh"),We=n("Ub7F"),Ne=n("OHc7"),Le=n("I0Rk"),De=n("tepA"),je=n("Bs9s"),Fe=n("ScFe"),Ue=n("SCaJ"),Ge=n("wV3k"),Be=n("wY9W"),He=n("7Fmj"),Ye=n("g1SY"),Ke=n("3skF");let $e=(()=>{class t{}return t.\u0275mod=l.Ob({type:t}),t.\u0275inj=l.Nb({factory:function(e){return new(e||t)},imports:[[a.c,o.a,i.n,c.F,s.c,r.b]]}),t})();l.Lc(d.a,[d.a,b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,S.a,_.a,A.a,C.a,O.a,I.a,E.b,x.a,P.a,w.a,R.a,V.a,M.a,E.a,k.a,W.b,W.a,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.b,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.b,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.b,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,Ce.a,Oe.a,s.a,c.E,c.C,Ie.a,Ie.b,Ee.a,r.a,xe.a,Pe.a,Pe.c,Pe.b,we.a,Re.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,je.a,Fe.a,Ue.a,Ge.a,Be.a,He.a,Ye.a,Se.b,Ke.a,s.d]),l.Lc(b.a,[d.a,b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,S.a,_.a,A.a,C.a,O.a,I.a,E.b,x.a,P.a,w.a,R.a,V.a,M.a,E.a,k.a,W.b,W.a,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.b,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.b,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.b,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,Ce.a,Oe.a,s.a,c.E,c.C,Ie.a,Ie.b,Ee.a,r.a,xe.a,Pe.a,Pe.c,Pe.b,we.a,Re.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,je.a,Fe.a,Ue.a,Ge.a,Be.a,He.a,Ye.a,Se.b,Ke.a,s.d]),l.Lc(m.a,[d.a,b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,S.a,_.a,A.a,C.a,O.a,I.a,E.b,x.a,P.a,w.a,R.a,V.a,M.a,E.a,k.a,W.b,W.a,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.b,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.b,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.b,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,Ce.a,Oe.a,s.a,c.E,c.C,Ie.a,Ie.b,Ee.a,r.a,xe.a,Pe.a,Pe.c,Pe.b,we.a,Re.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,je.a,Fe.a,Ue.a,Ge.a,Be.a,He.a,Ye.a,Se.b,Ke.a,s.d]),l.Lc(p.a,[d.a,b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,S.a,_.a,A.a,C.a,O.a,I.a,E.b,x.a,P.a,w.a,R.a,V.a,M.a,E.a,k.a,W.b,W.a,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.b,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.b,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.b,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,Ce.a,Oe.a,s.a,c.E,c.C,Ie.a,Ie.b,Ee.a,r.a,xe.a,Pe.a,Pe.c,Pe.b,we.a,Re.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,je.a,Fe.a,Ue.a,Ge.a,Be.a,He.a,Ye.a,Se.b,Ke.a,s.d]),l.Lc(h.a,[d.a,b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,S.a,_.a,A.a,C.a,O.a,I.a,E.b,x.a,P.a,w.a,R.a,V.a,M.a,E.a,k.a,W.b,W.a,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.b,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.b,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.b,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,Ce.a,Oe.a,s.a,c.E,c.C,Ie.a,Ie.b,Ee.a,r.a,xe.a,Pe.a,Pe.c,Pe.b,we.a,Re.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,je.a,Fe.a,Ue.a,Ge.a,Be.a,He.a,Ye.a,Se.b,Ke.a,s.d]),l.Lc(f.a,[d.a,b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,S.a,_.a,A.a,C.a,O.a,I.a,E.b,x.a,P.a,w.a,R.a,V.a,M.a,E.a,k.a,W.b,W.a,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.b,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.b,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.b,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,Ce.a,Oe.a,s.a,c.E,c.C,Ie.a,Ie.b,Ee.a,r.a,xe.a,Pe.a,Pe.c,Pe.b,we.a,Re.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,je.a,Fe.a,Ue.a,Ge.a,Be.a,He.a,Ye.a,Se.b,Ke.a,s.d]),l.Lc(T.a,[d.a,b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,S.a,_.a,A.a,C.a,O.a,I.a,E.b,x.a,P.a,w.a,R.a,V.a,M.a,E.a,k.a,W.b,W.a,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.b,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.b,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.b,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,Ce.a,Oe.a,s.a,c.E,c.C,Ie.a,Ie.b,Ee.a,r.a,xe.a,Pe.a,Pe.c,Pe.b,we.a,Re.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,je.a,Fe.a,Ue.a,Ge.a,Be.a,He.a,Ye.a,Se.b,Ke.a,s.d]),l.Lc(y.a,[d.a,b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,S.a,_.a,A.a,C.a,O.a,I.a,E.b,x.a,P.a,w.a,R.a,V.a,M.a,E.a,k.a,W.b,W.a,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.b,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.b,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.b,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,Ce.a,Oe.a,s.a,c.E,c.C,Ie.a,Ie.b,Ee.a,r.a,xe.a,Pe.a,Pe.c,Pe.b,we.a,Re.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,je.a,Fe.a,Ue.a,Ge.a,Be.a,He.a,Ye.a,Se.b,Ke.a,s.d]),l.Lc(v.a,[d.a,b.a,u.a,m.a,p.a,h.a,g.a,f.a,T.a,y.a,v.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,S.a,_.a,A.a,C.a,O.a,I.a,E.b,x.a,P.a,w.a,R.a,V.a,M.a,E.a,k.a,W.b,W.a,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.b,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.a,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.b,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.a,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.b,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.a,Te.a,ye.a,ve.a,Se.a,_e.a,Ae.a,Ce.a,Oe.a,s.a,c.E,c.C,Ie.a,Ie.b,Ee.a,r.a,xe.a,Pe.a,Pe.c,Pe.b,we.a,Re.a,i.J,i.y,i.I,i.c,i.z,i.C,i.a,i.F,i.G,i.B,i.t,i.u,i.E,i.p,i.o,i.A,i.b,i.d,i.w,i.x,i.v],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,je.a,Fe.a,Ue.a,Ge.a,Be.a,He.a,Ye.a,Se.b,Ke.a,s.d])},"ct+p":function(t,e,n){"use strict";n.r(e);var a=n("ofXK"),i=n("3Pt+"),o=n("qew9"),c=n("1kSV"),s=n("tmjD"),r=n("dlKe"),l=n("xJkR"),d=n("PCNd"),b=n("M4UK"),u=n("5cNS"),m=n("crCf"),p=n("tyNb"),h=n("4wRv"),g=n("gzBp"),f=n("itXk"),T=n("pLZG"),y=n("lJxs"),v=n("3E0/"),S=n("fXoL"),_=n("VnnJ"),A=n("kmKP"),C=n("qXBG");let O=(()=>{class t{constructor(t,e,n){this.company=t,this.user=e,this.auth=n}canActivate(t,e){return Object(f.a)([this.company.currentCompany$,this.user.getUser()]).pipe(Object(T.a)(([t,e])=>!!t&&!!e),Object(y.a)(()=>!0),Object(v.a)(0))}}return t.\u0275fac=function(e){return new(e||t)(S.ec(_.a),S.ec(A.b),S.ec(C.a))},t.\u0275prov=S.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var I=n("RW1d"),E=n("mrSG"),x=n("quSY"),P=n("4Nuw"),w=n("zwEd"),R=n("ZF+8"),V=n("0zi4"),M=n("Cj9k"),k=n("tk/3"),W=n("yZrb");let N=(()=>{class t{constructor(t,e){this.apiService=t,this.companyService=e}getUrl(){return`/companies/${this.companyService.currentId}/additional-accounts`}check(){const t=this.getUrl(),e=(new k.g).set("client-type","WEB");return this.apiService.postObservable(t,null,e)}apply(t,e,n){const a=`${this.getUrl()}/${e}:confirm`,i=(new k.h).set("currency",t),o=(new k.g).set("PhoneAuthorization",n);return this.apiService.postObservable(a,null,o,i)}getAdditionalAccountsInProgress(){const t=`${this.getUrl()}/in-progress`;return this.apiService.getObservable(t)}}return t.\u0275fac=function(e){return new(e||t)(S.ec(W.a),S.ec(_.a))},t.\u0275prov=S.Mb({token:t,factory:t.\u0275fac}),t})();var L=n("sYmb"),D=n("upKI"),j=n("TwVa"),F=n("eIep"),U=n("/5c0"),G=n("5gsm"),B=n("Kd2e"),H=n("ajRT"),Y=n("BAfr");let K=(()=>{class t{constructor(){this.onSelect=new S.n}ngOnChanges(){const{code:t,name:e}=this.currency;this.label=`${t} - ${e}`,this.src=`/assets/currency/${t}.svg`}onSelectClick(){this.currency.isPossible&&this.onSelect.emit()}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-currency-item"]],inputs:{currency:"currency"},outputs:{onSelect:"onSelect"},features:[S.yb()],decls:6,vars:4,consts:[[1,"currency-item","d-flex","align-items-center","p-3","mx-auto","my-3",3,"click"],["alt","",1,"currency-item__icon",3,"src"],[1,"currency-item__label","pl-2"],[1,"btn","btn-link","px-0"],["src","/assets/icons/arrow-right.svg","alt",""]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.ic("click",(function(t){return e.onSelectClick()})),S.Rb(1,"img",1),S.Wb(2,"span",2),S.Tc(3),S.Vb(),S.Wb(4,"button",3),S.Rb(5,"img",4),S.Vb(),S.Vb()),2&t&&(S.Hb("currency-item--disabled",!e.currency.isPossible),S.Ab(1),S.uc("src",e.src,S.Kc),S.Ab(2),S.Uc(e.label))},styles:[".currency-item[_ngcontent-%COMP%]{width:90%;height:56px;background:#fff;border-radius:8px;cursor:pointer}.currency-item__label[_ngcontent-%COMP%]{font-size:18px}.currency-item__icon[_ngcontent-%COMP%]{width:28px;height:28px}.currency-item--disabled[_ngcontent-%COMP%]{pointer-events:none;opacity:.55}.currency-item[_ngcontent-%COMP%]   .btn-link[_ngcontent-%COMP%]{margin-left:auto}"]}),t})(),$=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-application-item"]],inputs:{label:"label",text:"text"},decls:6,vars:4,consts:[[1,"additional-account-application-item","d-flex","justify-content-between","pb-3","position-relative","mt-3"],[1,"p2"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Wb(1,"span",1),S.Tc(2),S.nc(3,"translate"),S.Vb(),S.Wb(4,"span",1),S.Tc(5),S.Vb(),S.Vb()),2&t&&(S.Ab(2),S.Uc(S.oc(3,2,e.label)),S.Ab(3),S.Uc(e.text))},pipes:[L.d],styles:['.additional-account-application-item[_ngcontent-%COMP%]:after{content:"";width:100%;height:1px;background:#b7bec5;opacity:.5;position:absolute;bottom:0}']}),t})(),Q=(()=>{class t{constructor(){this.onSign=new S.n}ngOnInit(){}clickOnSign(){this.onSign.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-application"]],inputs:{currency:"currency",companyName:"companyName"},outputs:{onSign:"onSign"},decls:10,vars:2,consts:[[1,"additional-account-application"],["translate","",1,"pb-2"],[1,"p4","pt-2","additional-account-application__terms"],["translate",""],["label","ADDITIONAL_ACCOUNTS.APPLICATION_ITEM_COMPANY_NAME",3,"text"],["label","ADDITIONAL_ACCOUNTS.APPLICATION_ITEM_COMPANY_CURRENCY",3,"text"],["translate","",1,"btn","btn-primary","btn-lg","mt-3",3,"click"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Wb(1,"h3",1),S.Tc(2,"ADDITIONAL_ACCOUNTS.APPLICATION_HEADER"),S.Vb(),S.Wb(3,"div",2),S.Wb(4,"span",3),S.Tc(5," ADDITIONAL_ACCOUNTS.APPLICATION_TERMS "),S.Vb(),S.Vb(),S.Rb(6,"j-application-item",4),S.Rb(7,"j-application-item",5),S.Wb(8,"button",6),S.ic("click",(function(t){return e.clickOnSign()})),S.Tc(9," ADDITIONAL_ACCOUNTS.MODAL_SIGN_BTN "),S.Vb(),S.Vb()),2&t&&(S.Ab(6),S.uc("text",e.companyName),S.Ab(1),S.uc("text",e.currency))},directives:[L.a,$],styles:[".additional-account-application__terms[_ngcontent-%COMP%]{color:#666c72}"]}),t})();var X=n("2FF4"),q=n("e8Ap");let z=(()=>{class t{constructor(){this.close=new S.n}ngOnInit(){}ngOnChanges(){this.src=`/assets/additional-account/${this.result.iconName}.svg`}onCloseClick(){this.close.emit()}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-open-additional-account-result"]],inputs:{result:"result"},outputs:{close:"close"},features:[S.yb()],decls:8,vars:4,consts:[[1,"open-additional-account-result","text-center"],[3,"inlineSVG"],["translate","",1,"pt-5","pb-0","mb-0"],["translate","",1,"p2","mb-5","d-block","open-additional-account-result__label"],["translate","",1,"btn","btn-static","btn-primary","btn-lg","w-100","mt-5",3,"click"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Rb(1,"span",1),S.Wb(2,"h3",2),S.Tc(3),S.Vb(),S.Wb(4,"span",3),S.Tc(5),S.Vb(),S.Wb(6,"button",4),S.ic("click",(function(t){return e.onCloseClick()})),S.Tc(7),S.Vb(),S.Vb()),2&t&&(S.Ab(1),S.uc("inlineSVG",e.src),S.Ab(2),S.Vc(" ",e.result.header," "),S.Ab(2),S.Vc(" ",e.result.label," "),S.Ab(2),S.Vc(" ",e.result.btnText," "))},directives:[q.a,L.a],styles:[""]}),t})();const J=["applicationModal"];function Z(t,e){if(1&t){const t=S.Xb();S.Wb(0,"j-currency-item",11),S.ic("onSelect",(function(n){S.Ic(t);const a=e.$implicit;return S.mc(2).onCurrencySelect(a)})),S.Vb()}2&t&&S.uc("currency",e.$implicit)}function tt(t,e){if(1&t){const t=S.Xb();S.Wb(0,"div",7),S.Wb(1,"button",8),S.ic("click",(function(e){return S.Ic(t),S.mc().checkUser()})),S.Tc(2," ADDITIONAL_ACCOUNTS.OPEN_ACCOUNT "),S.Vb(),S.Wb(3,"j-sidebar",9),S.ic("onClose",(function(e){return S.Ic(t),S.mc().toggleOpenSidebar()})),S.Rc(4,Z,1,1,"j-currency-item",10),S.Vb(),S.Vb()}if(2&t){const t=S.mc();S.Ab(1),S.uc("disabled",t.checkInProgress),S.Ab(2),S.uc("header",t.sidebarLabel)("open",t.openSidebar),S.Ab(1),S.uc("ngForOf",t.currencies)}}function et(t,e){if(1&t){const t=S.Xb();S.Wb(0,"j-application",12),S.ic("onSign",(function(e){return S.Ic(t),S.mc().setStep("sign")})),S.Vb()}if(2&t){const t=S.mc();S.uc("currency",t.selectedCurrency)("companyName",t.companyName)}}function nt(t,e){if(1&t){const t=S.Xb();S.Wb(0,"j-sms",13),S.ic("loaded",(function(e){return S.Ic(t),S.mc().setSmsLoaded(!0)}))("submitted",(function(e){return S.Ic(t),S.mc().onSubmit(e)})),S.Vb()}if(2&t){const t=S.mc();S.uc("hidden",!t.isSmsLoaded)("phone",t.phone)("countryCode",t.countryCode)("headers",t.headerParams)}}function at(t,e){if(1&t){const t=S.Xb();S.Wb(0,"j-open-additional-account-result",14),S.ic("close",(function(e){return S.Ic(t),S.mc().onModalClose()})),S.Vb()}if(2&t){const t=S.mc();S.uc("result",t.result)}}let it=(()=>{class t{constructor(t,e,n,a,i,o){this.currencyListService=t,this.additionalAccountService=e,this.translateService=n,this.companyService=a,this.analytics=i,this.featureFlagsService=o,this.added=new S.n,this.openSidebar=!1,this.currencies=null,this.sidebarLabel=this.translateService.instant("ADDITIONAL_ACCOUNTS.SIDEBAR_HEADER"),this.step="application",this.checkInProgress=!1,this.headerParams={smsHeader:W.c.OPENING_ACCOUNT},this.countryCode=JSON.parse(localStorage.getItem("countryCode")),this.phone=JSON.parse(localStorage.getItem("user")).phone,this.isSmsLoaded=!1,this.showOpenAdditionalAccountSubscription=null,this.showOpenAdditionalAccount=!1,this.showOpenAdditionalAccountSubscription=Object(f.a)([this.featureFlagsService.featureFlags$,this.companyService.currentAuthority$]).subscribe(([t,e])=>{var n;this.showOpenAdditionalAccount=(null===(n=e)||void 0===n?void 0:n.authority)===j.a.PRIMARY_SIGNATURE&&!this.featureFlagsService.isDisabled(D.a.OPEN_ADDITIONAL_ACCOUNT)})}ngOnInit(){}ngOnDestroy(){this.showOpenAdditionalAccountSubscription.unsubscribe()}setResult(t,e){this.result="success"===t?{iconName:"success",header:"ADDITIONAL_ACCOUNTS.SUCCESS_MODAL.HEADER",label:"ADDITIONAL_ACCOUNTS.SUCCESS_MODAL.TEXT",btnText:"ADDITIONAL_ACCOUNTS.SUCCESS_MODAL.BTN"}:{iconName:"fail",header:"ADDITIONAL_ACCOUNTS.FAIL_MODAL.HEADER",label:`ADDITIONAL_ACCOUNTS.FAIL_MODAL.TEXT.${e}`,btnText:"ADDITIONAL_ACCOUNTS.FAIL_MODAL.BTN"}}toggleOpenSidebar(){this.openSidebar=!this.openSidebar}checkUser(){return Object(E.a)(this,void 0,void 0,(function*(){this.analytics.logEvent("JMain_Add_Click",{version:1}),this.checkInProgress=!0,this.additionalAccountService.check().pipe(Object(F.a)(({id:t})=>(this.requestedAccountId=t,this.currencyListService.loadCurrencyList())),Object(y.a)(t=>{const e=this.translateService.instant("SHARED.CURRENCY_DESCRIPTION");return t.map(t=>Object.assign(Object.assign({},t),{name:e[t.code]}))})).subscribe(t=>{this.currencies=t,this.toggleOpenSidebar()},t=>{this.setStep("fail",t.status?`${String(t.status).slice(0,-2)}x`:"5x"),this.openModal()}).add(()=>this.checkInProgress=!1)}))}openModal(){this.applicationModal.open({centered:!0,windowClass:"additional-account-application-modal"})}onCurrencySelect(t){this.selectedCurrency=t.code,this.companyName=this.companyService.currentAuthority.company.shortName,this.toggleOpenSidebar(),this.openModal()}setStep(t,e="5x"){this.step=t,this.showResult&&this.setResult(t,e)}get showApplication(){return["application","sign"].includes(this.step)&&!this.isSmsLoaded}get showResult(){return["success","fail"].includes(this.step)}setSmsLoaded(t){this.isSmsLoaded=t}onSubmit({signature:t}){this.additionalAccountService.apply(this.selectedCurrency,this.requestedAccountId,t).subscribe(()=>{this.setStep("success"),this.analytics.logEvent("JMain_accept_AccountAdd",{version:1})},()=>{this.setStep("fail")})}onSuccessClose(){this.applicationModal.close(),this.added.emit(),this.setStep("application")}resetModal(){this.setStep("application"),this.setSmsLoaded(!1),this.applicationModal.close()}onModalClose(){"success"===this.step?this.onSuccessClose():this.resetModal()}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(U.a),S.Qb(N),S.Qb(L.e),S.Qb(_.a),S.Qb(G.b),S.Qb(B.a))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-open-additional-account"]],viewQuery:function(t,e){var n;1&t&&S.Yc(J,!0),2&t&&S.Ec(n=S.jc())&&(e.applicationModal=n.first)},outputs:{added:"added"},decls:7,vars:4,consts:[["class","open-additional-account",4,"ngIf"],[3,"closeModal"],["applicationModal",""],[1,"additional-account-application-modal__wrapper"],[3,"currency","companyName","onSign",4,"ngIf"],[3,"hidden","phone","countryCode","headers","loaded","submitted",4,"ngIf"],[3,"result","close",4,"ngIf"],[1,"open-additional-account"],["type","button","translate","",1,"btn","btn-link","pl-5","pb-1","p-0","open-additional-account__btn",3,"disabled","click"],[3,"header","open","onClose"],[3,"currency","onSelect",4,"ngFor","ngForOf"],[3,"currency","onSelect"],[3,"currency","companyName","onSign"],[3,"hidden","phone","countryCode","headers","loaded","submitted"],[3,"result","close"]],template:function(t,e){1&t&&(S.Rc(0,tt,5,4,"div",0),S.Wb(1,"j-modal",1,2),S.ic("closeModal",(function(t){return e.onModalClose()})),S.Wb(3,"div",3),S.Rc(4,et,1,2,"j-application",4),S.Rc(5,nt,1,4,"j-sms",5),S.Rc(6,at,1,1,"j-open-additional-account-result",6),S.Vb(),S.Vb()),2&t&&(S.uc("ngIf",e.showOpenAdditionalAccount),S.Ab(4),S.uc("ngIf",e.showApplication),S.Ab(1),S.uc("ngIf","sign"===e.step),S.Ab(1),S.uc("ngIf",e.showResult))},directives:[a.u,H.a,L.a,Y.a,a.t,K,Q,X.a,z],styles:[".additional-account-application-modal .modal-dialog{max-width:681px}.additional-account-application-modal .modal-content{border-radius:40px}.additional-account-application-modal__wrapper{padding:5rem 6.25rem}"],encapsulation:2}),t})();var ot=n("mR7B"),ct=n("zN9f"),st=n("Kx/q");function rt(t,e){if(1&t&&(S.Wb(0,"div",1),S.Rb(1,"span",2),S.Wb(2,"span"),S.Tc(3),S.Vb(),S.Vb()),2&t){const t=S.mc();S.Ab(3),S.Vc(" ",t.account.maskedAlterCode," ")}}let lt=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-account-alter-code"]],inputs:{account:"account"},decls:1,vars:1,consts:[["class","alter-code",4,"ngIf"],[1,"alter-code"],["inlineSVG","assets/icons/v2/atf-24.svg",1,"mr-2"]],template:function(t,e){1&t&&S.Rc(0,rt,4,1,"div",0),2&t&&S.uc("ngIf",null==e.account?null:e.account.hasAtfIban)},directives:[a.u,q.a],styles:[".alter-code[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;color:#b7bec5}"]}),t})();var dt=n("xErE");function bt(t,e){1&t&&(S.Tc(0),S.nc(1,"translate")),2&t&&S.Vc(" ",S.oc(1,1,"ACCOUNTS.INACTIVE"),"\n")}function ut(t,e){if(1&t&&(S.Tc(0),S.nc(1,"translate")),2&t){const t=S.mc();S.Vc(" ",S.pc(1,1,"ACCOUNTS.INACTIVE_WITH_DATE",t.titleParams),"\n")}}function mt(t,e){if(1&t&&(S.Rb(0,"div",7),S.nc(1,"translate")),2&t){const t=S.mc();S.uc("innerHTML",S.pc(1,1,"ACCOUNTS.MIGRATED",t.descriptionParams),S.Jc)}}let pt=(()=>{class t{constructor(t,e){this.accountsService=t,this.locale=e,this.isLarge=!1,this.subscription=new x.a,this.subscription.add(this.accountsService.getMergeDate().subscribe(t=>{this.descriptionParams=this.mapTranslateParams(t,"d.MM.yy"),this.titleParams=this.mapTranslateParams(t,"d MMMM")}))}ngOnDestroy(){this.subscription.unsubscribe()}mapTranslateParams(t,e){return{date:Object(a.K)(t,"d.MM.yy",this.locale)}}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(dt.a),S.Qb(S.u))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-account-migrated"]],inputs:{isLarge:"isLarge"},decls:10,vars:4,consts:[["tooltipClass","tooltip-light",1,"migrated",3,"ngbTooltip"],["inlineSVG","assets/icons/v2/fail-16.svg",1,"migrated__icon"],[1,"migrated__text","text-danger"],[3,"ngTemplateOutlet"],["titleDefaultTemplate",""],["titleLargeTemplate",""],["migratedTooltipTemplate",""],[1,"text-left",3,"innerHTML"]],template:function(t,e){if(1&t&&(S.Wb(0,"div",0),S.Rb(1,"span",1),S.Wb(2,"strong",2),S.Sb(3,3),S.Vb(),S.Vb(),S.Rc(4,bt,2,3,"ng-template",null,4,S.Sc),S.Rc(6,ut,2,4,"ng-template",null,5,S.Sc),S.Rc(8,mt,2,4,"ng-template",null,6,S.Sc)),2&t){const t=S.Fc(5),n=S.Fc(7),a=S.Fc(9);S.uc("ngbTooltip",a),S.Ab(2),S.Db(e.isLarge?"ml-1":"p4"),S.Ab(1),S.uc("ngTemplateOutlet",e.isLarge?n:t)}},directives:[c.E,q.a,a.B],pipes:[L.d],styles:[".migrated[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;line-height:12px}.migrated__icon[_ngcontent-%COMP%]{height:16px;margin-right:2px}"]}),t})();function ht(t,e){1&t&&S.Rb(0,"j-account-migrated",11)}function gt(t,e){if(1&t&&(S.Wb(0,"div",7),S.Wb(1,"div",8),S.Wb(2,"span"),S.Tc(3),S.Vb(),S.Rc(4,ht,1,0,"j-account-migrated",9),S.Vb(),S.Rb(5,"j-account-alter-code",10),S.Vb()),2&t){const t=S.mc();S.Ab(3),S.Uc(t.account.maskedIban),S.Ab(1),S.uc("ngIf",t.account.isMigrated),S.Ab(1),S.uc("account",t.account)}}function ft(t,e){1&t&&S.Rb(0,"img",12)}let Tt=(()=>{class t{constructor(t){this.maskedService=t,this.isRoutable=!0}ngOnInit(){}onClick(t){}get isLargeAmount(){var t;return(null===(t=this.account)||void 0===t?void 0:t.balance)&&this.maskedService.getMaskedAmount(this.account.balance.amount).length>16}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(ot.a))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-account-box"]],inputs:{account:"account",isRoutable:"isRoutable"},decls:7,vars:6,consts:[[1,"account-header"],["class","p2",4,"ngIf"],["src","/assets/icons/arrow-right.svg","class","account-arrow",4,"ngIf"],[1,"account-footer"],["size","sm",1,"account-img",3,"name"],[1,"account-amount"],[3,"money"],[1,"p2"],[1,"account__iban"],["class","ml-2",4,"ngIf"],[3,"account"],[1,"ml-2"],["src","/assets/icons/arrow-right.svg",1,"account-arrow"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Rc(1,gt,6,3,"div",1),S.Rc(2,ft,1,0,"img",2),S.Vb(),S.Wb(3,"div",3),S.Rb(4,"j-entity-logo",4),S.Wb(5,"h4",5),S.Rb(6,"j-money",6),S.Vb(),S.Vb()),2&t&&(S.Ab(1),S.uc("ngIf",e.account),S.Ab(1),S.uc("ngIf",e.isRoutable),S.Ab(2),S.uc("name",null==e.account?null:null==e.account.balance?null:e.account.balance.currency),S.Ab(1),S.Hb("account-amount--small",e.isLargeAmount),S.Ab(1),S.uc("money",null==e.account?null:e.account.balance))},directives:[a.u,ct.a,st.a,lt,pt],styles:[".account-header[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:baseline;align-items:baseline}.account-footer[_ngcontent-%COMP%], .account-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.account-footer[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.account-amount[_ngcontent-%COMP%]{margin:0}@media(min-width:1280px){.account-amount[_ngcontent-%COMP%]{font-size:24px}}.account-amount--small[_ngcontent-%COMP%]{font-size:18px}@media(min-width:1280px){.account-amount--small[_ngcontent-%COMP%]{font-size:18px}}.account-img[_ngcontent-%COMP%]{border-radius:.5rem;margin-right:1rem}.account__iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}[_nghost-%COMP%]{background:#fff;border-radius:12px;display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;padding:20px;min-width:285px;min-height:145px;cursor:pointer;margin-bottom:1rem;margin-right:1rem}[_nghost-%COMP%]:hover{box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04)}"]}),t})(),yt=(()=>{class t{constructor(){}ngOnInit(){}ngOnChanges(){this.src=`/assets/currency/${this.currencyCode}.svg`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-account-box-in-progress"]],inputs:{currencyCode:"currencyCode"},features:[S.yb()],decls:5,vars:1,consts:[["count","1","appearance","line"],[1,"d-flex"],["alt","",1,"account-box-in-progress__icon",3,"src"],["translate","",1,"pl-2"]],template:function(t,e){1&t&&(S.Rb(0,"ngx-skeleton-loader",0),S.Wb(1,"div",1),S.Rb(2,"img",2),S.Wb(3,"h6",3),S.Tc(4," ADDITIONAL_ACCOUNTS.IN_PROGRESS "),S.Vb(),S.Vb()),2&t&&(S.Ab(2),S.uc("src",e.src,S.Kc))},directives:[l.a,L.a],styles:[".account-header[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:baseline;align-items:baseline}.account-footer[_ngcontent-%COMP%], .account-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.account-footer[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.account-amount[_ngcontent-%COMP%]{margin:0}@media(min-width:1280px){.account-amount[_ngcontent-%COMP%]{font-size:24px}}.account-amount--small[_ngcontent-%COMP%]{font-size:18px}@media(min-width:1280px){.account-amount--small[_ngcontent-%COMP%]{font-size:18px}}.account-img[_ngcontent-%COMP%]{border-radius:.5rem;margin-right:1rem}.account__iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}[_nghost-%COMP%]{background:#fff;border-radius:12px;display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;padding:20px;min-width:285px;min-height:145px;cursor:pointer;margin-bottom:1rem;margin-right:1rem}[_nghost-%COMP%]:hover{box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04)}.account-box-in-progress__icon[_ngcontent-%COMP%]{width:28px;height:28px}"]}),t})();var vt=n("fkRG");function St(t,e){if(1&t&&(S.Ub(0),S.Wb(1,"div",1),S.Wb(2,"div",2),S.Wb(3,"span",3),S.Tc(4),S.Vb(),S.Wb(5,"div",4),S.Wb(6,"div",5),S.Tc(7),S.Vb(),S.Rb(8,"j-card-status",6),S.Vb(),S.Vb(),S.Rb(9,"img",7),S.Vb(),S.Wb(10,"div",8),S.Rb(11,"img",9),S.Wb(12,"h4",10),S.Rb(13,"j-money",11),S.Vb(),S.Vb(),S.Tb()),2&t){const t=S.mc();S.Ab(4),S.Vc(" ",t.card.alias||t.card.formattedName," "),S.Ab(3),S.Uc(t.card.maskedNumber),S.Ab(1),S.uc("isSmall",!0)("status",t.card.status),S.Ab(5),S.uc("money",t.card.balance)}}let _t=(()=>{class t{constructor(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-card-box"]],inputs:{card:"card"},decls:1,vars:1,consts:[[4,"ngIf"],[1,"account-header","p2"],[1,"card-iban-wrap"],[1,"card-iban","text-truncate"],[1,"d-flex"],[1,"text-muted","no-wrap"],[1,"no-wrap",3,"isSmall","status"],["src","/assets/icons/arrow-right.svg",1,"account-arrow"],[1,"account-footer"],["src","/assets/img/home/card-chip.svg"],[1,"ml-3","account-amount"],[3,"money"]],template:function(t,e){1&t&&S.Rc(0,St,14,5,"ng-container",0),2&t&&S.uc("ngIf",e.card)},directives:[a.u,vt.a,st.a],styles:[".account-header[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:baseline;align-items:baseline}.account-footer[_ngcontent-%COMP%], .account-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.account-footer[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.account-amount[_ngcontent-%COMP%]{margin:0}@media(min-width:1280px){.account-amount[_ngcontent-%COMP%]{font-size:24px}}.account-amount--small[_ngcontent-%COMP%]{font-size:18px}@media(min-width:1280px){.account-amount--small[_ngcontent-%COMP%]{font-size:18px}}.account-img[_ngcontent-%COMP%]{border-radius:.5rem;margin-right:1rem}.account__iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}[_nghost-%COMP%]{background:#fff;border-radius:12px;display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;padding:20px;min-width:285px;min-height:145px;cursor:pointer;margin-bottom:1rem;margin-right:1rem}[_nghost-%COMP%]:hover{box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04)}.card-iban[_ngcontent-%COMP%]{display:block}.card-iban-wrap[_ngcontent-%COMP%]{max-width:calc(100% - 1rem)}"]}),t})();function At(t,e){1&t&&S.Rb(0,"j-account-migrated",11)}function Ct(t,e){if(1&t&&(S.Wb(0,"div",7),S.Wb(1,"div",8),S.Wb(2,"span"),S.Tc(3),S.Vb(),S.Rc(4,At,1,0,"j-account-migrated",9),S.Vb(),S.Wb(5,"small",10),S.Tc(6),S.Vb(),S.Vb()),2&t){const t=S.mc();S.Ab(3),S.Uc(t.deposit.maskedIban),S.Ab(1),S.uc("ngIf",t.deposit.isMigrated),S.Ab(2),S.Vc(" ",t.depositName," ")}}function Ot(t,e){1&t&&S.Rb(0,"img",12)}let It=(()=>{class t{constructor(t,e){this.translateService=t,this.maskedService=e,this.isRoutable=!0,this.subscription=new x.a,this.subscription.add(this.translateService.onLangChange.subscribe(()=>{this.mapDepositName()}))}ngOnInit(){this.mapDepositName()}get isLargeAmount(){var t;return(null===(t=this.deposit)||void 0===t?void 0:t.balance)&&this.maskedService.getMaskedAmount(this.deposit.balance.amount).length>16}mapDepositName(){this.depositName=this.deposit.depositType.descriptionTranslations.translations["en"===this.translateService.currentLang?"eng":this.translateService.currentLang]}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(L.e),S.Qb(ot.a))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-deposit-box"]],inputs:{deposit:"deposit",isRoutable:"isRoutable"},decls:7,vars:5,consts:[[1,"account-header"],["class","p2",4,"ngIf"],["src","/assets/icons/arrow-right.svg","class","account-arrow",4,"ngIf"],[1,"account-footer"],["inlineSVG","/assets/icons/v2/deposit-16.svg",1,"account-img","deposit-img"],[1,"account-amount"],[3,"money"],[1,"p2"],[1,"account__iban"],["class","ml-2",4,"ngIf"],[1,"text-muted"],[1,"ml-2"],["src","/assets/icons/arrow-right.svg",1,"account-arrow"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Rc(1,Ct,7,3,"div",1),S.Rc(2,Ot,1,0,"img",2),S.Vb(),S.Wb(3,"div",3),S.Rb(4,"span",4),S.Wb(5,"h4",5),S.Rb(6,"j-money",6),S.Vb(),S.Vb()),2&t&&(S.Ab(1),S.uc("ngIf",e.deposit),S.Ab(1),S.uc("ngIf",e.isRoutable),S.Ab(3),S.Hb("account-amount--small",e.isLargeAmount),S.Ab(1),S.uc("money",e.deposit.balance))},directives:[a.u,q.a,st.a,pt],styles:[".account-header[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:baseline;align-items:baseline}.account-footer[_ngcontent-%COMP%], .account-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.account-footer[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.account-amount[_ngcontent-%COMP%]{margin:0}@media(min-width:1280px){.account-amount[_ngcontent-%COMP%]{font-size:24px}}.account-amount--small[_ngcontent-%COMP%]{font-size:18px}@media(min-width:1280px){.account-amount--small[_ngcontent-%COMP%]{font-size:18px}}.account-img[_ngcontent-%COMP%]{border-radius:.5rem;margin-right:1rem}.account__iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}[_nghost-%COMP%]{background:#fff;border-radius:12px;display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;padding:20px;min-width:285px;min-height:145px;cursor:pointer;margin-bottom:1rem;margin-right:1rem}[_nghost-%COMP%]:hover{box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04)}.deposit-img[_ngcontent-%COMP%]{width:28px;height:28px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#f2f2f7;border-radius:8px}"],changeDetection:0}),t})();function Et(t,e){if(1&t&&(S.Wb(0,"div",7),S.Wb(1,"div",8),S.Wb(2,"div",9),S.Wb(3,"span"),S.Tc(4),S.Vb(),S.Wb(5,"div",10),S.Tc(6),S.Vb(),S.Vb(),S.Vb(),S.Vb()),2&t){const t=S.mc();S.Ab(4),S.Uc(t.loan.productName),S.Ab(2),S.Vc("\u2116 ",t.loan.colvirId,"")}}function xt(t,e){1&t&&S.Rb(0,"img",11)}let Pt=(()=>{class t{constructor(){this.isRoutable=!0}ngOnInit(){}get balance(){return this.loan&&this.loan.amount}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-loan-box"]],inputs:{loan:"loan",isRoutable:"isRoutable"},decls:7,vars:3,consts:[[1,"account-header"],["class","p2",4,"ngIf"],["src","/assets/icons/arrow-right.svg","class","account-arrow",4,"ngIf"],[1,"account-footer"],["src","/assets/img/home/loan-percent.svg"],[1,"ml-3","account-amount"],[3,"money"],[1,"p2"],[1,"loan-iban-wrap"],[1,"account__iban"],[1,"text-muted","no-wrap"],["src","/assets/icons/arrow-right.svg",1,"account-arrow"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Rc(1,Et,7,2,"div",1),S.Rc(2,xt,1,0,"img",2),S.Vb(),S.Wb(3,"div",3),S.Rb(4,"img",4),S.Wb(5,"h4",5),S.Rb(6,"j-money",6),S.Vb(),S.Vb()),2&t&&(S.Ab(1),S.uc("ngIf",e.loan),S.Ab(1),S.uc("ngIf",e.isRoutable),S.Ab(4),S.uc("money",e.balance))},directives:[a.u,st.a],styles:["[_nghost-%COMP%]{background:#fff;border-radius:12px;display:-webkit-inline-box;display:inline-flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;-webkit-box-pack:justify;justify-content:space-between;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;padding:20px;min-width:285px;min-height:145px;cursor:pointer;margin-bottom:1rem;margin-right:1rem}[_nghost-%COMP%]:hover{box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04)}.account-header[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:baseline;align-items:baseline}.account-footer[_ngcontent-%COMP%], .account-header[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.account-footer[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center;-webkit-box-pack:start;justify-content:flex-start}.account-amount[_ngcontent-%COMP%]{margin:0}@media(min-width:1280px){.account-amount[_ngcontent-%COMP%]{font-size:24px}}.account-img[_ngcontent-%COMP%]{border-radius:.5rem;margin-right:1rem}.account__iban[_ngcontent-%COMP%]{display:block}.loan-iban-wrap[_ngcontent-%COMP%]{max-width:calc(100% - 1rem)}"]}),t})();var wt=n("4cI0"),Rt=n("dnqU");const Vt=function(){return{width:"100px",height:"30px","margin-top":"2rem","background-color":"#ECEEF1"}},Mt=function(){return{width:"285px",height:"145px","margin-right":"1rem","background-color":"#ECEEF1"}};function kt(t,e){1&t&&(S.Ub(0),S.Rb(1,"ngx-skeleton-loader",2),S.Rb(2,"br"),S.Rb(3,"ngx-skeleton-loader",3),S.Tb()),2&t&&(S.Ab(1),S.uc("theme",S.yc(2,Vt)),S.Ab(2),S.uc("theme",S.yc(3,Mt)))}function Wt(t,e){if(1&t){const t=S.Xb();S.Wb(0,"j-account-box",14),S.ic("click",(function(n){S.Ic(t);const a=e.$implicit;return S.mc(3).navigateToAccount(a)})),S.Vb()}2&t&&S.uc("account",e.$implicit)}function Nt(t,e){1&t&&S.Rb(0,"j-account-box-in-progress",15),2&t&&S.uc("currencyCode",e.$implicit)}function Lt(t,e){if(1&t&&(S.Wb(0,"div",16),S.Tc(1),S.Vb()),2&t){const t=S.mc(3);S.Ab(1),S.Uc(t.accountsError)}}function Dt(t,e){if(1&t){const t=S.Xb();S.Ub(0),S.Wb(1,"div",7),S.Wb(2,"div",8),S.Tc(3,"ACCOUNTS.REGULARS "),S.Vb(),S.Wb(4,"j-open-additional-account",9),S.ic("added",(function(e){return S.Ic(t),S.mc(2).loadAccountsInProgress()})),S.Vb(),S.Vb(),S.Wb(5,"div",10),S.Rc(6,Wt,1,1,"j-account-box",11),S.Rc(7,Nt,1,1,"j-account-box-in-progress",12),S.nc(8,"async"),S.Rc(9,Lt,2,1,"div",13),S.Vb(),S.Tb()}if(2&t){const t=S.mc(2);S.Ab(6),S.uc("ngForOf",t.accounts),S.Ab(1),S.uc("ngForOf",S.oc(8,3,t.accountsInProgress)),S.Ab(2),S.uc("ngIf",t.accountsError)}}function jt(t,e){if(1&t){const t=S.Xb();S.Wb(0,"j-card-box",18),S.ic("click",(function(n){S.Ic(t);const a=e.$implicit;return S.mc(3).navigateToCorporateCard(a)})),S.Vb()}2&t&&S.uc("card",e.$implicit)}function Ft(t,e){if(1&t&&(S.Wb(0,"div",16),S.Tc(1),S.Vb()),2&t){const t=S.mc(3);S.Ab(1),S.Uc(t.cardsError)}}function Ut(t,e){if(1&t&&(S.Wb(0,"div",4),S.Wb(1,"div",8),S.Tc(2,"ACCOUNTS.CARDS "),S.Vb(),S.Wb(3,"div",10),S.Rc(4,jt,1,1,"j-card-box",17),S.Rc(5,Ft,2,1,"div",13),S.Vb(),S.Vb()),2&t){const t=S.mc(2);S.Ab(4),S.uc("ngForOf",t.cards),S.Ab(1),S.uc("ngIf",t.cardsError)}}function Gt(t,e){if(1&t){const t=S.Xb();S.Wb(0,"j-deposit-box",21),S.ic("click",(function(n){S.Ic(t);const a=e.$implicit;return S.mc(3).navigateToDeposit(a)})),S.Vb()}2&t&&S.uc("deposit",e.$implicit)}function Bt(t,e){if(1&t&&(S.Wb(0,"div",4),S.Wb(1,"div",19),S.Tc(2),S.nc(3,"translate"),S.Vb(),S.Wb(4,"div",10),S.Rc(5,Gt,1,1,"j-deposit-box",20),S.Vb(),S.Vb()),2&t){const t=S.mc(2);S.Ab(2),S.Vc(" ",S.oc(3,2,"DEPOSITS.TITLE")," "),S.Ab(3),S.uc("ngForOf",t.deposits)}}function Ht(t,e){if(1&t){const t=S.Xb();S.Wb(0,"j-loan-box",23),S.ic("click",(function(n){S.Ic(t);const a=e.$implicit;return S.mc(3).navigateToLoan(a)})),S.Vb()}2&t&&S.uc("loan",e.$implicit)}function Yt(t,e){if(1&t&&(S.Wb(0,"div",4),S.Wb(1,"div",8),S.Tc(2,"ACCOUNTS.LOANS "),S.Vb(),S.Wb(3,"div",10),S.Rc(4,Ht,1,1,"j-loan-box",22),S.Vb(),S.Vb()),2&t){const t=S.mc(2);S.Ab(4),S.uc("ngForOf",t.loans)}}function Kt(t,e){if(1&t){const t=S.Xb();S.Wb(0,"j-empty-placeholder",24),S.ic("retried",(function(e){return S.Ic(t),S.mc(2).loadLists()})),S.Vb()}2&t&&S.uc("hasRetry",!0)}function $t(t,e){if(1&t&&(S.Wb(0,"div"),S.Wb(1,"div",4),S.Rc(2,Dt,10,5,"ng-container",1),S.Vb(),S.Rc(3,Ut,6,2,"div",5),S.Rc(4,Bt,6,4,"div",5),S.Rc(5,Yt,5,1,"div",5),S.Rc(6,Kt,1,1,"j-empty-placeholder",6),S.Vb()),2&t){const t=S.mc();S.Ab(2),S.uc("ngIf",(null==t.accounts?null:t.accounts.length)>0),S.Ab(1),S.uc("ngIf",(null==t.cards?null:t.cards.length)>0),S.Ab(1),S.uc("ngIf",(null==t.deposits?null:t.deposits.length)>0),S.Ab(1),S.uc("ngIf",(null==t.loans?null:t.loans.length)>0),S.Ab(1),S.uc("ngIf",0==(null==t.accounts?null:t.accounts.length)&&0==(null==t.cards?null:t.cards.length)&&0==(null==t.deposits?null:t.deposits.length)&&0==(null==t.loans?null:t.loans.length))}}function Qt(t,e){1&t&&S.Rb(0,"j-exchange-rates")}let Xt=(()=>{class t{constructor(t,e,n,a,i,o,c,s,r,l){this.companyService=t,this.accountsService=e,this.cardsService=n,this.loanService=a,this.router=i,this.route=o,this.authService=c,this.tourService=s,this.featureFlagsService=r,this.additionalAccountsService=l,this.accountsError="",this.cardsError="",this.subscription=new x.a,this.isAccountsLoading=!1,this.pendingCardRequest=null,this.pendingLoanRequest=null,this.pendingAccountsRequest=null,this.tourStartId=null,this.isExchangeRatesVisible=!1,this.isLoansVisible=!1;const d=this.route.paramMap.pipe(Object(y.a)(()=>window.history.state)).subscribe(t=>{this.tourStartId=t.tourStartId,this.initTour()}),b=this.tourService.onTourStart$.subscribe(t=>{this.tourStartId=t,t&&this.initTour()});this.subscription.add(d),this.subscription.add(b),this.getExchangeRatesFlag()}getExchangeRatesFlag(){this.isExchangeRatesVisible=!this.featureFlagsService.isDisabled(h.a.CURRENCY_RATES),this.isLoansVisible=!this.featureFlagsService.isDisabled(h.a.LOANS_VIEW),this.subscription.add(this.featureFlagsService.featureFlags$.subscribe(t=>{var e,n;this.isExchangeRatesVisible=!0===(null===(e=t.find(t=>t.key===h.a.CURRENCY_RATES))||void 0===e?void 0:e.active)||!1,this.isLoansVisible=!0===(null===(n=t.find(t=>t.key===h.a.LOANS_VIEW))||void 0===n?void 0:n.active)||!1,this.isLoansVisible&&this.loadLoans()}))}ngOnInit(){this.accountsStore=this.accountsService.store,this.accountsStore.items$.subscribe(t=>{this.accountsError="",this.mapAccountsAndDeposits(t)},t=>{this.accountsError=t.desciption||t.code||t}),this.subscription.add(this.companyService.refresh$.subscribe(t=>{const[e,n,a]=t;a?this.loadLists():(this.authService.logout(),this.accounts=null,this.cards=null,this.accountsInProgress=null)}))}ngOnDestroy(){this.subscription.unsubscribe()}mapAccountsAndDeposits(t){this.applyMigratedAccountsRule(t),this.accounts=t.filter(t=>t.accountType===P.a.ACCOUNT),this.deposits=t.filter(t=>t.accountType===P.a.DEPOSIT),this.accounts.filter(t=>t.hasAtfIban).length>0?this.applyFirstAtfAccountsRule(this.accounts):this.deposits.filter(t=>t.hasAtfIban).length>0&&this.applyFirstAtfAccountsRule(this.deposits),this.tourStartId=this.tourService.onTourStart$.value,this.initTour()}loadLists(){return Object(E.a)(this,void 0,void 0,(function*(){this.isLoansVisible&&this.loadLoans(),this.loadCards(),this.loadAccountsInProgress()}))}loadAccountsInProgress(){this.accountsInProgress=this.additionalAccountsService.getAdditionalAccountsInProgress()}loadAccountsAndDeposits(){return Object(E.a)(this,void 0,void 0,(function*(){this.accounts=null,this.deposits=null,this.isAccountsLoading=!0;try{const t=yield this.accountsService.getAccounts(this.companyService.currentId);this.applyMigratedAccountsRule(t),this.accounts=t.filter(t=>t.accountType===P.a.ACCOUNT),this.deposits=t.filter(t=>t.accountType===P.a.DEPOSIT),this.accounts.filter(t=>t.hasAtfIban).length>0?this.applyFirstAtfAccountsRule(this.accounts):this.deposits.filter(t=>t.hasAtfIban).length>0&&this.applyFirstAtfAccountsRule(this.deposits),this.tourStartId=this.tourService.onTourStart$.value,this.initTour()}catch(t){this.accountsError=t.desciption||t.code||t}finally{this.isAccountsLoading=!1}}))}initTour(){switch(this.tourStartId){case"HOME":this.tourService.startTour(R.e.HOME);break;case"REQUISITES":this.tourService.startTour(R.e.REQUISITES_HOME);break;case"STATEMENT":this.tourService.startTour(R.e.STATEMENTS_HOME);break;case"HISTORY":this.tourService.startTour(R.e.HISTORY_HOME);break;case"IMPORT":this.tourService.startTour(R.e.IMPORT);break;case"CREATE_PAYMENT":this.tourService.startTour(R.e.CREATE_PAYMENT)}this.tourStartId=null}navigateToAccount(t){let e;switch(this.tourService.onTourStart$.value){case"REQUISITES":e="REQUISITES_HOME.ACCOUNT";break;case"STATEMENT":e="STATEMENTS_HOME.ACCOUNT"}this.tourService.onTourStart$.next(null),this.router.navigate([`/accounts/${t.iban}`],{relativeTo:this.route,state:{tourStep:e}})}navigateToDeposit(t){this.router.navigate([`/deposits/${t.iban}`],{relativeTo:this.route})}navigateToCorporateCard(t){this.router.navigate([`/cards/${t.cardId}`])}get accounts$(){return this.accountsStore.items$.pipe(Object(y.a)(t=>t.filter(t=>t.accountType===P.a.ACCOUNT)))}applyFirstAtfAccountsRule(t){t.find(t=>t.hasAtfIban).isFirstAtfInTheList=!0}applyMigratedAccountsRule(t){t.find(t=>t.isMigrated)&&this.accountsService.retrieveMergeDate()}loadCards(){this.pendingCardRequest&&this.pendingCardRequest.unsubscribe(),this.cards=null,this.pendingCardRequest=this.cardsService.getCorporateCardsAsObservable().subscribe(t=>{this.cards=t.filter(t=>t.category===w.a.COMMERCIAL),this.pendingCardRequest=null})}loadLoans(){this.pendingLoanRequest&&this.pendingLoanRequest.unsubscribe(),this.loans=null,this.pendingLoanRequest=this.loanService.getLoansAsObservable().subscribe(t=>{this.loans=t,this.pendingLoanRequest=null})}navigateToLoan(t){this.router.navigate([`/loans/${t.id}`])}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(_.a),S.Qb(P.c),S.Qb(V.a),S.Qb(M.a),S.Qb(p.c),S.Qb(p.a),S.Qb(C.a),S.Qb(R.g),S.Qb(h.b),S.Qb(N))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-accounts-list"]],decls:5,vars:3,consts:[[1,"accounts-block"],[4,"ngIf"],[3,"theme"],["count","2",3,"theme"],[1,"accounts-wrap"],["class","accounts-wrap",4,"ngIf"],["label","ACCOUNTS.EMPTY_STATE",3,"hasRetry","retried",4,"ngIf"],[1,"d-flex","align-items-baseline"],["translate","",1,"accounts-heading"],[3,"added"],[1,"accounts-list"],[3,"account","click",4,"ngFor","ngForOf"],[3,"currencyCode",4,"ngFor","ngForOf"],["class","alert alert-danger",4,"ngIf"],[3,"account","click"],[3,"currencyCode"],[1,"alert","alert-danger"],[3,"card","click",4,"ngFor","ngForOf"],[3,"card","click"],[1,"accounts-heading"],[3,"deposit","click",4,"ngFor","ngForOf"],[3,"deposit","click"],[3,"loan","click",4,"ngFor","ngForOf"],[3,"loan","click"],["label","ACCOUNTS.EMPTY_STATE",3,"hasRetry","retried"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Wb(1,"div"),S.Rc(2,kt,4,4,"ng-container",1),S.Rc(3,$t,7,5,"div",1),S.Vb(),S.Rc(4,Qt,1,0,"j-exchange-rates",1),S.Vb()),2&t&&(S.Ab(2),S.uc("ngIf",e.accountsStore.fetching),S.Ab(1),S.uc("ngIf",!e.accountsStore.fetching),S.Ab(1),S.uc("ngIf",e.isExchangeRatesVisible))},directives:[a.u,l.a,L.a,it,a.t,Tt,yt,_t,It,Pt,wt.a,Rt.a],pipes:[a.b,L.d],styles:[".accounts-block[_ngcontent-%COMP%]{display:grid;row-gap:1rem}@media(min-width:670px){.accounts-block[_ngcontent-%COMP%]{grid-template-columns:1fr 295px}}.accounts-wrap[_ngcontent-%COMP%]{margin:2rem 0}.accounts-heading[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin-bottom:1rem}.accounts-list[_ngcontent-%COMP%]{min-height:145px;position:relative}.deposit-item[_ngcontent-%COMP%]{cursor:default!important}"]}),t})();var qt=n("R0Ic"),zt=n("aDQ/"),Jt=n("paXB"),Zt=n("7/bn"),te=n("oMXN"),ee=n("EiG8"),ne=n("aZ8m");let ae=(()=>{class t{constructor(){}prepareRoute(t){return t&&t.activatedRouteData&&t.activatedRouteData.animation}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-home"]],decls:8,vars:0,consts:[[1,"row"],[1,"col-lg-10","offset-lg-1","col-xl-8","offset-xl-2"]],template:function(t,e){1&t&&(S.Wb(0,"j-layout-home"),S.Wb(1,"j-aside"),S.Rb(2,"j-nav-main"),S.Vb(),S.Wb(3,"j-main"),S.Wb(4,"section",0),S.Wb(5,"section",1),S.Rb(6,"j-header"),S.Rb(7,"router-outlet"),S.Vb(),S.Vb(),S.Vb(),S.Vb())},directives:[Jt.a,Zt.a,te.a,ee.a,ne.a,p.h],styles:[""],encapsulation:2,data:{animation:[Object(qt.o)("routeAnimations",[Object(qt.n)("* => slideRouteAnimations",Object(qt.p)(zt.a))])]}}),t})();var ie=n("IzEk"),oe=n("9N4E"),ce=n("y5b2"),se=n("jZlK"),re=n("iCQh"),le=n("bsP8"),de=n("S1F0"),be=n("oKsb"),ue=n("zdqJ"),me=n("fvpk"),pe=n("Tile"),he=n("THGi"),ge=n("S09V"),fe=n("7rOj"),Te=n("VO+5"),ye=n("Dvla");function ve(t,e){if(1&t){const t=S.Xb();S.Wb(0,"div"),S.Wb(1,"div",18),S.Wb(2,"div",3),S.Rb(3,"div",19),S.Wb(4,"button",5),S.ic("loaded",(function(e){return S.Ic(t),S.mc().onAccountLoad(e)}))("failed",(function(e){return S.Ic(t),S.mc().onAccountFail()}))("click",(function(e){return S.Ic(t),S.mc().onQrService(e)})),S.Rb(5,"span",6),S.Rb(6,"span",7),S.Vb(),S.Vb(),S.Rb(7,"img",8),S.Vb(),S.Vb()}2&t&&(S.Ab(5),S.uc("inlineSVG","assets/icons/account/print.svg"))}function Se(t,e){1&t&&(S.Wb(0,"h6",20),S.Tc(1),S.nc(2,"translate"),S.Vb()),2&t&&(S.Ab(1),S.Uc(S.oc(2,1,"ACCOUNTS.REQUISITES.LIST_TITLE")))}function _e(t,e){if(1&t&&(S.Wb(0,"div",21),S.Wb(1,"div",22),S.Tc(2),S.nc(3,"translate"),S.Vb(),S.Wb(4,"div",23),S.Tc(5),S.Vb(),S.Vb()),2&t){const t=e.$implicit;S.Ab(2),S.Vc(" ",S.oc(3,2,t.label),": "),S.Ab(3),S.Vc(" ",t.value," ")}}function Ae(t,e){if(1&t&&(S.Wb(0,"div",21),S.Wb(1,"div",22),S.Tc(2),S.nc(3,"translate"),S.Vb(),S.Wb(4,"div",23),S.Tc(5),S.Vb(),S.Vb()),2&t){const t=e.$implicit;S.Ab(2),S.Vc(" ",S.oc(3,2,t.label),": "),S.Ab(3),S.Vc(" ",t.value," ")}}function Ce(t,e){if(1&t&&(S.Wb(0,"div",24),S.Wb(1,"h6",20),S.Tc(2),S.nc(3,"translate"),S.Vb(),S.Rc(4,Ae,6,4,"div",11),S.Vb()),2&t){const t=S.mc();S.Ab(2),S.Uc(S.oc(3,2,"ACCOUNTS.REQUISITES.LIST_OLD_TITLE")),S.Ab(2),S.uc("ngForOf",t.oldList)}}let Oe=(()=>{class t{constructor(t,e,n,a,i,o,c,s,r){this.companyService=t,this.bankFromAccount=e,this.maskPipe=n,this.formatIban=a,this.translateService=i,this.notifierService=o,this.accountsService=c,this.filesService=s,this.featureFlagsService=r,this.isLoaded=!1,this.knp="",this.isQrVisible=!1,this.subscription=new x.a}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.generateList(),this.generateOldList(),this.generateTextToCopy(),this.isLoaded=!0,this.initFeatureFlagsSubscription()}get hasAtfIban(){var t;return(null===(t=this.account)||void 0===t?void 0:t.hasAtfIban)||!1}onAccountLoad(t){this.init(t)}onAccountFail(){this.isLoaded=!0,this.errorText=this.appendTranslationPrefix("FAILED")}onCopy(){this.notifierService.notify("default",this.translateService.instant(this.appendTranslationPrefix("COPIED")))}onDownload(){return Object(E.a)(this,void 0,void 0,(function*(){try{const t=yield this.accountsService.getPdf(this.companyService.currentId,this.account.iban);this.filesService.downloadFile(t,`${this.account.iban}.pdf`)}catch(t){console.error(t)}}))}generateList(){var t,e,n,a;this.list=[{label:this.appendTranslationPrefix("COMPANY"),value:this.companyService.currentCompany.name},{label:this.appendTranslationPrefix("IIN"),valueToCopy:this.companyService.currentCompany.bin,value:this.maskPipe.transform(this.companyService.currentCompany.bin,ge.a.iin.mask)},{label:this.appendTranslationPrefix("KBE"),value:this.companyService.currentCompany.kod},{label:this.appendTranslationPrefix("IBAN"),valueToCopy:null===(t=this.account)||void 0===t?void 0:t.iban,value:this.formatIban.transform(null===(e=this.account)||void 0===e?void 0:e.iban)},{label:this.appendTranslationPrefix("BANK"),value:this.bankFromAccount.transform(null===(n=this.account)||void 0===n?void 0:n.iban,"name")},{label:this.appendTranslationPrefix("BIC"),value:this.bankFromAccount.transform(null===(a=this.account)||void 0===a?void 0:a.iban,"bic")}]}generateOldList(){var t;const e=null===(t=this.account)||void 0===t?void 0:t.alterCode;this.oldList=[{label:this.appendTranslationPrefix("IBAN"),valueToCopy:e,value:this.formatIban.transform(e)},{label:this.appendTranslationPrefix("BANK"),value:this.bankFromAccount.transform(e,"name")},{label:this.appendTranslationPrefix("BIC"),value:this.bankFromAccount.transform(e,"bic")}]}generateTextToCopy(){this.textToCopy=this.list.map(t=>{if(t.value||t.valueToCopy)return`${this.translateService.instant(t.label)}: ${t.valueToCopy||t.value}`}).join("\n")}appendTranslationPrefix(t){return`ACCOUNTS.REQUISITES.${t}`}init(t){return Object(E.a)(this,void 0,void 0,(function*(){this.account=t,this.generateRequisites(),this.generateTextToCopy(),this.isLoaded=!0}))}loadQr(){return Object(E.a)(this,void 0,void 0,(function*(){const t=this.companyService.currentCompany.kod;this.qrFile=yield this.accountsService.getQrPrint(this.account.id,this.account.iban,t,this.knp)}))}onQrService(t){t.preventDefault(),this.knp="859",this.loadQr(),this.filesService.downloadFile(this.qrFile,`${this.companyService.currentCompany.shortName} \n      ${this.translateService.instant(this.appendTranslationPrefix("QR.PRINT_SERVICE"))}.jpg`)}onQrProduct(t){t.preventDefault(),this.knp="710",this.loadQr(),this.filesService.downloadFile(this.qrFile,`${this.companyService.currentCompany.shortName} \n      ${this.translateService.instant(this.appendTranslationPrefix("QR.PRINT_PRODUCT"))}`)}initFeatureFlagsSubscription(){this.featureFlagsService.featureFlags$.subscribe(()=>{var t,e;this.isQrVisible=!this.featureFlagsService.isDisabled(h.a.ACCOUNT_QR)&&"ACCOUNT"===this.account.accountType&&(null===(t=this.account.balance)||void 0===t?void 0:t.currency)&&"KZT"===(null===(e=this.account.balance)||void 0===e?void 0:e.currency)})}generateRequisites(){this.requisites=[{label:this.appendTranslationPrefix("OWNER"),value:this.account.iban},{label:this.appendTranslationPrefix("KBE"),value:this.companyService.currentCompany.kod},{label:this.appendTranslationPrefix("IBAN"),value:this.formatIban.transform(this.account.iban),valueToCopy:this.account.iban},{label:this.appendTranslationPrefix("BANK"),value:this.bankFromAccount.transform(this.account.iban,"name")},{label:this.appendTranslationPrefix("BIC"),value:this.bankFromAccount.transform(this.account.iban,"bic")}]}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(_.a),S.Qb(fe.b),S.Qb(s.b),S.Qb(fe.d),S.Qb(L.e),S.Qb(Te.c),S.Qb(P.c),S.Qb(re.a),S.Qb(h.b))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-requisites"]],inputs:{account:"account"},decls:22,vars:8,consts:[["jTour","REQUISITES.QR","jTourPosition","right",1,"info","mb-3"],[4,"ngIf"],[1,"qr"],[1,"qr__info"],["translate","ACCOUNTS.REQUISITES.QR.PRODUCT"],[1,"btn","btn-link","qr__print","p3",3,"loaded","failed","click"],[1,"mr-2",3,"inlineSVG"],["translate","ACCOUNTS.REQUISITES.QR.PRINT"],["src","/assets/img/cards/qr.png",1,"qr__img"],["jTour","REQUISITES.INFO","jTourPosition","right",1,"info","mb-3"],["class","mb-3",4,"ngIf"],["class","j-desc-row",4,"ngFor","ngForOf"],[1,"requisites__footer"],[1,"requisites__button","btn","btn-outline-primary","btn-md",3,"click"],[3,"inlineSVG"],["translate","",1,"ml-2"],["ngxClipboard","",1,"requisites__button","btn","btn-outline-primary","btn-md",3,"cbContent","click"],["class","info","jTour","REQUISITES.OLD","jTourPosition","right",4,"ngIf"],[1,"qr","mb-4"],["translate","ACCOUNTS.REQUISITES.QR.SERVICE"],[1,"mb-3"],[1,"j-desc-row"],[1,"j-desc-child","text-muted"],[1,"j-desc-child","text-dark"],["jTour","REQUISITES.OLD","jTourPosition","right",1,"info"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Rc(1,ve,8,1,"div",1),S.Wb(2,"div",2),S.Wb(3,"div",3),S.Rb(4,"div",4),S.Wb(5,"button",5),S.ic("loaded",(function(t){return e.onAccountLoad(t)}))("failed",(function(t){return e.onAccountFail()}))("click",(function(t){return e.onQrProduct(t)})),S.Rb(6,"span",6),S.Rb(7,"span",7),S.Vb(),S.Vb(),S.Rb(8,"img",8),S.Vb(),S.Vb(),S.Wb(9,"div",9),S.Rc(10,Se,3,3,"h6",10),S.Rc(11,_e,6,4,"div",11),S.Wb(12,"div",12),S.Wb(13,"button",13),S.ic("click",(function(t){return e.onDownload()})),S.Rb(14,"div",14),S.Wb(15,"strong",15),S.Tc(16,"ACCOUNTS.REQUISITES.DOWNLOAD"),S.Vb(),S.Vb(),S.Wb(17,"button",16),S.ic("click",(function(t){return e.onCopy()})),S.Rb(18,"div",14),S.Wb(19,"strong",15),S.Tc(20,"ACCOUNTS.REQUISITES.COPY"),S.Vb(),S.Vb(),S.Vb(),S.Vb(),S.Rc(21,Ce,5,4,"div",17)),2&t&&(S.Ab(1),S.uc("ngIf",e.isQrVisible),S.Ab(5),S.uc("inlineSVG","assets/icons/account/print.svg"),S.Ab(4),S.uc("ngIf",e.hasAtfIban),S.Ab(1),S.uc("ngForOf",e.list),S.Ab(3),S.uc("inlineSVG","assets/icons/account/pdf.svg"),S.Ab(3),S.uc("cbContent",e.textToCopy),S.Ab(1),S.uc("inlineSVG","assets/icons/account/copy.svg"),S.Ab(3),S.uc("ngIf",e.hasAtfIban))},directives:[ue.a,a.u,L.a,q.a,a.t,ye.a],pipes:[L.d],styles:[".info[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0;background:#fff;border-radius:.75rem;max-width:435px}.requisites__button[_ngcontent-%COMP%]{margin-top:1rem;-webkit-box-pack:center;justify-content:center;min-width:calc(50% - .5rem)}.qr[_ngcontent-%COMP%], .requisites__button[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.qr[_ngcontent-%COMP%]{-webkit-box-pack:justify;justify-content:space-between}.qr[_ngcontent-%COMP%], .qr__print[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center}.qr__print[_ngcontent-%COMP%]{background:none;border:0;outline:0;color:#666c72;display:-webkit-inline-box;display:inline-flex;margin-top:.5rem;padding:0}.qr__print[_ngcontent-%COMP%], .qr__print[_ngcontent-%COMP%]:hover{-webkit-transform:none;transform:none}.qr__print[_ngcontent-%COMP%]:hover{color:#ef5630}.qr__img[_ngcontent-%COMP%]{width:53px}.requisites__footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}"]}),t})();var Ie=n("G54m"),Ee=n("YMfE"),xe=n("Bl/x"),Pe=n("M6pS"),we=n("9odQ");function Re(t,e){if(1&t&&(S.Wb(0,"div",18),S.Rb(1,"input",19),S.Wb(2,"label",20),S.Tc(3),S.Vb(),S.Vb()),2&t){const t=e.$implicit;S.Ab(1),S.uc("id",t.id)("value",t.value),S.Ab(1),S.uc("for",t.id),S.Ab(1),S.Uc(t.label)}}function Ve(t,e){if(1&t){const t=S.Xb();S.Wb(0,"a",24),S.ic("click",(function(e){S.Ic(t);const n=S.mc().index;return S.mc(2).deleteEmail(e,n)})),S.Vb()}2&t&&S.uc("inlineSVG","assets/icons/shared/delete.svg")}function Me(t,e){if(1&t&&(S.Wb(0,"div",21),S.Rb(1,"j-input",22),S.nc(2,"translate"),S.nc(3,"translate"),S.Rc(4,Ve,1,1,"a",23),S.Vb()),2&t){const t=e.$implicit,n=e.index,a=S.mc(2);S.Ab(1),S.uc("label",S.oc(2,6,"ACCOUNTS.EXPORT.EMAIL.TITLE"))("name","exportEmail"+n)("formControl",t)("errorText",S.oc(3,8,a.mapEmailErrorText(t.errors)))("hasError",t.errors&&a.isSubmitted),S.Ab(3),S.uc("ngIf",n>0)}}function ke(t,e){if(1&t){const t=S.Xb();S.Wb(0,"a",25),S.ic("click",(function(e){return S.Ic(t),S.mc(2).addEmail(e)})),S.Tc(1," ACCOUNTS.EXPORT.EMAIL.ADD "),S.Vb()}}function We(t,e){if(1&t){const t=S.Xb();S.Wb(0,"form",1),S.Wb(1,"div",2),S.Rb(2,"j-switch",3),S.Wb(3,"span",4),S.Wb(4,"strong",5),S.Tc(5),S.Vb(),S.Rb(6,"br"),S.Wb(7,"small",6),S.Tc(8),S.Vb(),S.Vb(),S.Vb(),S.Wb(9,"div",7),S.Wb(10,"div",8),S.Wb(11,"div",9),S.Wb(12,"strong",10),S.Tc(13,"ACCOUNTS.EXPORT.FILE_FORMAT"),S.Vb(),S.Wb(14,"div",11),S.Rc(15,Re,4,4,"div",12),S.Vb(),S.Vb(),S.Wb(16,"div",9),S.Wb(17,"strong",10),S.Tc(18,"ACCOUNTS.EXPORT.EMAIL.TITLE"),S.Vb(),S.Wb(19,"div",13),S.Tc(20," ACCOUNTS.EXPORT.EMAIL.DESCRIPTION "),S.Vb(),S.Rc(21,Me,5,10,"div",14),S.Rc(22,ke,2,0,"a",15),S.Vb(),S.Wb(23,"div",16),S.Wb(24,"button",17),S.ic("click",(function(e){return S.Ic(t),S.mc().onSubmit()})),S.Tc(25,"SHARED.SAVE"),S.Vb(),S.Vb(),S.Vb(),S.Vb(),S.Vb()}if(2&t){const t=S.mc();S.uc("formGroup",t.subscriptionForm),S.Ab(5),S.Uc(t.title),S.Ab(3),S.Uc(t.description),S.Ab(1),S.uc("@smoothCollapse",t.isCollapsed?"final":"initial"),S.Ab(6),S.uc("ngForOf",t.fileTypes),S.Ab(6),S.uc("ngForOf",t.emailControls),S.Ab(1),S.uc("ngIf",t.emailControls.length<3),S.Ab(2),S.uc("disabled",t.isLoading)("jLoading",t.isLoading)}}let Ne=(()=>{class t{constructor(){this.deleted=new S.n,this.submitted=new S.n,this.isSubmitted=!1,this.fileTypes=[{label:"PDF",value:"PDF",id:Object(Ee.generateUniqueId)()},{label:"EXL",value:"XLSX",id:Object(Ee.generateUniqueId)()},{label:"1C",value:"ONE_C",id:Object(Ee.generateUniqueId)()},{label:"XML",value:"XML",id:Object(Ee.generateUniqueId)()},{label:"MT940",value:"MT940",id:Object(Ee.generateUniqueId)()}],this.FORM_DEFAULTS={enabled:!1,id:null,emails:[""],exportType:Ie.a.PDF}}ngOnChanges(t){var e,n,a,i,o,c;t.isLoading&&(t.isLoading.currentValue?null===(e=this.subscriptionForm)||void 0===e||e.disable():null===(n=this.subscriptionForm)||void 0===n||n.enable()),t.savedSubscription&&(null===(a=this.subscriptionForm)||void 0===a||a.patchValue({id:(null===(i=this.savedSubscription)||void 0===i?void 0:i.id)||this.f.id.value||this.FORM_DEFAULTS.id,emails:(null===(o=this.savedSubscription)||void 0===o?void 0:o.emails)||this.f.emails.value||this.FORM_DEFAULTS.emails,exportType:(null===(c=this.savedSubscription)||void 0===c?void 0:c.exportType)||this.f.exportType.value||this.FORM_DEFAULTS.exportType}))}ngOnInit(){var t,e,n,a;const o={enabled:!(null===(t=this.savedSubscription)||void 0===t||!t.id),id:(null===(e=this.savedSubscription)||void 0===e?void 0:e.id)||this.FORM_DEFAULTS.id,emails:(null===(n=this.savedSubscription)||void 0===n?void 0:n.emails)||this.FORM_DEFAULTS.emails,exportType:(null===(a=this.savedSubscription)||void 0===a?void 0:a.exportType)||this.FORM_DEFAULTS.exportType};this.subscriptionForm=new i.k({switch:new i.h(o.enabled),id:new i.h(o.id),emails:new i.e(o.emails.map(t=>new i.h(t,[i.H.email,i.H.required]))),exportType:new i.h(o.exportType)}),this.isLoading&&this.subscriptionForm.disable(),this.subscriptionForm.valueChanges.subscribe(t=>{this.isSubmitted=!1,0==t.switch&&(this.deleted.emit(this.f.id.value),this.clearFormArray(this.f.emails),this.subscriptionForm.reset(this.FORM_DEFAULTS))})}onSubmit(){this.isSubmitted=!0,this.subscriptionForm.invalid||this.submitted.emit(this.subscriptionForm.getRawValue())}addEmail(t){t.preventDefault(),this.isLoading||3==this.emailControls.length||(this.isSubmitted=!1,this.emailControls.push(new i.h("",[i.H.email,i.H.required])))}deleteEmail(t,e){t.preventDefault(),this.isLoading||this.emailControls.splice(e,1)}mapEmailErrorText(t){var e;return(null===(e=t)||void 0===e?void 0:e.email)?"ERRORS.WRONG_FORMAT":null}clearFormArray(t){for(;1!==t.length;)t.removeAt(0)}get isCollapsed(){var t,e,n;return 1==(null===(n=null===(e=null===(t=this.subscriptionForm)||void 0===t?void 0:t.controls)||void 0===e?void 0:e.switch)||void 0===n?void 0:n.value)}get emailControls(){return this.f.emails.controls}get f(){var t;return null===(t=this.subscriptionForm)||void 0===t?void 0:t.controls}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=S.Kb({type:t,selectors:[["j-account-subscription"]],inputs:{title:"title",isLoading:"isLoading",description:"description",savedSubscription:"savedSubscription"},outputs:{deleted:"deleted",submitted:"submitted"},features:[S.yb()],decls:1,vars:1,consts:[["class","export",3,"formGroup",4,"ngIf"],[1,"export",3,"formGroup"],[1,"export__header"],["formControlName","switch"],[1,"ml-3"],["translate",""],["translate","",1,"text-gray"],[1,"export__body"],[1,"export__form"],[1,"form-group"],["translate","",1,"export__label","p2"],[1,"export__types"],["class","export__radio",4,"ngFor","ngForOf"],["translate","",1,"p3","text-muted","export__description"],["class","export__email",4,"ngFor","ngForOf"],["href","#","class","export__add-email link-blue","translate","",3,"click",4,"ngIf"],[1,"export__submit"],["type","submit","translate","",1,"btn","btn-primary",3,"disabled","jLoading","click"],[1,"export__radio"],["type","radio","formControlName","exportType","name","exportType",3,"id","value"],[1,"btn","btn-sm",3,"for"],[1,"export__email"],[3,"label","name","formControl","errorText","hasError"],["href","#","class","export__delete-email",3,"inlineSVG","click",4,"ngIf"],["href","#",1,"export__delete-email",3,"inlineSVG","click"],["href","#","translate","",1,"export__add-email","link-blue",3,"click"]],template:function(t,e){1&t&&S.Rc(0,We,26,9,"form",0),2&t&&S.uc("ngIf",e.subscriptionForm)},directives:[a.u,i.J,i.u,i.l,xe.a,i.t,i.j,L.a,a.t,Pe.a,i.B,i.c,we.b,i.i,q.a],pipes:[L.d],styles:[".export[_ngcontent-%COMP%]{margin:.5rem 0 1rem;background:#fff;border-radius:.75rem}.export__header[_ngcontent-%COMP%]{padding:1rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.export__body[_ngcontent-%COMP%]{padding:0 1rem;border-top:1px solid #eceef1}.export__types[_ngcontent-%COMP%]{display:-webkit-box;display:flex}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{display:none}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]{color:#fff;background-color:#474b52;border-color:#474b52;box-shadow:none}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:hover{color:#fff;background-color:#35383e;border-color:#2f3237}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label.focus[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:focus{color:#fff;background-color:#35383e;border-color:#2f3237;box-shadow:0 0 0 .0625rem rgba(99,102,108,.5)}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label.disabled[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:disabled{color:#fff;background-color:#474b52;border-color:#474b52}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#2f3237;border-color:#292c30}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .0625rem rgba(99,102,108,.5)}.export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:active, .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:focus, .export__radio[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + label[_ngcontent-%COMP%]:hover{-webkit-transform:scale(1);transform:scale(1);color:#fff!important}.export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#212529;background-color:#fff;border-color:#d6dadf;margin-right:.5rem;margin-bottom:0;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);color:#666c72;height:35px;position:relative}.export__radio[_ngcontent-%COMP%]   label.focus[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:focus, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{color:#212529;background-color:#ececec;border-color:#b9c0c9}.export__radio[_ngcontent-%COMP%]   label.focus[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .0625rem rgba(187,191,196,.5)}.export__radio[_ngcontent-%COMP%]   label.disabled[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:disabled{color:#212529;background-color:#fff;border-color:#d6dadf}.export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active, .show[_ngcontent-%COMP%] > .export__radio[_ngcontent-%COMP%]   label.dropdown-toggle[_ngcontent-%COMP%]{color:#212529;background-color:#e6e6e6;border-color:#b2bac3}.export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:disabled):not(.disabled).active:focus, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:not(:disabled):not(.disabled):active:focus, .show[_ngcontent-%COMP%] > .export__radio[_ngcontent-%COMP%]   label.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .0625rem rgba(187,191,196,.5)}.export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:active, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:focus, .export__radio[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]:hover{color:#666c72!important;-webkit-transform:scale(1);transform:scale(1)}.export__form[_ngcontent-%COMP%]{padding-top:1rem}.form-group[_ngcontent-%COMP%]{margin-bottom:0}.form-group[_ngcontent-%COMP%] + .form-group[_ngcontent-%COMP%]{margin-top:1.5rem}.export__label[_ngcontent-%COMP%]{display:block;margin-bottom:.5rem}.export__description[_ngcontent-%COMP%]{margin-bottom:1rem}.export__add-email[_ngcontent-%COMP%]{position:relative;top:-.5rem}.export__delete-email[_ngcontent-%COMP%]{color:#b7bec5;margin:0 1rem 1rem}.export__delete-email[_ngcontent-%COMP%]:hover{color:#ef5630}.export__email[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.export__email[_ngcontent-%COMP%]   j-input[_ngcontent-%COMP%]{width:100%}.export__submit[_ngcontent-%COMP%]{padding:1rem 0;display:-webkit-box;display:flex;-webkit-box-pack:end;justify-content:flex-end}"],data:{animation:[Object(qt.o)("smoothCollapse",[Object(qt.l)("initial",Object(qt.m)({height:"0",overflow:"hidden",opacity:"0"})),Object(qt.l)("final",Object(qt.m)({overflow:"hidden",opacity:"1"})),Object(qt.n)("initial=>final",Object(qt.e)("300ms")),Object(qt.n)("final=>initial",Object(qt.e)("300ms"))])]}}),t})();function Le(t,e){if(1&t){const t=S.Xb();S.Ub(0),S.Wb(1,"j-account-subscription",1),S.ic("deleted",(function(e){return S.Ic(t),S.mc().onDeleteDaily(e)}))("submitted",(function(e){return S.Ic(t),S.mc().onDailySubmit(e)})),S.Vb(),S.Wb(2,"j-account-subscription",1),S.ic("deleted",(function(e){return S.Ic(t),S.mc().onDeleteMonthly(e)}))("submitted",(function(e){return S.Ic(t),S.mc().onMonthlySubmit(e)})),S.Vb(),S.Tb()}if(2&t){const t=S.mc();S.Ab(1),S.uc("title","ACCOUNTS.EXPORT.DAILY.TITLE")("description","ACCOUNTS.EXPORT.DAILY.DESCRIPTION")("savedSubscription",t.dailySubscription)("isLoading",t.isDailyLoading),S.Ab(1),S.uc("title","ACCOUNTS.EXPORT.MONTHLY.TITLE")("description","ACCOUNTS.EXPORT.MONTHLY.DESCRIPTION")("savedSubscription",t.monthlySubscription)("isLoading",t.isMonthlyLoading)}}let De=(()=>{class t{constructor(t,e,n){this.accountSubscriptionService=t,this.notifierService=e,this.translateService=n,this.loaded=!1,this.isDailyLoading=!0,this.isMonthlyLoading=!0}ngOnInit(){this.init()}init(){return Object(E.a)(this,void 0,void 0,(function*(){const t=yield this.accountSubscriptionService.getSubscriptions(this.account.id);this.dailySubscription=t.find(t=>t.subscriptionType===Ie.b.DAILY)||null,this.monthlySubscription=t.find(t=>t.subscriptionType===Ie.b.MONTHLY)||null,this.isDailyLoading=!1,this.isMonthlyLoading=!1,this.loaded=!0}))}onDailySubmit(t){return Object(E.a)(this,void 0,void 0,(function*(){this.isDailyLoading=!0;try{this.dailySubscription=yield this.submitSubscription(t,Ie.b.DAILY),this.notifierService.notify("default",this.translateService.instant("ACCOUNTS.EXPORT.DAILY.SUBSCRIBED"))}catch(e){this.notifierService.notify("error",e.description||e.code)}finally{this.isDailyLoading=!1}}))}onMonthlySubmit(t){return Object(E.a)(this,void 0,void 0,(function*(){this.isMonthlyLoading=!0;try{this.monthlySubscription=yield this.submitSubscription(t,Ie.b.MONTHLY),this.notifierService.notify("default",this.translateService.instant("ACCOUNTS.EXPORT.MONTHLY.SUBSCRIBED"))}catch(e){this.notifierService.notify("error",e.description||e.code)}finally{this.isMonthlyLoading=!1}}))}onDeleteDaily(t){return Object(E.a)(this,void 0,void 0,(function*(){if(!this.isDailyLoading){this.isDailyLoading=!0;try{yield this.deleteSubscription(t),this.dailySubscription=null,this.notifierService.notify("default",this.translateService.instant("ACCOUNTS.EXPORT.DAILY.UNSUBSCRIBED"))}catch(e){this.notifierService.notify("error",e.description||e.code)}finally{this.isDailyLoading=!1}}}))}onDeleteMonthly(t){return Object(E.a)(this,void 0,void 0,(function*(){if(!this.isMonthlyLoading){this.isMonthlyLoading=!0;try{yield this.deleteSubscription(t),this.monthlySubscription=null,this.notifierService.notify("default",this.translateService.instant("ACCOUNTS.EXPORT.MONTHLY.UNSUBSCRIBED"))}catch(e){this.notifierService.notify("error",e.description||e.code)}finally{this.isMonthlyLoading=!1}}}))}deleteSubscription(t){if(t)return this.accountSubscriptionService.deleteSubscription(this.account.id,t)}submitSubscription(t,e){const n={accountId:this.account.id,emails:t.emails,exportType:t.exportType,subscriptionType:e};return t.id?this.accountSubscriptionService.saveSubscription(n,t.id):this.accountSubscriptionService.createSubscription(n)}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(Ie.c),S.Qb(Te.c),S.Qb(L.e))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-account-export"]],inputs:{account:"account"},decls:1,vars:1,consts:[[4,"ngIf"],[3,"title","description","savedSubscription","isLoading","deleted","submitted"]],template:function(t,e){1&t&&S.Rc(0,Le,3,8,"ng-container",0),2&t&&S.uc("ngIf",e.loaded)},directives:[a.u,Ne],styles:[""]}),t})();function je(t,e){if(1&t){const t=S.Xb();S.Wb(0,"div",9),S.Rb(1,"div"),S.Rb(2,"div"),S.Wb(3,"div"),S.Wb(4,"span",10),S.Tc(5,"ACCOUNTS.SETTINGS.LIMIT_ALL"),S.Vb(),S.Vb(),S.Wb(6,"j-switch",11),S.ic("change",(function(e){return S.Ic(t),S.mc().onChangeAll(e)})),S.Vb(),S.Vb()}if(2&t){const t=S.mc();S.Ab(6),S.uc("value",t.isAllSelected)}}function Fe(t,e){if(1&t){const t=S.Xb();S.Wb(0,"div",12),S.Wb(1,"div",13),S.Tc(2),S.Vb(),S.Wb(3,"div",14),S.Tc(4),S.Vb(),S.Wb(5,"div",13),S.Wb(6,"span"),S.Tc(7),S.Vb(),S.Wb(8,"small",15),S.Wb(9,"span",16),S.Tc(10),S.Vb(),S.Tc(11," \u2022 "),S.Wb(12,"span",16),S.Tc(13),S.Vb(),S.Vb(),S.Vb(),S.Wb(14,"j-switch",11),S.ic("change",(function(n){S.Ic(t);const a=e.$implicit;return S.mc().onChange(n,a)})),S.Vb(),S.Vb()}if(2&t){const t=e.$implicit,n=e.index,a=S.mc();S.Ab(2),S.Uc(n+1),S.Ab(1),S.Db(t.color),S.Ab(1),S.Vc(" ",t.initials," "),S.Ab(3),S.Xc("",t.lastname||""," ",t.firstname||""," ",t.middlename||"",""),S.Ab(3),S.Uc(t.role),S.Ab(3),S.Uc(t.sign),S.Ab(1),S.uc("value",t.accountGrantType===a.grants.UNAVAILABLE)}}function Ue(t,e){if(1&t){const t=S.Xb();S.Ub(0),S.Wb(1,"div",17),S.Tc(2,"ACCOUNTS.SETTINGS.GRANTS_LOADING_ERROR"),S.Vb(),S.Wb(3,"button",18),S.ic("click",(function(e){return S.Ic(t),S.mc().getAccountGrants()})),S.Tc(4,"SHARED.REFRESH"),S.Vb(),S.Tb()}}function Ge(t,e){if(1&t){const t=S.Xb();S.Ub(0),S.Wb(1,"div",17),S.Tc(2,"ACCOUNTS.SETTINGS.NO_GRANTABLE_USERS"),S.Vb(),S.Wb(3,"button",18),S.ic("click",(function(e){return S.Ic(t),S.mc().modal.dismiss()})),S.Tc(4,"SHARED.CLOSE"),S.Vb(),S.Tb()}}let Be=(()=>{class t{constructor(t,e,n,a){this.modal=t,this.accountsService=e,this.notifierService=n,this.translateService=a,this.error=null,this.grants=P.d}ngOnInit(){this.getAccountGrants()}getAccountGrants(){return Object(E.a)(this,void 0,void 0,(function*(){try{this.users=yield this.accountsService.getAccountsGrants(this.companyId,this.accountId)}catch(t){this.error="error"}}))}onChange(t,e){return Object(E.a)(this,void 0,void 0,(function*(){try{e.accountGrantType=this.getGrantType(t.target.value),yield this.accountsService.setAccountGrant(this.companyId,this.accountId,[this.mapParams(e,e.accountGrantType)]),this.showNotificationForUser(e),this.accountsService.retrieveTotalLimitations(this.companyId,this.accountId)}catch(n){this.notifierService.notify("error",n.description||n.code||this.translateService.instant("SHARED.ACTION_ERROR"))}}))}onChangeAll(t){return Object(E.a)(this,void 0,void 0,(function*(){try{const e=this.getGrantType(t.target.value),n=this.users.map(t=>this.mapParams(t,e));yield this.accountsService.setAccountGrant(this.companyId,this.accountId,n),this.showNotification(e),this.accountsService.retrieveTotalLimitations(this.companyId,this.accountId),this.users.forEach(t=>t.accountGrantType=e)}catch(e){this.notifierService.notify("error",e.description||e.code||this.translateService.instant("SHARED.ACTION_ERROR"))}}))}showNotificationForUser(t){const e=this.translateService.instant(t.accountGrantType===P.d.AVAILABLE?"ACCOUNTS.SETTINGS.USER_GRANTED":"ACCOUNTS.SETTINGS.USER_LIMITED",{user:`${t.lastname||""} ${t.firstname||""} ${t.middlename||""}`});this.notifierService.notify("default",e)}showNotification(t){const e=this.translateService.instant(t===P.d.AVAILABLE?"ACCOUNTS.SETTINGS.GRANTED_ALL":"ACCOUNTS.SETTINGS.LIMITED_ALL");this.notifierService.notify("default",e)}mapParams(t,e){return{id:t.userId,userAuthorityId:t.userAuthorityId,accountGrantType:e}}getGrantType(t){return"true"===t?P.d.UNAVAILABLE:P.d.AVAILABLE}get isAllSelected(){var t;return null===(t=this.users)||void 0===t?void 0:t.every(t=>t.accountGrantType===this.grants.UNAVAILABLE)}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(c.a),S.Qb(P.c),S.Qb(Te.c),S.Qb(L.e))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-account-grants"]],inputs:{companyId:"companyId",accountId:"accountId"},decls:12,vars:7,consts:[[1,"dictionary-modal"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-header"],["translate","",1,"users-header"],[1,"modal-body"],["translate","","class","users-list__row",4,"ngIf"],["class","users-list__row",4,"ngFor","ngForOf"],[4,"ngIf"],["translate","",1,"users-list__row"],["translate","",1,"users-list__cell"],[1,"users-list__cell",3,"value","change"],[1,"users-list__row"],[1,"users-list__cell"],[1,"users-list__initials","p2","users-list__cell"],[1,"text-gray"],["translate",""],["translate","",1,"users-list__error"],["translate","",1,"btn","btn-link","btn-block",3,"click"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Wb(1,"button",1),S.ic("click",(function(t){return e.modal.dismiss()})),S.Rb(2,"img",2),S.nc(3,"translate"),S.Vb(),S.Wb(4,"div",3),S.Wb(5,"h5",4),S.Tc(6,"DIRECTORY.EMPLOYEES.TITLE"),S.Vb(),S.Vb(),S.Wb(7,"div",5),S.Rc(8,je,7,1,"div",6),S.Rc(9,Fe,15,10,"div",7),S.Rc(10,Ue,5,0,"ng-container",8),S.Rc(11,Ge,5,0,"ng-container",8),S.Vb(),S.Vb()),2&t&&(S.Ab(2),S.vc("alt",S.oc(3,5,"SHARED.CLOSE")),S.Ab(6),S.uc("ngIf",!e.error&&(null==e.users?null:e.users.length)>0),S.Ab(1),S.uc("ngForOf",e.users),S.Ab(1),S.uc("ngIf",e.error),S.Ab(1),S.uc("ngIf",0===(null==e.users?null:e.users.length)))},directives:[L.a,a.u,a.t,xe.a],pipes:[L.d],styles:[".users-header[_ngcontent-%COMP%]{padding:.5rem}.users-list__row[_ngcontent-%COMP%]{display:grid;grid-template-columns:auto auto 1fr auto;align-content:space-around;-webkit-box-pack:justify;justify-content:space-between;background:#fff;margin:.5rem 0}.users-list__initials[_ngcontent-%COMP%]{flex-shrink:0;width:2.5rem;height:2.5rem;border-radius:1rem;margin-right:1rem;color:#fff;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;-webkit-box-align:center;align-items:center;background:#d6dadf}.users-list__initials.first-sign[_ngcontent-%COMP%]{background:rgba(239,143,0,.7)}.users-list__initials.second-sign[_ngcontent-%COMP%]{background:rgba(21,134,187,.7)}.users-list__cell[_ngcontent-%COMP%]{display:grid;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column;margin:auto .5rem;padding:.625rem 0}.users-list__error[_ngcontent-%COMP%]{color:#666c72;padding:2.5rem 4.75rem 1.5rem;text-align:center}.modal-body[_ngcontent-%COMP%]{padding:0 1.5rem 1.5rem;max-height:100%}"]}),t})(),He=(()=>{class t{constructor(t,e){this.modalService=t,this.accountsService=e,this.errorText=null}ngOnInit(){this.retrieveTotalLimitations()}retrieveTotalLimitations(){return Object(E.a)(this,void 0,void 0,(function*(){try{yield this.accountsService.retrieveTotalLimitations(this.companyId,this.accountId)}catch(t){}}))}openAccountGrants(){return Object(E.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(Be,{backdropClass:"backdrop_light",windowClass:"modal_light modal_dictionary modal-adaptive",centered:!0,size:"md"});t.componentInstance.companyId=this.companyId,t.componentInstance.accountId=this.accountId;try{yield t.result}catch(e){}}))}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(c.q),S.Qb(P.c))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-account-settings"]],inputs:{companyId:"companyId",accountId:"accountId"},decls:15,vars:6,consts:[[1,"account-settings"],[1,"account-settings__block"],["translate","",1,"account-settings__header"],[1,"account-settings__content"],[1,"account-settings__title","col-md-10"],["translate",""],[1,"text-gray"],[1,"account-settings__control","col-md-2"],["translate","",1,"btn-link-classic",3,"click"]],template:function(t,e){1&t&&(S.Wb(0,"div",0),S.Wb(1,"div",1),S.Wb(2,"div",2),S.Tc(3,"ACCOUNTS.SETTINGS.MAIN"),S.Vb(),S.Wb(4,"div",3),S.Wb(5,"div",4),S.Wb(6,"div",5),S.Tc(7,"ACCOUNTS.SETTINGS.LIMIT_ACCESS"),S.Vb(),S.Wb(8,"small",6),S.Tc(9),S.nc(10,"translate"),S.nc(11,"async"),S.Vb(),S.Vb(),S.Wb(12,"div",7),S.Wb(13,"button",8),S.ic("click",(function(t){return e.openAccountGrants()})),S.Tc(14,"ACCOUNTS.SETTINGS.EDIT"),S.Vb(),S.Vb(),S.Vb(),S.Vb(),S.Vb()),2&t&&(S.Ab(9),S.Wc("",S.oc(10,2,"ACCOUNTS.SETTINGS.LIMITS"),": ",S.oc(11,4,e.accountsService.storeForTotal$),""))},directives:[L.a],pipes:[L.d,a.b],styles:[".account-settings[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;flex-direction:column}.account-settings__block[_ngcontent-%COMP%]{padding:1.5rem 0;background:#fff;border-radius:.75rem}.account-settings__header[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:500;margin:0 1rem 2rem}.account-settings__content[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-direction:row}.account-settings__title[_ngcontent-%COMP%]{display:grid;grid-auto-rows:minmax(-webkit-min-content,-webkit-max-content);grid-auto-rows:minmax(min-content,max-content);row-gap:4px}.account-settings__control[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}"]}),t})();var Ye=n("QiVB"),Ke=n("T+Ki"),$e=n("4zJ+"),Qe=n("/68H"),Xe=n("tepA");function qe(t,e){1&t&&S.Rb(0,"j-account-migrated",17),2&t&&S.uc("isLarge",!0)}function ze(t,e){if(1&t){const t=S.Xb();S.Wb(0,"a",13),S.ic("click",(function(e){return S.Ic(t),S.mc(2).onTabClick("settings",e)})),S.Tc(1," ACCOUNTS.SETTINGS.TITLE "),S.Vb()}if(2&t){const t=S.mc(2);S.Hb("active","settings"===t.activeTab)}}function Je(t,e){if(1&t){const t=S.Xb();S.Ub(0),S.Wb(1,"j-filter",18),S.ic("downloaded",(function(e){return S.Ic(t),S.mc(2).onDownload(e)})),S.Vb(),S.Tb()}if(2&t){const t=S.mc(2);S.Ab(1),S.uc("currency",t.balance.currency)}}function Ze(t,e){if(1&t&&(S.Ub(0),S.Rb(1,"j-requisites",19),S.Tb()),2&t){const t=S.mc(2);S.Ab(1),S.uc("account",t.account)}}function tn(t,e){if(1&t&&(S.Ub(0),S.Rb(1,"j-account-export",19),S.Tb()),2&t){const t=S.mc(2);S.Ab(1),S.uc("account",t.account)}}function en(t,e){if(1&t&&(S.Ub(0),S.Rb(1,"j-account-settings",20),S.Tb()),2&t){const t=S.mc(2);S.Ab(1),S.uc("companyId",t.companyId)("accountId",t.account.id)}}function nn(t,e){if(1&t&&S.Rb(0,"j-statement-balances",27),2&t){const t=S.mc(3);S.uc("statement",t.statement)}}function an(t,e){1&t&&(S.Wb(0,"div",28),S.Tc(1," ACCOUNTS.STATEMENT.ALL_LOADED "),S.Vb())}function on(t,e){if(1&t&&(S.Wb(0,"div",29),S.Wb(1,"strong"),S.Tc(2),S.Vb(),S.Vb()),2&t){const t=S.mc(3);S.Ab(2),S.Uc(t.errorText)}}function cn(t,e){1&t&&S.Rb(0,"j-animated-loading")}function sn(t,e){1&t&&(S.Wb(0,"div",30),S.Rb(1,"j-statement-loading"),S.Vb())}function rn(t,e){if(1&t){const t=S.Xb();S.Ub(0),S.Wb(1,"section",21),S.ic("scrolled",(function(e){return S.Ic(t),S.mc(2).onScroll()})),S.Rc(2,nn,1,1,"j-statement-balances",22),S.Rb(3,"j-statement",23),S.Rc(4,an,2,0,"div",24),S.Rc(5,on,3,1,"div",25),S.Rc(6,cn,1,0,"j-animated-loading",16),S.Rc(7,sn,2,0,"div",26),S.Vb(),S.Tb()}if(2&t){const t=S.mc(2);S.Ab(1),S.uc("scrollWindow",!0)("alwaysCallback",!0)("infiniteScrollDistance",2)("infiniteScrollThrottle",500),S.Ab(1),S.uc("ngIf",t.statement&&t.statement.totalTransactionsCount>0),S.Ab(1),S.uc("statement",t.statement)("isLoadingExtra",!t.isLoading&&t.isLoadingExtra)("emptyLabel",t.emptyLabel),S.Ab(1),S.uc("ngIf",!t.hasMorePages&&t.statement.totalTransactionsCount>0),S.Ab(1),S.uc("ngIf",t.errorText),S.Ab(1),S.uc("ngIf",!t.isReady),S.Ab(1),S.uc("ngIf",t.isLoading&&t.isReady)}}function ln(t,e){if(1&t){const t=S.Xb();S.Wb(0,"f-page",1),S.ic("closed",(function(e){return S.Ic(t),S.mc().onClose()})),S.Wb(1,"f-page-header"),S.Wb(2,"section",2),S.Wb(3,"div",3),S.Wb(4,"div",4),S.Rb(5,"j-entity-logo",5),S.Wb(6,"span",6),S.Tc(7),S.nc(8,"formatIban"),S.Vb(),S.Vb(),S.Rb(9,"j-account-alter-code",7),S.Rc(10,qe,1,1,"j-account-migrated",8),S.Vb(),S.Wb(11,"h1",9),S.Rb(12,"j-money",10),S.Vb(),S.Vb(),S.Wb(13,"div",11),S.Wb(14,"nav",12),S.Wb(15,"a",13),S.ic("click",(function(e){return S.Ic(t),S.mc().onTabClick("statement",e)})),S.Tc(16," ACCOUNTS.STATEMENT.TITLE "),S.Vb(),S.Wb(17,"a",14),S.ic("click",(function(e){return S.Ic(t),S.mc().onTabClick("requisites",e)})),S.Tc(18," ACCOUNTS.REQUISITES.TITLE "),S.Vb(),S.Wb(19,"a",13),S.ic("click",(function(e){return S.Ic(t),S.mc().onTabClick("auto-export",e)})),S.Tc(20," ACCOUNTS.AUTO_EXPORT "),S.Vb(),S.Rc(21,ze,2,2,"a",15),S.Vb(),S.Vb(),S.Vb(),S.Wb(22,"f-page-body"),S.Rc(23,Je,2,1,"ng-container",16),S.Rc(24,Ze,2,1,"ng-container",16),S.Rc(25,tn,2,1,"ng-container",16),S.Rc(26,en,2,2,"ng-container",16),S.Vb(),S.Wb(27,"f-page-extra"),S.Rc(28,rn,8,12,"ng-container",16),S.Vb(),S.Vb()}if(2&t){const t=S.mc();S.uc("bodyClassList","statement"===t.activeTab?"no-grow":""),S.Ab(5),S.uc("name",t.balance.currency),S.Ab(2),S.Uc(S.oc(8,18,t.account.iban)),S.Ab(2),S.uc("account",t.account),S.Ab(1),S.uc("ngIf",t.account.isMigrated),S.Ab(2),S.uc("money",t.balance),S.Ab(3),S.Hb("active","statement"===t.activeTab),S.Ab(2),S.Hb("active","requisites"===t.activeTab),S.Ab(2),S.Hb("active","auto-export"===t.activeTab),S.Ab(2),S.uc("ngIf",t.isSettingsAllowed),S.Ab(2),S.uc("ngIf","statement"===t.activeTab),S.Ab(1),S.uc("ngIf","requisites"===t.activeTab),S.Ab(1),S.uc("ngIf","auto-export"===t.activeTab),S.Ab(1),S.uc("ngIf","settings"===t.activeTab),S.Ab(2),S.uc("ngIf","statement"===t.activeTab)}}let dn=(()=>{class t{constructor(t,e,n,a,i,o,c,s,r,l){this.router=t,this.route=e,this.company=n,this.filterService=a,this.accountsService=i,this.datePipe=o,this.filesService=c,this.maskedService=s,this.tourService=r,this.navService=l,this.isDetailsShown=!1,this.isLoading=!0,this.isLoadingExtra=!0,this.isReady=!1,this.hasMorePages=!0,this.isStatementsTourShown=!1,this.subscription=new x.a,this.tourStep=null,this.pageNumber=1,this.pageSize=10,this.cashedRouteQuery=JSON.parse(sessionStorage.getItem("accountRouteQuery"));const d=this.route.params.subscribe(t=>{this.iban=t.iban,this.loadData()});this.subscription.add(d);const b=this.route.data.subscribe(t=>{this.activeTab=t.tab});this.subscription.add(b);const u=this.route.paramMap.pipe(Object(y.a)(()=>window.history.state)).subscribe(t=>{this.tourStep=t.tourStep,this.checkAndStartTour()});if(this.subscription.add(u),this.cashedRouteQuery)this.filter=this.mapQueryParams(this.cashedRouteQuery),this.filterService.updateExtra(this.filter);else{const t=this.route.queryParams.pipe(Object(ie.a)(1)).subscribe(t=>{this.updateCashedRouteQuery(t),this.filter=this.mapQueryParams(t),this.filterService.updateExtra(this.filter)});this.subscription.add(t)}const m=this.filterService.getScheme().subscribe(t=>{this.filter=Object.assign({},t),this.pageNumber=1,this.hasMorePages=!0,this.isLoading=!0,this.updateQueryParams(),this.loadStatement()});this.subscription.add(m)}ngAfterViewInit(){}ngOnDestroy(){this.subscription.unsubscribe()}onTabClick(t,e){e.preventDefault(),this.router.navigate([t],{relativeTo:this.route.parent})}onClose(){this.navigateToHome()}onScroll(){this.hasMorePages&&!this.isLoading&&(this.pageNumber++,this.loadStatement())}get emptyLabel(){return this.account.isMigrated?"ACCOUNTS.EMPTY_MIGRATED":"ACCOUNTS.EMPTY_STATEMENT"}onDownload(t){return Object(E.a)(this,void 0,void 0,(function*(){const e=yield this.accountsService.getStatement(this.iban,this.filter,this.pageNumber,this.pageSize,t,this.company.currentId);let n=t.substring(t.lastIndexOf("/")+1,t.length);"1c"===n&&(n+=".txt"),this.filesService.downloadFile(e,`${this.iban}.${n}`)}))}loadData(){return Object(E.a)(this,void 0,void 0,(function*(){try{yield this.loadAccount()}catch(t){console.error(t)}finally{this.isReady=!0}}))}loadAccount(){return Object(E.a)(this,void 0,void 0,(function*(){try{this.account=yield this.accountsService.getAccountByIban(this.company.currentId,this.iban),this.account.isMigrated&&this.accountsService.retrieveMergeDate()}catch(t){this.navigateToHome()}}))}loadStatement(){return Object(E.a)(this,void 0,void 0,(function*(){this.errorText="",this.isLoadingExtra=!0;try{if(this.filter.periodType&&this.filter.periodType!==ce.e.CUSTOM){const t=this.filterService.PERIOD_LIST.find(t=>t.type===this.filter.periodType);this.filter.periodFrom=t.dates.from,this.filter.periodTo=t.dates.to}const t=yield this.accountsService.getStatement(this.iban,this.filter,this.pageNumber,this.pageSize);this.hasMorePages=this.pageSize<=t.totalTransactionsCount,this.statement=t}catch(t){this.errorText=t}finally{this.isReady=!0,this.isLoading=!1,this.isLoadingExtra=!1,this.isStatementsTourShown||(this.checkAndStartTour(),this.isStatementsTourShown=!0)}}))}get balance(){return this.account&&this.account.balance}checkAndStartTour(){this.tourStep&&setTimeout(()=>{var t;switch(this.tourStep){case"REQUISITES_HOME.ACCOUNT":this.tourService.startTour(R.e.REQUISITES_ACCOUNT);break;case"STATEMENTS_HOME.ACCOUNT":let e=[R.e.STATEMENTS_ACCOUNT[0]];!this.isLoading&&(null===(t=this.statement)||void 0===t?void 0:t.totalTransactionsCount)>0&&(e=[...e,R.e.STATEMENTS_ACCOUNT[1]]),this.tourService.startTour(e)}},0)}navigateToHome(){this.navService.retrieveContractBadges(),this.navService.retrieveLetterBadges(),this.router.navigate(["../.."],{relativeTo:this.route})}mapQueryParams(t){const e=Object.assign({},this.filterService.getDefaults(oe.a.ACCOUNTS));for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const a=t[n];a&&null!=a&&"null"!==a&&(e[n]="periodFrom"===n||"periodTo"===n?new Date(a):a)}return e}updateQueryParams(){const t=Object.assign({},this.filter),e={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const a=t[n];a&&null!=a&&"null"!==a&&(e[n]="periodFrom"===n||"periodTo"===n?this.datePipe.transform(a,"yyyy-MM-dd"):a,"amountFrom"!==n&&"amountTo"!==n||(e[n]=this.maskedService.getNumberedAmount(a)))}this.updateCashedRouteQuery(t),this.router.navigate([],{queryParams:e,relativeTo:this.route})}updateCashedRouteQuery(t){sessionStorage.setItem("accountRouteQuery",JSON.stringify(t))}get companyId(){return this.company.currentId}get isSettingsAllowed(){return this.company.currentAuthority.authority===j.a.PRIMARY_SIGNATURE}}return t.\u0275fac=function(e){return new(e||t)(S.Qb(p.c),S.Qb(p.a),S.Qb(_.a),S.Qb(se.a),S.Qb(P.c),S.Qb(a.f),S.Qb(re.a),S.Qb(ot.a),S.Qb(R.g),S.Qb(le.a))},t.\u0275cmp=S.Kb({type:t,selectors:[["j-account"]],decls:1,vars:1,consts:[["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8",3,"bodyClassList","closed",4,"ngIf"],["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8",3,"bodyClassList","closed"],[1,"account-header"],[1,"iban"],[1,"iban__number"],["size","sm",1,"iban-img",3,"name"],[1,"d-inline-block","text-muted","mr-4"],["jTour","STATEMENT.ALTER_CODE","jTourPosition","bottom",1,"iban__alter-code","mr-4",3,"account"],["class","iban__migrated",3,"isLarge",4,"ngIf"],[1,"f-page-title"],[3,"money"],[1,"f-page-tabs-wrap"],[1,"f-page-tabs"],["href","#","translate","",3,"click"],["href","#","jTour","REQUISITES_ACCOUNT.NAV","jTourPosition","bottom","translate","",3,"click"],["href","#","translate","",3,"active","click",4,"ngIf"],[4,"ngIf"],[1,"iban__migrated",3,"isLarge"],[3,"currency","downloaded"],[3,"account"],[3,"companyId","accountId"],["infiniteScroll","",1,"account-wrapper",3,"scrollWindow","alwaysCallback","infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"statement",4,"ngIf"],[1,"search-results",3,"statement","isLoadingExtra","emptyLabel"],["class","text-center text-muted my-5 text-small","translate","",4,"ngIf"],["class","alert alert-danger my-5","role","alert",4,"ngIf"],["class","py-4",4,"ngIf"],[3,"statement"],["translate","",1,"text-center","text-muted","my-5","text-small"],["role","alert",1,"alert","alert-danger","my-5"],[1,"py-4"]],template:function(t,e){1&t&&S.Rc(0,ln,29,20,"f-page",0),2&t&&S.uc("ngIf",e.account)},directives:[a.u,de.a,be.a,ct.a,lt,ue.a,st.a,L.a,me.a,pe.a,pt,he.a,Oe,De,He,r.a,Ye.a,Ke.a,$e.a,Qe.a],pipes:[Xe.a],styles:["[_nghost-%COMP%]{display:block}.iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:8px;flex-wrap:wrap}.iban-img[_ngcontent-%COMP%]{margin-right:12px;border-radius:.5rem}.iban__number[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.iban__alter-code[_ngcontent-%COMP%], .iban__migrated[_ngcontent-%COMP%], .iban__number[_ngcontent-%COMP%]{margin-bottom:8px}@media(min-width:960px){.iban__alter-code[_ngcontent-%COMP%], .iban__migrated[_ngcontent-%COMP%], .iban__number[_ngcontent-%COMP%]{margin-bottom:0}}.f-page-title[_ngcontent-%COMP%]{margin-bottom:12px}.account-wrapper[_ngcontent-%COMP%]{position:relative;min-height:200px}"]}),t})();var bn=n("YjpI");const un=[{path:"accounts",component:ae,data:{title:"ACCOUNTS.TITLE"},children:[{path:"",component:Xt}]},{path:"accounts/:iban",children:[{path:"statement",component:dn,data:{tab:"statement"}},{path:"requisites",component:dn,data:{tab:"requisites"}},{path:"auto-export",component:dn,data:{tab:"auto-export"}},{path:"settings",component:dn,data:{tab:"settings"}},{path:"**",redirectTo:"statement"}]},{path:"deposits",loadChildren:()=>n.e(25).then(n.bind(null,"WbAt")).then(t=>t.DepositsModule)},{path:"cards",loadChildren:()=>Promise.resolve().then(n.bind(null,"qAFH")).then(t=>t.CardsModule)},{path:"loans",canActivate:[I.a],loadChildren:()=>Promise.resolve().then(n.bind(null,"O+dT")).then(t=>t.LoansModule)},{canActivate:[O],path:g.a.root,data:{animation:"routerFadeFromBottom"},loadChildren:()=>Promise.all([n.e(2),n.e(3),n.e(4),n.e(0),n.e(13)]).then(n.bind(null,"T9EB")).then(t=>t.PaymentsModule)},{path:bn.a.transfers,loadChildren:()=>Promise.all([n.e(2),n.e(27)]).then(n.bind(null,"DVvf")).then(t=>t.TransfersModule)},{path:bn.a.conversion,loadChildren:()=>Promise.all([n.e(2),n.e(0),n.e(17)]).then(n.bind(null,"VBqz")).then(t=>t.ConversionModule)},{path:bn.a.history,loadChildren:()=>n.e(20).then(n.bind(null,"9u+z")).then(t=>t.HistoryModule)},{path:"history2",loadChildren:()=>n.e(21).then(n.bind(null,"QBLo")).then(t=>t.History2Module)},{path:bn.a.contracts,loadChildren:()=>n.e(3).then(n.bind(null,"Rreu")).then(t=>t.ContractsModule)},{path:bn.a.settings,loadChildren:()=>Promise.all([n.e(0),n.e(26)]).then(n.bind(null,"7wo0")).then(t=>t.SettingsModule)},{path:bn.a.directory,loadChildren:()=>Promise.all([n.e(2),n.e(18)]).then(n.bind(null,"KlkT")).then(t=>t.DirectoryModule)},{path:bn.a.letters,canActivate:[I.a],data:{featureFlag:h.a.LETTER},loadChildren:()=>n.e(12).then(n.bind(null,"mCIM")).then(t=>t.LettersModule)},{path:bn.a.extraSettings,loadChildren:()=>Promise.all([n.e(0),n.e(19)]).then(n.bind(null,"vTXZ")).then(t=>t.ExtraSettingsModule)},{path:bn.a.jmart,loadChildren:()=>n.e(22).then(n.bind(null,"6VfQ")).then(t=>t.JmartModule)},{path:bn.a.productCard,loadChildren:()=>Promise.all([n.e(4),n.e(5),n.e(24)]).then(n.bind(null,"fcrt")).then(t=>t.CardProductPageModule)},{path:bn.a.authorities,loadChildren:()=>n.e(16).then(n.bind(null,"kj2d")).then(t=>t.AuthoritiesModule)},{path:"**",redirectTo:"jmart/products/main"}];let mn=(()=>{class t{}return t.\u0275mod=S.Ob({type:t}),t.\u0275inj=S.Nb({factory:function(e){return new(e||t)},imports:[[p.g.forChild(un)],p.g]}),t})();var pn=n("qAFH"),hn=n("O+dT");let gn=(()=>{class t{}return t.\u0275mod=S.Ob({type:t}),t.\u0275inj=S.Nb({factory:function(e){return new(e||t)},providers:[N],imports:[[a.c,c.s,l.b,L.c,d.a]]}),t})();n.d(e,"HomeModule",(function(){return fn}));let fn=(()=>{class t{}return t.\u0275mod=S.Ob({type:t}),t.\u0275inj=S.Nb({factory:function(e){return new(e||t)},imports:[[a.c,i.n,i.D,mn,b.a,d.a,u.a,m.a,pn.CardsModule,hn.LoansModule,s.c.forChild(),c.s,c.g,o.b,r.b,l.b,gn]]}),t})()},fkRG:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n("zwEd"),i=n("w7f+"),o=n("fXoL"),c=n("1kSV"),s=n("+eKG"),r=n("ofXK"),l=n("e8Ap"),d=n("sYmb");function b(t,e){if(1&t){const t=o.Xb();o.Wb(0,"a",1),o.ic("click",(function(e){return o.Ic(t),o.mc().onClick(e)})),o.Rb(1,"span",2),o.Rb(2,"span",3),o.Vb()}if(2&t){const t=o.mc();o.Hb("status--small",t.isSmall),o.Ab(1),o.uc("inlineSVG",t.mapIcon()),o.Ab(1),o.uc("translate",t.mapTitle())}}let u=(()=>{class t{constructor(t,e){this.modalService=t,this.cardsService=e,this.CARD_STATUS=a.b}ngOnInit(){}onClick(t){t.preventDefault(),this.isSmall||this.showModal()}mapIcon(t=!1){const e="/assets/img/cards/status/";let n=t?"-large.svg":this.isSmall?"-small.svg":".svg";switch(this.status){case a.b.EXPIRED:return`${e}expire${n}`;case a.b.FRAUD:case a.b.LOST_LOCK:case a.b.THEFT_LOCK:case a.b.TEMPORARILY_LOCK:default:return`${e}locked${n}`}}mapTitle(){return this.cardsService.mapCardStatus(this.status)}mapDescription(){return`CARDS.STATUS.DESCRIPTION.${this.status}`}showModal(){const t=this.modalService.open(i.a,{backdropClass:"backdrop_light",windowClass:"modal_light modal_sm",centered:!0});return Object.assign(t.componentInstance,{title:this.mapTitle(),img:this.mapIcon(!0),description:this.mapDescription(),cardId:this.cardId,canUnlock:this.status===a.b.TEMPORARILY_LOCK}),t.result}}return t.\u0275fac=function(e){return new(e||t)(o.Qb(c.q),o.Qb(s.a))},t.\u0275cmp=o.Kb({type:t,selectors:[["j-card-status"]],inputs:{cardId:"cardId",isSmall:"isSmall",status:"status"},decls:1,vars:1,consts:[["href","#","class","status",3,"status--small","click",4,"ngIf"],["href","#",1,"status",3,"click"],[1,"status__icon",3,"inlineSVG"],[1,"status__title","text-danger",3,"translate"]],template:function(t,e){1&t&&o.Rc(0,b,3,4,"a",0),2&t&&o.uc("ngIf",e.status!=e.CARD_STATUS.ACTIVE)},directives:[r.u,l.a,d.a],styles:[".status[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-left:1rem}.status[_ngcontent-%COMP%]:hover{text-decoration:underline}.status--small[_ngcontent-%COMP%]{font-size:.75rem;margin-left:.5rem}.status--small[_ngcontent-%COMP%]:hover{text-decoration:none}.status--small[_ngcontent-%COMP%]   .status__icon[_ngcontent-%COMP%]{width:16px}.status--small[_ngcontent-%COMP%]   .status__icon[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{max-width:100%}.status--small[_ngcontent-%COMP%]   .status__title[_ngcontent-%COMP%]{padding-top:2px}.status__icon[_ngcontent-%COMP%]{margin-right:.25rem}"]}),t})()},hsBV:function(t,e,n){"use strict";n.d(e,"a",(function(){return y}));var a=n("fXoL"),i=n("R0Ic"),o=n("L+ju"),c=n("zwEd"),s=n("+eKG");const r=["accountsDropdown"];function l(t,e){if(1&t&&(a.Ub(0),a.Rb(1,"span",11),a.Wb(2,"div",12),a.Rb(3,"span",13),a.Wb(4,"span"),a.Tc(5),a.Vb(),a.Vb(),a.Tb()),2&t){const t=a.mc().$implicit,e=a.mc();a.Ab(1),a.uc("inlineSVG",e.getCardImage(t)),a.Ab(2),a.uc("inlineSVG",e.getCardMps(t)),a.Ab(2),a.Uc(e.getMaskedCardNumber(t))}}function d(t,e){1&t&&(a.Ub(0),a.Wb(1,"div",14),a.Tc(2),a.nc(3,"translate"),a.Vb(),a.Tb()),2&t&&(a.Ab(2),a.Vc(" ",a.oc(3,1,"ACCOUNTS.DROPDOWN.ALL")," "))}function b(t,e){if(1&t&&(a.Ub(0),a.Rb(1,"j-entity-logo",15),a.Wb(2,"div",12),a.Wb(3,"span"),a.Tc(4),a.Vb(),a.Vb(),a.Tb()),2&t){const t=a.mc().$implicit,e=a.mc();a.Ab(1),a.uc("name",null==t?null:null==t.balance?null:t.balance.currency),a.Ab(3),a.Uc(e.getMaskedIban(t))}}function u(t,e){if(1&t&&a.Rb(0,"j-money",16),2&t){const t=a.mc().$implicit;a.uc("money",null==t?null:t.balance)}}function m(t,e){if(1&t&&(a.Ub(0,5),a.Wb(1,"div",6),a.Wb(2,"label",7),a.Tc(3),a.nc(4,"translate"),a.Vb(),a.Rc(5,l,6,3,"ng-container",8),a.Rc(6,d,4,3,"ng-container",8),a.Rc(7,b,5,2,"ng-container",9),a.Vb(),a.Tb(),a.Rc(8,u,1,1,"j-money",10)),2&t){const t=e.$implicit,n=a.mc();a.uc("ngSwitch",t.accountType),a.Ab(2),a.Hb("selected-account__label--all",t.accountType===n.ACCOUNT_TYPE.ALL),a.Ab(1),a.Vc(" ",a.oc(4,7,n.label||n.mapSelectedAccountLabel(t))," "),a.Ab(2),a.uc("ngSwitchCase",n.ACCOUNT_TYPE.CARD),a.Ab(1),a.uc("ngSwitchCase",n.ACCOUNT_TYPE.ALL),a.Ab(2),a.uc("ngIf",n.getIsBalanceShown(t)&&(null==t?null:t.balance))}}function p(t,e){if(1&t&&a.Rb(0,"j-account-item",20),2&t){const t=a.mc().$implicit;a.uc("account",t)}}function h(t,e){if(1&t&&a.Rb(0,"j-account-card",21),2&t){const t=a.mc().$implicit;a.uc("card",t)}}function g(t,e){1&t&&(a.Wb(0,"div",22),a.Tc(1),a.nc(2,"translate"),a.Vb()),2&t&&(a.Ab(1),a.Vc(" ",a.oc(2,1,"ACCOUNTS.DROPDOWN.ALL")," "))}function f(t,e){if(1&t&&(a.Rc(0,p,1,1,"j-account-item",17),a.Rc(1,h,1,1,"j-account-card",18),a.Rc(2,g,3,3,"div",19)),2&t){const t=e.$implicit,n=a.mc();a.uc("ngIf",t.accountType===n.ACCOUNT_TYPE.ACCOUNT||t.accountType===n.ACCOUNT_TYPE.DEPOSIT),a.Ab(1),a.uc("ngIf",t.accountType===n.ACCOUNT_TYPE.CARD),a.Ab(1),a.uc("ngIf",t.accountType===n.ACCOUNT_TYPE.ALL)}}function T(t,e){1&t&&a.Rb(0,"div",23),2&t&&a.uc("inlineSVG","/assets/icons/transfers/arrow.svg")}let y=(()=>{class t{constructor(t){this.cardsService=t,this.hasError=!1,this.isLoading=!1,this.isDisabled=!1,this.isSmall=!1,this.isFromArrowShown=!1,this.isDisabledSelectable=!1,this.accounts=[],this.selected=new a.n,this.ACCOUNT_TYPE=o.a,this.blockedFn=this.isAccountBlocked.bind(this)}clearSelected(){this.accountsDropdown.clearSelected()}selectAccount(t){t&&(t.accountType===o.a.CARD&&t.hasLockedState&&!this.isDisabledSelectable||t.isMigrated||(this.selectedAccount=t,this.accountsDropdown.selectItem(t)))}selectByIban(t){var e;const n=null===(e=this.accounts)||void 0===e?void 0:e.find(e=>{var n;return(null===(n=e)||void 0===n?void 0:n.iban)===t});this.onSelect(n)}isAccountBlocked(t){return!!t.isMigrated}onSelect(t){this.selectAccount(t),this.selected.emit(t)}mapSelectedAccountLabel(t){var e;switch(null===(e=t)||void 0===e?void 0:e.accountType){case o.a.CARD:return this.cardsService.mapCardLabel(t);case o.a.ACCOUNT:return"ACCOUNTS.REGULAR";case o.a.DEPOSIT:return"ACCOUNTS.DEPOSIT";default:return null}}getMaskedCardNumber(t){if(t.accountType!=o.a.CARD)return null;const e=t.cardNumber;return e?`${e.substring(0,4)} \u2022\u2022\u2022\u2022 \u2022\u2022\u2022\u2022 ${e.substring(e.length-4,e.length)}`:""}getMaskedIban(t){const e=t.iban;return e?`${e.substring(0,4)} \u2022\u2022\u2022\u2022 ${e.substring(e.length-4,e.length)}`:""}getCardImage(t){if(t.accountType!=o.a.CARD)return null;const e="/assets/icons/accounts";switch(t.category){case c.a.PRIVATE:return`${e}/card-private.svg`;case c.a.COMMERCIAL:default:return`${e}/card-commercial.svg`}}getCardMps(t){if(t.accountType!=o.a.CARD)return null;const e="/assets/icons/cards/mps";return"4"===t.cardNumber[0]?`${e}/visa.svg`:`${e}/mastercard.svg`}getIsBalanceShown(t){return t.accountType!==o.a.ALL&&(t.accountType!==o.a.CARD||t.category!==c.a.PRIVATE)}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(s.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-account-dropdown"]],viewQuery:function(t,e){var n;1&t&&a.Yc(r,!0),2&t&&a.Ec(n=a.jc())&&(e.accountsDropdown=n.first)},inputs:{label:"label",inputClass:"inputClass",hasError:"hasError",isLoading:"isLoading",isDisabled:"isDisabled",isSmall:"isSmall",isFromArrowShown:"isFromArrowShown",isDisabledSelectable:"isDisabledSelectable",accounts:"accounts"},outputs:{selected:"selected"},decls:7,vars:6,consts:[["label","ACCOUNTS.EMPTY",3,"isLoading","label","options","hasError","blockedFn","selected"],["accountsDropdown",""],["selectedTemplate",""],["optionTemplate",""],["class","account-dropdown__from-arrow",3,"inlineSVG",4,"ngIf"],[3,"ngSwitch"],[1,"account-item"],[1,"j-input--float-label","selected-account__label"],[4,"ngSwitchCase"],[4,"ngSwitchDefault"],["class","selected-account__money p3",3,"money",4,"ngIf"],[3,"inlineSVG"],[1,"text-truncate","selected-account__value"],[1,"mr-2",3,"inlineSVG"],[1,"text-truncate","selected-account__value","pl-0","mt-1"],["size","sm",1,"selected-account__img",3,"name"],[1,"selected-account__money","p3",3,"money"],[3,"account",4,"ngIf"],[3,"card",4,"ngIf"],["class","account-item p3",4,"ngIf"],[3,"account"],[3,"card"],[1,"account-item","p3"],[1,"account-dropdown__from-arrow",3,"inlineSVG"]],template:function(t,e){1&t&&(a.Wb(0,"j-dropdown-input",0,1),a.ic("selected",(function(t){return e.onSelect(t)})),a.Rc(2,m,9,9,"ng-template",null,2,a.Sc),a.Rc(4,f,3,3,"ng-template",null,3,a.Sc),a.Vb(),a.Rc(6,T,1,1,"div",4)),2&t&&(a.uc("isLoading",e.isLoading)("label",e.label)("options",e.accounts)("hasError",e.hasError)("blockedFn",e.blockedFn),a.Ab(6),a.uc("ngIf",e.isFromArrowShown))},styles:["[_nghost-%COMP%]{display:block;width:100%}.account-item[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-item--blocked[_ngcontent-%COMP%]{opacity:.4}.account-item__img[_ngcontent-%COMP%]{margin-right:1rem}.selected-account[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;padding-right:1rem}.selected-account__label[_ngcontent-%COMP%]{top:10px!important;left:65px!important;-webkit-transform:scale(.75);transform:scale(.75)}.selected-account__label--all[_ngcontent-%COMP%]{left:21px!important}.selected-account__money[_ngcontent-%COMP%]{margin-left:auto}.selected-account__value[_ngcontent-%COMP%]{padding-left:1rem;position:relative;top:8px;padding-right:1rem}.account-dropdown__from-arrow[_ngcontent-%COMP%], .selected-account__value[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-dropdown__from-arrow[_ngcontent-%COMP%]{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;opacity:1;position:absolute;width:28px;height:28px;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);border-radius:50%;background:#fff;-webkit-box-pack:center;justify-content:center;left:-14px;bottom:-22px;z-index:2}"],data:{animation:[Object(i.o)("smoothCollapse",[Object(i.l)("initial",Object(i.m)({height:"0",overflow:"hidden",opacity:"0.5",zIndex:"unset"})),Object(i.l)("final",Object(i.m)({overflow:"hidden",opacity:"1",zIndex:"50"})),Object(i.n)("initial=>final",Object(i.e)("300ms ease-in-out")),Object(i.n)("final=>initial",Object(i.e)("300ms ease-in-out"))])]}}),t})()},jZlK:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("2Vo4"),i=n("wd/R"),o=n("y5b2"),c=n("Wgwc"),s=n.n(c),r=n("fXoL");let l=(()=>{class t{constructor(){this.DEFAULT_SCHEME={paymentStatus:o.d.ALL,recipientIban:null,recipientBin:null,operationType:o.h.ALL,documentNumber:"",amountFrom:"",amountTo:"",periodType:o.e.TODAY,periodFrom:this.todayPeriod.from,periodTo:this.todayPeriod.to,sortBy:o.f.DEFAULT,comission:o.a.WITH_COMISSION},this.scheme=this.getDefaults(o.c.ACCOUNTS),this.scheme$=new a.a(this.scheme),this.PERIOD_LIST=[{type:o.e.TODAY,label:"FILTER.PERIOD.TODAY",showDates:!1,dates:this.todayPeriod},{type:o.e.YESTERDAY,label:"FILTER.PERIOD.YESTERDAY",showDates:!1,dates:this.yesterdayPeriod},{type:o.e.CURRENT_WEEK,label:"FILTER.PERIOD.CURRENT_WEEK",showDates:!0,dates:this.currentWeekPeriod},{type:o.e.CURRENT_MONTH,label:"FILTER.PERIOD.CURRENT_MONTH",showDates:!0,dates:this.currentMonthPeriod},{type:o.e.CURRENT_QUARTER,label:"FILTER.PERIOD.CURRENT_QUARTER",showDates:!0,dates:this.currentQuarterPeriod},{type:o.e.PREVIOUS_QUARTER,label:"FILTER.PERIOD.PREVIOUS_QUARTER",showDates:!0,dates:this.previousQuarterPeriod},{type:o.e.CUSTOM,label:"FILTER.PERIOD.CUSTOM",showDates:!0,hasCalendarIcon:!0,dates:null}],this.STATUSES=[{label:"HISTORY.LISTS.ALL",value:o.d.ALL,count:0,classList:"badge-primary",isSelected:!0,isDisabled:!1},{label:"HISTORY.LISTS.FOR_SIGN",value:o.d.FOR_SIGN,count:0,classList:"badge-primary",isSelected:!1,isDisabled:!1},{label:"HISTORY.LISTS.SUCCESS",value:o.d.SUCCESS,count:0,classList:"badge-light",isSelected:!1,isDisabled:!1},{label:"HISTORY.LISTS.FAILED",value:o.d.FAILED,count:0,classList:"badge-primary",isSelected:!1,isDisabled:!1},{label:"HISTORY.LISTS.IN_PROGRESS",value:o.d.IN_PROGRESS,count:0,classList:"badge-light",isSelected:!1,isDisabled:!1},{label:"HISTORY.LISTS.DRAFT",value:o.d.DRAFT,count:0,classList:"badge-light",isSelected:!1,isDisabled:!1}],this.statuses$=new a.a(this.STATUSES)}getStatuses(){return this.statuses$.asObservable()}getDefaults(t){const e=Object.assign({},this.DEFAULT_SCHEME);switch(t){case o.c.HISTORY:e.periodType=o.e.NONE,e.periodFrom=null,e.periodTo=null;break;case o.c.DEPOSITS:e.periodType=o.e.CUSTOM,e.periodFrom=s()().subtract(3,"months").toDate(),e.periodTo=s()().toDate()}return e}getScheme(){return this.scheme$.asObservable()}updateStatus(t){this.scheme.paymentStatus=t,this.STATUSES.forEach(e=>{e.isSelected=e.value===t}),this.statuses$.next(this.STATUSES)}updateOperation(t){this.scheme.operationType=t,this.updateScheme()}updatePeriod(t,e=null,n=null){this.scheme.periodType=t,e&&(this.scheme.periodFrom=e),n&&(this.scheme.periodTo=n),this.updateScheme()}findPeriod(t){return this.PERIOD_LIST.find(e=>e.type==t)}updateRecipient(t){const{recipient:e,account:n}=t;this.scheme.recipientBin=e.iinOrBin,n&&(this.scheme.recipientIban=n.iban),this.updateScheme()}updateExtra(t){this.scheme=t,this.updateStatus(this.scheme.paymentStatus),this.updateScheme()}updateFailedCount(t){this.STATUSES.find(t=>t.value==o.d.FAILED).count=t,this.statuses$.next(this.STATUSES)}updateInProgressCount(t){this.STATUSES.find(t=>t.value==o.d.IN_PROGRESS).count=t,this.statuses$.next(this.STATUSES)}updateForSignCount(t,e=!1){const n=this.STATUSES.find(t=>t.value==o.d.FOR_SIGN);n.count=t,n.classList=e?"badge-primary":"badge-light",this.statuses$.next(this.STATUSES)}updateScheme(){this.scheme&&this.scheme$.next(this.scheme)}get todayPeriod(){const t=this.now;return{from:this.startOfTheDay().toDate(),to:t}}get yesterdayPeriod(){const t=this.startOfTheDay().subtract(1,"millisecond").toDate();return{from:this.startOfTheDay().subtract(1,"day").toDate(),to:t}}get currentWeekPeriod(){const t=this.now;return{from:this.startOfTheWeek().toDate(),to:t}}get currentMonthPeriod(){const t=this.now;return{from:this.startOfTheMonth().toDate(),to:t}}get currentQuarterPeriod(){const t=this.now;return{from:this.startOfTheQuarter().toDate(),to:t}}get previousQuarterPeriod(){return{from:this.startOfTheQuarter().subtract(1,"quarter").toDate(),to:this.startOfTheQuarter().subtract(1,"millisecond").toDate()}}startOfTheYear(){return this.startOfTheMonth(i().month(0))}startOfTheQuarter(){const t=i().quarter();return this.startOfTheYear().quarter(t)}startOfTheMonth(t=i()){return this.startOfTheDay(t.date(1))}startOfTheWeek(){return this.startOfTheDay(i().isoWeekday(1))}startOfTheDay(t=i()){return t.hours(0).minutes(0).seconds(0).milliseconds(0)}get now(){return new Date}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Mb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},l2AU:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("quSY"),i=n("fXoL"),o=n("jZlK");let c=(()=>{class t{constructor(t){this.filterService=t,this.subscription=new a.a;const e=this.filterService.getStatuses().subscribe(t=>{this.statuses=t});this.subscription.add(e)}ngOnDestroy(){this.subscription.unsubscribe()}onSelect(t){this.filterService.updateStatus(t),this.filterService.updateScheme()}get selected(){return this.statuses.find(t=>!0===t.isSelected)}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(o.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-filter-status"]],decls:1,vars:1,consts:[[3,"statuses","selected"]],template:function(t,e){1&t&&(i.Wb(0,"j-statuses",0),i.ic("selected",(function(t){return e.onSelect(t)})),i.Vb()),2&t&&i.uc("statuses",e.statuses)},styles:[""]}),t})()},lYAS:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("fXoL"),i=n("1kSV");function o(t,e){if(1&t&&(a.Wb(0,"p",12),a.Tc(1),a.Vb()),2&t){const t=a.mc();a.Ab(1),a.Vc(" ",t.errorText," ")}}let c=(()=>{class t{constructor(t){this.modal=t}dismissModal(){this.modal.dismiss()}closeModal(){this.modal.close()}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(i.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-transaction-sign-error"]],inputs:{transaction:"transaction",errorText:"errorText"},decls:17,vars:8,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body","text-center","pb-4"],["src","/assets/img/history/modals/error.svg",3,"alt"],["translate","",1,"light","mb-3","mt-2"],[3,"money"],["translate","",1,"m-0","text-muted"],["class","mt-3 mb-0 text-danger",4,"ngIf"],[1,"modal-footer","py-4","px-3","justify-content-center"],["translate","","type","button",1,"btn","btn-primary","btn-block","mb-3",3,"click"],["translate","","type","button",1,"btn","btn-static","btn-link","m-0",3,"click"],[1,"mt-3","mb-0","text-danger"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"button",1),a.ic("click",(function(t){return e.dismissModal()})),a.Rb(2,"img",2),a.nc(3,"translate"),a.Vb(),a.Vb(),a.Wb(4,"div",3),a.Rb(5,"img",4),a.nc(6,"translate"),a.Wb(7,"h3",5),a.Rb(8,"j-money",6),a.Vb(),a.Wb(9,"p",7),a.Tc(10," STATEMENT.TRANSACTION.SIGN_FAILED "),a.Vb(),a.Rc(11,o,2,1,"p",8),a.Vb(),a.Wb(12,"div",9),a.Wb(13,"button",10),a.ic("click",(function(t){return e.closeModal()})),a.Tc(14," SHARED.TRY_AGAIN "),a.Vb(),a.Wb(15,"button",11),a.ic("click",(function(t){return e.dismissModal()})),a.Tc(16," HISTORY.BACK_TO_HISTORY "),a.Vb(),a.Vb()),2&t&&(a.Ab(2),a.vc("alt",a.oc(3,4,"SHARED.CLOSE")),a.Ab(3),a.vc("alt",a.oc(6,6,"HISTORY.FAILED.TITLE")),a.Ab(3),a.uc("money",e.transaction.balance),a.Ab(3),a.uc("ngIf",e.errorText))},styles:[""]}),t})()},mQSa:function(t,e,n){"use strict";n.d(e,"a",(function(){return Fe}));var a=n("ofXK"),i=n("tyNb"),o=n("3Pt+"),c=n("PCNd"),s=n("fXoL"),r=n("hsBV"),l=n("pZP7"),d=n("UZjs"),b=n("JvPu"),u=n("wwEr"),m=n("3v+J"),p=n("Y+uv"),h=n("/zfT"),g=n("xWtO"),f=n("BV3K"),T=n("B+58"),y=n("zOyH"),v=n("Cg+c"),S=n("Dwsl"),_=n("+uUT"),A=n("Ya7Z"),C=n("13E/"),O=n("cZYL"),I=n("jMpN"),E=n("ttPG"),x=n("vZvt"),P=n("mCLR"),w=n("0eeg"),R=n("Wo9y"),V=n("EBek"),M=n("570E"),k=n("zdqJ"),W=n("i2Gl"),N=n("Kcpt"),L=n("Frqi"),D=n("M6pS"),j=n("paXB"),F=n("Q98t"),U=n("EiG8"),G=n("4oqK"),B=n("c66K"),H=n("QfCG"),Y=n("oa9T"),K=n("SfXN"),$=n("H6TZ"),Q=n("jRXw"),X=n("2aJj"),q=n("VA2L"),z=n("0AMz"),J=n("W3Es"),Z=n("R4CF"),tt=n("9txL"),et=n("LXWx"),nt=n("5I09"),at=n("S1F0"),it=n("oKsb"),ot=n("fvpk"),ct=n("Tile"),st=n("aF9I"),rt=n("aZ8m"),lt=n("UhoJ"),dt=n("sCra"),bt=n("fGuG"),ut=n("7/bn"),mt=n("Bl/x"),pt=n("zN9f"),ht=n("Kx/q"),gt=n("2FF4"),ft=n("bSvt"),Tt=n("jH+I"),yt=n("4cI0"),vt=n("kUBv"),St=n("9Udv"),_t=n("0jn5"),At=n("fK/r"),Ct=n("Hjq/"),Ot=n("PGAL"),It=n("Kx0l"),Et=n("gdaf"),xt=n("LFY/"),Pt=n("I+WJ"),wt=n("lABO"),Rt=n("hJI6"),Vt=n("JB36"),Mt=n("4zJ+"),kt=n("XpgD"),Wt=n("MfWJ"),Nt=n("B8HE"),Lt=n("5DAB"),Dt=n("DHTX"),jt=n("6goL"),Ft=n("kDIH"),Ut=n("BAfr"),Gt=n("ajRT"),Bt=n("NpBu"),Ht=n("TaxS"),Yt=n("tkTF"),Kt=n("yy4r"),$t=n("wGsJ"),Qt=n("ZVDf"),Xt=n("l/gM"),qt=n("UoEe"),zt=n("gN/K"),Jt=n("+hcb"),Zt=n("h7tf"),te=n("9odQ"),ee=n("WqMH"),ne=n("3MRA"),ae=n("y6vz"),ie=n("Zgqj"),oe=n("oMXN"),ce=n("rqas"),se=n("dnqU"),re=n("tp+K"),le=n("saU0"),de=n("ZF3e"),be=n("tmjD"),ue=n("JqCM"),me=n("qew9"),pe=n("d/d6"),he=n("e8Ap"),ge=n("sYmb"),fe=n("1kSV"),Te=n("Dvla"),ye=n("K1R0"),ve=n("xJkR"),Se=n("dlKe"),_e=n("DPnb"),Ae=n("C6g9"),Ce=n("3M96"),Oe=n("DHcY"),Ie=n("adOO"),Ee=n("Eajh"),xe=n("Ub7F"),Pe=n("OHc7"),we=n("I0Rk"),Re=n("tepA"),Ve=n("Bs9s"),Me=n("ScFe"),ke=n("SCaJ"),We=n("wV3k"),Ne=n("wY9W"),Le=n("7Fmj"),De=n("g1SY"),je=n("3skF");let Fe=(()=>{class t{}return t.\u0275mod=s.Ob({type:t}),t.\u0275inj=s.Nb({factory:function(e){return new(e||t)},imports:[[a.c,c.a,i.g,o.n,o.D]]}),t})();s.Lc(r.a,[r.a,l.a,d.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,b.a,u.a,m.a,p.a,h.a,g.a,f.b,T.a,y.a,v.a,S.a,_.a,A.a,f.a,C.a,O.b,O.a,I.a,E.a,x.a,P.a,w.a,R.a,V.a,M.a,k.a,W.b,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.b,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.b,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.E,fe.C,Te.a,Te.b,ye.a,ve.a,Se.a,_e.a,_e.c,_e.b,Ae.a,Ce.a,i.h,i.d,i.f,i.e,i.i,o.J,o.y,o.I,o.c,o.z,o.C,o.a,o.F,o.G,o.B,o.t,o.u,o.E,o.p,o.o,o.A,o.b,o.d,o.w,o.x,o.v,o.i,o.l,o.j,o.m,o.f],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Oe.a,Ie.a,Ee.a,xe.a,Pe.a,we.a,Re.a,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,be.b,je.a,ge.d]),s.Lc(l.a,[r.a,l.a,d.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,b.a,u.a,m.a,p.a,h.a,g.a,f.b,T.a,y.a,v.a,S.a,_.a,A.a,f.a,C.a,O.b,O.a,I.a,E.a,x.a,P.a,w.a,R.a,V.a,M.a,k.a,W.b,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.b,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.b,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.E,fe.C,Te.a,Te.b,ye.a,ve.a,Se.a,_e.a,_e.c,_e.b,Ae.a,Ce.a,i.h,i.d,i.f,i.e,i.i,o.J,o.y,o.I,o.c,o.z,o.C,o.a,o.F,o.G,o.B,o.t,o.u,o.E,o.p,o.o,o.A,o.b,o.d,o.w,o.x,o.v,o.i,o.l,o.j,o.m,o.f],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Oe.a,Ie.a,Ee.a,xe.a,Pe.a,we.a,Re.a,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,be.b,je.a,ge.d]),s.Lc(d.a,[r.a,l.a,d.a,a.r,a.s,a.t,a.u,a.B,a.x,a.y,a.z,a.A,a.v,a.w,b.a,u.a,m.a,p.a,h.a,g.a,f.b,T.a,y.a,v.a,S.a,_.a,A.a,f.a,C.a,O.b,O.a,I.a,E.a,x.a,P.a,w.a,R.a,V.a,M.a,k.a,W.b,N.a,L.a,D.a,j.a,F.a,U.a,G.a,B.a,H.a,Y.a,K.a,$.a,Q.a,X.a,q.a,z.a,J.a,Z.a,tt.a,et.a,nt.a,at.a,it.a,ot.a,ct.a,st.a,rt.a,lt.a,dt.a,bt.a,ut.a,mt.a,pt.a,ht.a,gt.a,ft.a,Tt.a,yt.a,vt.a,St.a,_t.a,At.a,Ct.a,Ot.a,It.a,Et.a,xt.a,Pt.a,wt.a,Rt.a,Vt.a,Mt.a,kt.a,Wt.a,Nt.a,Lt.b,Dt.a,jt.a,Ft.a,Ut.a,Gt.a,Bt.a,Ht.a,Yt.a,Kt.a,$t.a,Qt.a,Xt.a,qt.a,zt.a,Jt.a,Zt.a,te.b,ee.a,ne.a,ae.a,ie.a,oe.a,ce.a,se.a,re.a,le.a,de.a,be.a,ue.a,me.a,pe.a,he.a,ge.a,fe.E,fe.C,Te.a,Te.b,ye.a,ve.a,Se.a,_e.a,_e.c,_e.b,Ae.a,Ce.a,i.h,i.d,i.f,i.e,i.i,o.J,o.y,o.I,o.c,o.z,o.C,o.a,o.F,o.G,o.B,o.t,o.u,o.E,o.p,o.o,o.A,o.b,o.d,o.w,o.x,o.v,o.i,o.l,o.j,o.m,o.f],[a.b,a.I,a.q,a.l,a.F,a.g,a.D,a.G,a.d,a.f,a.j,a.k,a.m,Oe.a,Ie.a,Ee.a,xe.a,Pe.a,we.a,Re.a,Ve.a,Me.a,ke.a,We.a,Ne.a,Le.a,De.a,be.b,je.a,ge.d])},n6qU:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var a=n("fXoL"),i=n("sYmb");let o=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-print"]],decls:3,vars:3,consts:[["href","#",1,"print-link"],["src","/assets/icons/print.svg",3,"alt"]],template:function(t,e){1&t&&(a.Wb(0,"a",0),a.Rb(1,"img",1),a.nc(2,"translate"),a.Vb()),2&t&&(a.Ab(1),a.uc("alt",a.oc(2,1,"FILTER.PRINT")))},pipes:[i.d],styles:[".print-link[_ngcontent-%COMP%]{color:#1586bb;height:35px;padding-left:.5rem;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.print-link[_ngcontent-%COMP%]:hover{opacity:.6;color:#1586bb}"]}),t})()},pThr:function(t,e,n){"use strict";n.d(e,"a",(function(){return nt}));var a=n("mrSG"),i=n("fXoL"),o=n("ofXK"),c=n("quSY"),s=n("LRne"),r=n("pLZG"),l=n("IzEk"),d=n("JIr8"),b=n("YMfE"),u=n("TwVa"),m=n("2G+r"),p=n("bHA9"),h=n("rEgK"),g=n("VnnJ"),f=n("iCQh");const T=["signersTooltipTemplate"],y=["title"],v=["description"];function S(t,e){if(1&t&&i.Sb(0,16),2&t){i.mc(2);const t=i.Fc(3);i.uc("ngTemplateOutlet",t)}}function _(t,e){if(1&t&&i.Sb(0,16),2&t){i.mc(2);const t=i.Fc(13);i.uc("ngTemplateOutlet",t)}}function A(t,e){if(1&t){const t=i.Xb();i.Wb(0,"section",12),i.ic("click",(function(e){return i.Ic(t),i.mc().onClick()})),i.Rc(1,S,1,1,"ng-container",13),i.Wb(2,"section",14),i.Wb(3,"section",15),i.Sb(4,16),i.Vb(),i.Wb(5,"div",17),i.Sb(6,16),i.Rc(7,_,1,1,"ng-container",13),i.Vb(),i.Vb(),i.Vb()}if(2&t){const t=i.mc(),e=i.Fc(5),n=i.Fc(11);i.Hb("transaction--statement",!t.transaction.isPayment)("transaction--loading",t.transaction.isLoading)("transaction--selected",t.transaction.isSelected)("transaction--large-amounts",t.hasLargeTransactions),i.Ab(1),i.uc("ngIf",t.isSelectable),i.Ab(3),i.uc("ngTemplateOutlet",e),i.Ab(2),i.uc("ngTemplateOutlet",n),i.Ab(1),i.uc("ngIf",t.transaction.isPayment&&t.actions)}}function C(t,e){if(1&t){const t=i.Xb();i.Wb(0,"section",18),i.Wb(1,"div",19),i.ic("click",(function(e){return i.Ic(t),i.mc().hideDetails()})),i.Vb(),i.Wb(2,"section",20),i.Wb(3,"j-transaction-details",21),i.ic("edited",(function(e){return i.Ic(t),i.mc().editPayment(null,e)}))("repeated",(function(e){return i.Ic(t),i.mc().repeatPayment(null,e)}))("exported",(function(e){return i.Ic(t),i.mc().exportPayment(null,e)}))("downloaded",(function(e){return i.Ic(t),i.mc().downloadIncomingPayment(null,e)}))("deleted",(function(e){return i.Ic(t),i.mc().deletePayment(null,e)}))("revoked",(function(e){return i.Ic(t),i.mc().revokePayment(null,e)}))("signed",(function(e){return i.Ic(t),i.mc().signPayment(null,e)}))("sentForSign",(function(e){return i.Ic(t),i.mc().sendForSign(null,e)}))("closed",(function(e){return i.Ic(t),i.mc().hideDetails()})),i.Vb(),i.Vb(),i.Vb()}if(2&t){const t=i.mc();i.uc("ngClass",t.wrapperClasses),i.Ab(2),i.uc("ngClass",t.detailsClasses),i.Ab(1),i.uc("transaction",t.transaction)("mode",t.mode)("signers",t.signers)("hasExtraPadding",t.hasExtraPadding)}}function O(t,e){if(1&t){const t=i.Xb();i.Wb(0,"div",22),i.ic("click",(function(e){return i.Ic(t),e.stopPropagation()})),i.nc(1,"translate"),i.Wb(2,"input",23),i.ic("ngModelChange",(function(e){return i.Ic(t),i.mc().transaction.isSelected=e}))("change",(function(e){return i.Ic(t),i.mc().onSelect()}))("click",(function(e){return i.Ic(t),e.stopPropagation()})),i.Vb(),i.Rb(3,"label",24),i.Vb()}if(2&t){const t=i.mc();i.uc("ngbTooltip",i.oc(1,4,"STATEMENT.TRANSACTION.SELECT")),i.Ab(2),i.uc("ngModel",t.transaction.isSelected)("id",t.id),i.Ab(1),i.uc("for",t.id)}}function I(t,e){if(1&t&&i.Rb(0,"j-transaction-type",32),2&t){const t=i.mc(2);i.uc("transaction",t.transaction)}}function E(t,e){if(1&t&&i.Sb(0,16),2&t){i.mc(2);const t=i.Fc(7);i.uc("ngTemplateOutlet",t)}}function x(t,e){1&t&&i.Rb(0,"span",33)}function P(t,e){if(1&t&&(i.Wb(0,"span",34),i.Tc(1),i.Vb()),2&t){const t=i.mc(2);i.Ab(1),i.Vc(" \u2116 ",t.transaction.documentNumber," ")}}function w(t,e){if(1&t&&i.Sb(0,16),2&t){i.mc(2);const t=i.Fc(9);i.uc("ngTemplateOutlet",t)}}function R(t,e){if(1&t&&(i.Rc(0,I,1,1,"j-transaction-type",25),i.Rc(1,E,1,1,"ng-container",13),i.Wb(2,"div",26),i.Rc(3,x,1,0,"span",27),i.Rc(4,P,2,1,"span",28),i.Vb(),i.Wb(5,"div",29),i.Tc(6),i.nc(7,"async"),i.Vb(),i.Rc(8,w,1,1,"ng-container",13),i.Wb(9,"h5",30),i.Rb(10,"j-money",31),i.Vb()),2&t){const t=i.mc();i.uc("ngIf",!t.transaction.isPayment),i.Ab(1),i.uc("ngIf",t.transaction.isPayment&&t.transaction.paymentStatus),i.Ab(2),i.uc("ngIf",t.transaction.category==t.TRANSACTION_CATEGORY.REFUND),i.Ab(1),i.uc("ngIf",t.transaction.category!=t.TRANSACTION_CATEGORY.REFUND),i.Ab(2),i.Vc(" ",i.oc(7,9,t.transaction.dateStatusText)," "),i.Ab(2),i.uc("ngIf",t.transaction.isPayment&&t.transaction.paymentStatus),i.Ab(2),i.uc("money",t.transaction.balance)("isCredit",!t.transaction.isDebit)("isDebit",t.transaction.isDebit)}}function V(t,e){if(1&t&&(i.Ub(0),i.Rb(1,"div",36),i.Tb()),2&t){const t=i.mc(2),e=i.Fc(21);i.Ab(1),i.Db(null==t.paymentStatus?null:t.paymentStatus.classList),i.uc("ngbTooltip",e)("inlineSVG","/assets/icons/transaction/status.svg")}}function M(t,e){if(1&t&&(i.Ub(0),i.Rb(1,"div",37),i.Tb()),2&t){const t=i.mc(2);i.Ab(1),i.Db(null==t.paymentStatus?null:t.paymentStatus.classList),i.uc("inlineSVG","/assets/icons/transaction/status.svg")}}function k(t,e){if(1&t&&(i.Rc(0,V,2,4,"ng-container",35),i.Rc(1,M,2,3,"ng-container",35)),2&t){const t=i.mc();i.uc("ngIf",t.statusHistory),i.Ab(1),i.uc("ngIf",!t.statusHistory)}}function W(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"div",38),i.Tc(2),i.Vb(),i.Tb()),2&t){const t=i.mc(2),e=i.Fc(21);i.Ab(1),i.Db(null==t.paymentStatus?null:t.paymentStatus.classList),i.uc("ngbTooltip",e),i.Ab(1),i.Vc(" ",null==t.paymentStatus?null:t.paymentStatus.label," ")}}function N(t,e){if(1&t&&(i.Ub(0),i.Wb(1,"div",39),i.Tc(2),i.Vb(),i.Tb()),2&t){const t=i.mc(2);i.Ab(1),i.Db(null==t.paymentStatus?null:t.paymentStatus.classList),i.Ab(1),i.Vc(" ",null==t.paymentStatus?null:t.paymentStatus.label," ")}}function L(t,e){if(1&t&&(i.Rc(0,W,3,4,"ng-container",35),i.Rc(1,N,3,3,"ng-container",35)),2&t){const t=i.mc();i.uc("ngIf",t.statusHistory),i.Ab(1),i.uc("ngIf",!t.statusHistory)}}function D(t,e){if(1&t&&(i.Rb(0,"div",44),i.nc(1,"translate")),2&t){const t=i.mc(2);i.Db(null==t.paymentStatus?null:t.paymentStatus.classList),i.uc("jClamp",2)("innerText",i.pc(1,4,t.transaction.paymentMessage,t.transaction.paymentMessageTranslateParams))}}function j(t,e){if(1&t&&(i.Wb(0,"article",40),i.Rb(1,"div",41),i.Rb(2,"div",42),i.nc(3,"translate"),i.Rc(4,D,2,7,"div",43),i.Vb()),2&t){const t=i.mc();i.Ab(1),i.uc("jClamp",1)("innerText",t.title),i.Ab(1),i.uc("jClamp",2)("innerText",t.transaction.description||i.oc(3,5,"STATEMENT.TRANSACTION.NO_DESCRIPTION")),i.Ab(2),i.uc("ngIf","BANK_COMPLETED"!=(null==t.transaction.paymentStatus?null:t.transaction.paymentStatus.code))}}function F(t,e){if(1&t&&(i.Wb(0,"div",45),i.Sb(1,16),i.Vb()),2&t){i.mc();const t=i.Fc(15);i.Ab(1),i.uc("ngTemplateOutlet",t)}}const U=function(t){return{$implicit:t}};function G(t,e){if(1&t&&i.Sb(0,49),2&t){const t=e.$implicit;i.mc(2);const n=i.Fc(17);i.uc("ngTemplateOutlet",n)("ngTemplateOutletContext",i.zc(2,U,t))}}function B(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",50),i.ic("click",(function(e){return i.Ic(t),i.mc(2).signPayment(e)})),i.Vb()}if(2&t){i.mc(2);const t=i.Fc(19);i.uc("ngbTooltip",t)("inlineSVG","/assets/icons/transaction/sign.svg")}}function H(t,e){if(1&t&&(i.Wb(0,"span",51),i.Tc(1),i.Vb()),2&t){const t=i.mc(2),e=i.Fc(19);i.uc("ngbTooltip",e),i.Ab(1),i.Vc(" ",t.transaction.signsCountText," ")}}function Y(t,e){if(1&t&&(i.Rc(0,G,1,4,"ng-container",46),i.Rc(1,B,1,2,"a",47),i.Rc(2,H,2,2,"span",48)),2&t){const t=i.mc();i.uc("ngForOf",t.actions),i.Ab(1),i.uc("ngIf",t.transaction.isSignable),i.Ab(1),i.uc("ngIf",t.transaction.isSignableByOthers)}}const K=function(){return{skipTourEnding:!0}};function $(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",54),i.ic("click",(function(e){return i.Ic(t),i.mc(2).$implicit.clickHandler(e)})),i.nc(1,"translate"),i.Vb()}if(2&t){const t=i.mc(2).$implicit;i.Db(t.extraClasses),i.uc("jTour",t.tour)("jTourOptions",i.yc(8,K))("ngbTooltip",t.tooltipTemplate?t.tooltipTemplate:i.oc(1,6,t.tooltip))("inlineSVG",t.icon)}}function Q(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",55),i.ic("click",(function(e){return i.Ic(t),i.mc(2).$implicit.clickHandler(e)})),i.nc(1,"translate"),i.Vb()}if(2&t){const t=i.mc(2).$implicit;i.Db(t.extraClasses),i.uc("ngbTooltip",t.tooltipTemplate?t.tooltipTemplate:i.oc(1,4,t.tooltip))("inlineSVG",t.icon)}}function X(t,e){if(1&t&&(i.Ub(0),i.Rc(1,$,2,9,"a",52),i.Rc(2,Q,2,6,"a",53),i.Tb()),2&t){const t=i.mc().$implicit;i.Ab(1),i.uc("ngIf",t.tour),i.Ab(1),i.uc("ngIf",!t.tour)}}function q(t,e){1&t&&i.Rc(0,X,3,2,"ng-container",35),2&t&&i.uc("ngIf",e.$implicit.isShown)}function z(t,e){if(1&t&&(i.Wb(0,"div",57),i.Wb(1,"span",58),i.Tc(2),i.Vb(),i.Tc(3," \xa0 "),i.Wb(4,"span",59),i.Tc(5),i.Vb(),i.Vb()),2&t){const t=e.$implicit;i.Ab(2),i.Uc(t.name),i.Ab(2),i.Db(t.classList),i.Ab(1),i.Uc(t.label)}}function J(t,e){if(1&t&&i.Rc(0,z,6,4,"div",56),2&t){const t=i.mc();i.uc("ngForOf",t.signers)}}function Z(t,e){if(1&t&&(i.Wb(0,"div",66),i.Wb(1,"span"),i.Tc(2),i.nc(3,"date"),i.Vb(),i.Wb(4,"span",67),i.Tc(5),i.nc(6,"date"),i.Vb(),i.Vb()),2&t){const t=i.mc().$implicit;i.Ab(2),i.Vc(" ",i.pc(3,2,t.time,"dd.MM.yy")," "),i.Ab(3),i.Vc(" ",i.pc(6,5,t.time,"HH:mm")," ")}}function tt(t,e){if(1&t&&(i.Wb(0,"li",62),i.Rb(1,"span",63),i.Wb(2,"div",64),i.Tc(3),i.nc(4,"translate"),i.Vb(),i.Rc(5,Z,7,8,"div",65),i.Vb()),2&t){const t=e.$implicit;i.Ab(1),i.Db(t.iconClassList),i.uc("inlineSVG","/assets/icons/transaction/status.svg"),i.Ab(1),i.Db(t.labelClassList),i.Ab(1),i.Uc(i.oc(4,7,t.label)),i.Ab(2),i.uc("ngIf",t.time)}}function et(t,e){if(1&t&&(i.Wb(0,"ul",60),i.Rc(1,tt,6,9,"li",61),i.Vb()),2&t){const t=i.mc();i.Ab(1),i.uc("ngForOf",t.statusHistory)}}let nt=(()=>{class t{constructor(t,e,n,a,o){this.dictionariesService=t,this.statementService=e,this.companyService=n,this.filesService=a,this.document=o,this.id=Object(b.generateUniqueId)(),this.TRANSACTION_CATEGORY=m.a,this.hasExtraPadding=!1,this.hasLargeTransactions=!1,this.isSelectable=!1,this.deleted=new i.n,this.selected=new i.n,this.signed=new i.n,this.sentForSign=new i.n,this.exported=new i.n,this.downloaded=new i.n,this.revoked=new i.n,this.signers=[],this.PAYMENT_STATUS=u.i,this.isDetailsShown=!1,this.isAnimating=!1,this.isEditable=!1,this.isSignable=!1,this.isSignableByOthers=!1,this.wrapperClasses="",this.detailsClasses="",this.subscription=new c.a}ngOnDestroy(){this.subscription.unsubscribe()}ngOnInit(){this.paymentStatus=this.statementService.generatePaymentStatusLabel(this.transaction);const t=this.dictionariesService.KNPDictionary.items$.pipe(Object(r.a)(t=>t.length>0),Object(l.a)(1)).subscribe(t=>{this.transaction.knp=t.find(t=>{var e,n,a;return(null===(e=t)||void 0===e?void 0:e.code)===(null===(a=null===(n=this.transaction)||void 0===n?void 0:n.knp)||void 0===a?void 0:a.code)})}),e=this.companyService.getAuthorizedPersons().pipe(Object(d.a)((t,e)=>Object(s.a)([]))).subscribe(t=>{this.authorizedPersons=t,this.generateSignersList()});this.subscription.add(e),this.subscription.add(t),this.mapPaymentActions()}get title(){return this.statementService.getTransactionTitle(this.transaction)}onClick(){this.showDetails()}onSelect(){this.selected.emit(this.transaction.isSelected)}repeatPayment(t=null,e=this.transaction){t&&(t.preventDefault(),t.stopPropagation()),this.statementService.repeatPayment(e)}editPayment(t=null,e=this.transaction){t&&(t.preventDefault(),t.stopPropagation()),this.statementService.editPayment(e)}exportPayment(t=null,e=this.transaction){return Object(a.a)(this,void 0,void 0,(function*(){t&&(t.preventDefault(),t.stopPropagation()),this.exported.emit(e);const n=yield this.statementService.exportTransaction(e);this.filesService.downloadFile(n,`\u2116${e.documentNumber}.pdf`)}))}downloadIncomingPayment(t=null,e=this.transaction){return Object(a.a)(this,void 0,void 0,(function*(){t&&(t.preventDefault(),t.stopPropagation()),this.downloaded.emit(e);const n=yield this.statementService.exportIncomingPayment(e);this.filesService.downloadFile(n,`\u2116${e.documentNumber}.pdf`)}))}deletePayment(t=null,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.hideDetails(),this.deleted.emit(e)}signPayment(t=null,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.signed.emit(e),this.hideDetails()}sendForSign(t=null,e=this.transaction){var n,a;null===(n=t)||void 0===n||n.preventDefault(),null===(a=t)||void 0===a||a.stopPropagation(),this.sentForSign.emit(e),this.hideDetails()}revokePayment(t=null,e=this.transaction){var n;null===(n=t)||void 0===n||n.preventDefault(),this.revoked.emit(e),this.hideDetails()}showDetails(){this.isAnimating||(this.isAnimating=!0,this.isDetailsShown=!0,this.wrapperClasses="animate__animated zoomInJ",setTimeout(()=>{this.document.body.classList.add("overflow-hidden"),this.detailsClasses="is-shown"},250),setTimeout(()=>{this.wrapperClasses="",this.isAnimating=!1},300))}hideDetails(){this.isAnimating||(this.isAnimating=!0,this.detailsClasses="",this.wrapperClasses="animate__animated zoomOutJ",setTimeout(()=>{this.document.body.classList.remove("overflow-hidden")},250),setTimeout(()=>{this.wrapperClasses="",this.isDetailsShown=!1,this.isAnimating=!1},300))}generateSignersList(){var t;this.signers=this.companyService.generateSignersList(null===(t=this.transaction.paymentStatus)||void 0===t?void 0:t.code,this.transaction.signatureScheme,this.transaction.signatures)}loadStatusHistory(){return Object(a.a)(this,void 0,void 0,(function*(){if(!this.transaction.isPayment||!this.transaction.paymentId)return;const t=yield this.statementService.getStatusHistory(this.transaction);if(!t||0===t.length)return;const e=t[t.length-1].status;this.statusHistory=t.map(t=>{let n,a;switch(t.status){case u.i.BANK_COMPLETED:n="text-success",a="text-success";break;case u.i.TRANSFER_ROLLBACK:case u.i.REJECTED:n="text-danger",a="text-danger";break;case u.i.BANK_PROCESSING:n=e===u.i.BANK_PROCESSING?"text-warning":"",a=e===u.i.BANK_PROCESSING?"text-warning":"text-success";break;default:n="",a="text-success"}return{time:t.time,label:`HISTORY.STATUS_HISTORY.${t.status}`,iconClassList:a,labelClassList:n}});const n=e===u.i.REJECTED||e===u.i.BANK_COMPLETED||e===u.i.TRANSFER_ROLLBACK;if(e===u.i.CREATED&&this.statusHistory.push({label:`HISTORY.STATUS_HISTORY.${u.i.READY_TO_SEND}`,iconClassList:"text-muted",labelClassList:"text-muted"}),!n)switch(this.transaction.paymentStatus.code){case u.i.READY_TO_SEND:this.statusHistory.push({label:"HISTORY.STATUS_HISTORY.READY_TO_SEND_FROM_BANK",iconClassList:"text-warning",labelClassList:"text-warning"}),this.statusHistory.push({label:`HISTORY.STATUS_HISTORY.${u.i.BANK_COMPLETED}`,iconClassList:"text-muted",labelClassList:"text-muted"});break;case u.i.REJECTED:case u.i.TRANSFER_ROLLBACK:this.statusHistory.push({label:`HISTORY.STATUS_HISTORY.${this.transaction.paymentStatus.code}`,iconClassList:"text-danger",labelClassList:"text-danger"});break;case u.i.BANK_COMPLETED:this.statusHistory.push({label:`HISTORY.STATUS_HISTORY.${this.transaction.paymentStatus.code}`,iconClassList:"text-success",labelClassList:"text-success"});break;default:this.statusHistory.push({label:`HISTORY.STATUS_HISTORY.${u.i.BANK_COMPLETED}`,iconClassList:"text-muted",labelClassList:"text-muted"})}}))}mapPaymentActions(){const t="STATEMENT.TRANSACTION",e="/assets/icons/transaction";this.actions=[{isShown:this.transaction.isRemovable,tooltip:`${t}.DELETE`,icon:`${e}/delete.svg`,clickHandler:this.deletePayment.bind(this)},{isShown:this.transaction.isRevokable,tooltip:`${t}.REVOKE`,icon:`${e}/revoke.svg`,clickHandler:this.revokePayment.bind(this)},{isShown:this.transaction.isExportable,tooltip:`${t}.DOWNLOAD`,icon:`${e}/pdf.svg`,clickHandler:this.exportPayment.bind(this)},{isShown:this.transaction.isEditable,tooltip:`${t}.EDIT`,icon:`${e}/edit.svg`,clickHandler:this.editPayment.bind(this)},{isShown:this.transaction.isRepeatable,tooltip:`${t}.REPEAT`,icon:`${e}/repeat.svg`,clickHandler:this.repeatPayment.bind(this),tour:this.transaction.hasTour?"HISTORY_LIST.REPEAT":null},{isShown:!this.transaction.isSignable&&this.transaction.isSendableForSign,tooltip:`${t}.SEND_FOR_SIGN`,icon:`${e}/for-sign.svg`,extraClasses:"transaction__action--sign",clickHandler:this.sendForSign.bind(this)}]}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(p.a),i.Qb(h.a),i.Qb(g.a),i.Qb(f.a),i.Qb(o.e))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-transaction"]],contentQueries:function(t,e,n){var a;1&t&&i.Ib(n,T,!0,i.L),2&t&&i.Ec(a=i.jc())&&(e.signersTooltipTemplate=a.first)},viewQuery:function(t,e){var n;1&t&&(i.Yc(y,!0),i.Yc(v,!0)),2&t&&(i.Ec(n=i.jc())&&(e.titleRef=n.first),i.Ec(n=i.jc())&&(e.descriptionRef=n.first))},inputs:{mode:"mode",transaction:"transaction",hasExtraPadding:"hasExtraPadding",hasLargeTransactions:"hasLargeTransactions",isSelectable:"isSelectable"},outputs:{deleted:"deleted",selected:"selected",signed:"signed",sentForSign:"sentForSign",exported:"exported",downloaded:"downloaded",revoked:"revoked"},decls:22,vars:2,consts:[["class","transaction",3,"transaction--statement","transaction--loading","transaction--selected","transaction--large-amounts","click",4,"ngIf"],["class","f-page-wrapper is-shown",3,"ngClass",4,"ngIf"],["checkboxTemplate",""],["headerTemplate",""],["paymentStatusIcon",""],["paymentStatusLabel",""],["contentTemplate",""],["actionsTemplate",""],["actionsContentTemplate",""],["actionTemplate",""],["signersTooltipTemplate",""],["statusHistoryTemplate",""],[1,"transaction",3,"click"],[3,"ngTemplateOutlet",4,"ngIf"],[1,"transaction__content"],[1,"transaction__header"],[3,"ngTemplateOutlet"],[1,"transaction__body"],[1,"f-page-wrapper","is-shown",3,"ngClass"],[1,"f-page-backdrop",3,"click"],[1,"f-page-content","f-page-content--gray","f-page-content--quarter","transaction__details",3,"ngClass"],[3,"transaction","mode","signers","hasExtraPadding","edited","repeated","exported","downloaded","deleted","revoked","signed","sentForSign","closed"],["tooltipClass","tooltip-light",1,"custom-control","custom-checkbox","mr-1","transaction__select",3,"ngbTooltip","click"],["type","checkbox",1,"custom-control-input",3,"ngModel","id","ngModelChange","change","click"],[1,"custom-control-label",3,"for"],["class","transaction__img",3,"transaction",4,"ngIf"],[1,"p3","transaction__number"],["class","text-danger","translate","STATEMENT.TRANSACTION.REFUND",4,"ngIf"],["class","text-disabled",4,"ngIf"],[1,"p3","text-muted","transaction__date"],[1,"p1","transaction__amount"],["showSign","true",3,"money","isCredit","isDebit"],[1,"transaction__img",3,"transaction"],["translate","STATEMENT.TRANSACTION.REFUND",1,"text-danger"],[1,"text-disabled"],[4,"ngIf"],["container","body","tooltipClass","tooltip-light",1,"transaction__status-icon",3,"ngbTooltip","inlineSVG"],[1,"transaction__status-icon",3,"inlineSVG"],["container","body","tooltipClass","tooltip-light","translate","",1,"p3","transaction__status",3,"ngbTooltip"],["translate","",1,"p3","transaction__status"],[1,"transaction__info"],[1,"p1","transaction__title",3,"jClamp","innerText"],[1,"text-muted","text-small","transaction__description",3,"jClamp","innerText"],["class","text-small transaction__error",3,"class","jClamp","innerText",4,"ngIf"],[1,"text-small","transaction__error",3,"jClamp","innerText"],[1,"transaction__actions"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngFor","ngForOf"],["href","#","class","transaction__action transaction__action--sign","tooltipClass","tooltip-light","container","body",3,"ngbTooltip","inlineSVG","click",4,"ngIf"],["class","transaction__action","tooltipClass","tooltip-light",3,"ngbTooltip",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["href","#","tooltipClass","tooltip-light","container","body",1,"transaction__action","transaction__action--sign",3,"ngbTooltip","inlineSVG","click"],["tooltipClass","tooltip-light",1,"transaction__action",3,"ngbTooltip"],["href","#","jTourPosition","top","class","transaction__action","tooltipClass","tooltip-light",3,"jTour","jTourOptions","class","ngbTooltip","inlineSVG","click",4,"ngIf"],["href","#","class","transaction__action","container","body","tooltipClass","tooltip-light",3,"class","ngbTooltip","inlineSVG","click",4,"ngIf"],["href","#","jTourPosition","top","tooltipClass","tooltip-light",1,"transaction__action",3,"jTour","jTourOptions","ngbTooltip","inlineSVG","click"],["href","#","container","body","tooltipClass","tooltip-light",1,"transaction__action",3,"ngbTooltip","inlineSVG","click"],["class","signer",4,"ngFor","ngForOf"],[1,"signer"],[1,"text-dark"],["translate",""],[1,"status-history"],["class","status-history__item p4",4,"ngFor","ngForOf"],[1,"status-history__item","p4"],[1,"status-history__icon",3,"inlineSVG"],[1,"status-history__status"],["class","status-history__date",4,"ngIf"],[1,"status-history__date"],[1,"text-muted"]],template:function(t,e){1&t&&(i.Rc(0,A,8,12,"section",0),i.Rc(1,C,4,6,"section",1),i.Rc(2,O,4,6,"ng-template",null,2,i.Sc),i.Rc(4,R,11,11,"ng-template",null,3,i.Sc),i.Rc(6,k,2,2,"ng-template",null,4,i.Sc),i.Rc(8,L,2,2,"ng-template",null,5,i.Sc),i.Rc(10,j,5,7,"ng-template",null,6,i.Sc),i.Rc(12,F,2,1,"ng-template",null,7,i.Sc),i.Rc(14,Y,3,3,"ng-template",null,8,i.Sc),i.Rc(16,q,1,1,"ng-template",null,9,i.Sc),i.Rc(18,J,1,1,"ng-template",null,10,i.Sc),i.Rc(20,et,2,1,"ng-template",null,11,i.Sc)),2&t&&(i.uc("ngIf",e.transaction),i.Ab(1),i.uc("ngIf",e.isDetailsShown&&e.transaction))},styles:['.transaction[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:2rem;position:relative;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer}.transaction[_ngcontent-%COMP%]:hover:before{opacity:1}.transaction[_ngcontent-%COMP%]:before{content:"";display:block;position:absolute;left:-.75rem;right:-.75rem;top:-1rem;bottom:-1rem;z-index:0;box-shadow:0 0 1px rgba(0,0,0,.04),0 2px 6px rgba(0,0,0,.04),0 10px 20px rgba(0,0,0,.04);border-radius:.75rem;opacity:0;-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out}@media(min-width:1280px){.transaction[_ngcontent-%COMP%]:before{left:-1rem;right:-1rem}}.transaction--large-amounts[_ngcontent-%COMP%]   .transaction__amount[_ngcontent-%COMP%]{font-size:.875rem}@media(min-width:1280px){.transaction--large-amounts[_ngcontent-%COMP%]   .transaction__amount[_ngcontent-%COMP%]{font-size:1rem}}@media(min-width:1920px){.transaction--large-amounts[_ngcontent-%COMP%]   .transaction__amount[_ngcontent-%COMP%]{font-size:1rem}}.transaction--selected[_ngcontent-%COMP%]:before{opacity:1;background:#f5f9fd;border-radius:0;box-shadow:none;left:-1.5rem;right:-1.5rem}@media(min-width:1280px){.transaction--selected[_ngcontent-%COMP%]:before{left:-1.5rem;right:-1.5rem}}@media(min-width:1280px){.transaction--statement[_ngcontent-%COMP%]   .transaction__header[_ngcontent-%COMP%]{grid-template-columns:40px auto;grid-template-rows:minmax(0,auto) minmax(0,auto) minmax(0,auto);-webkit-column-gap:1.5rem;-moz-column-gap:1.5rem;column-gap:1.5rem}}@media(min-width:1280px){.transaction--statement[_ngcontent-%COMP%]   .transaction__number[_ngcontent-%COMP%]{grid-column-start:2;grid-column-end:3;grid-row-start:3;grid-row-end:4}}.transaction__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:.5rem}@media(min-width:1280px){.transaction__header[_ngcontent-%COMP%]{margin-bottom:0;align-self:start;position:relative;display:grid;grid-template-columns:125px auto;grid-template-rows:minmax(0,auto) minmax(0,auto);-webkit-column-gap:.25rem;-moz-column-gap:.25rem;column-gap:.25rem;-webkit-column-gap:.5rem;-moz-column-gap:.5rem;column-gap:.5rem}}.transaction__img[_ngcontent-%COMP%]{margin-right:.25rem}@media(min-width:1280px){.transaction__img[_ngcontent-%COMP%]{grid-column-start:1;grid-column-end:2;grid-row-start:1;grid-row-end:3;align-self:center;margin-right:0}}.transaction__img--hidden-sm[_ngcontent-%COMP%]{display:none}@media(min-width:1280px){.transaction__img--hidden-sm[_ngcontent-%COMP%]{display:block}}.transaction__select[_ngcontent-%COMP%]{z-index:1;position:relative}.transaction__date[_ngcontent-%COMP%]{line-height:1.3}@media(min-width:1280px){.transaction__date[_ngcontent-%COMP%]{align-self:baseline;grid-column-start:2;grid-column-end:3;grid-row-start:2;grid-row-end:3}}.transaction__amount[_ngcontent-%COMP%]{margin-bottom:0;margin-left:auto}@media(min-width:1280px){.transaction__amount[_ngcontent-%COMP%]{margin-left:unset;-webkit-box-align:baseline;align-items:baseline;align-self:baseline;grid-column-start:2;grid-column-end:3;grid-row-start:1;grid-row-end:2;line-height:27px;margin-bottom:.15rem}}.transaction__number[_ngcontent-%COMP%]{display:none}@media(min-width:670px){.transaction__number[_ngcontent-%COMP%]{margin-right:.5rem;white-space:nowrap;display:block}}@media(min-width:1280px){.transaction__number[_ngcontent-%COMP%]{margin-right:0}}.transaction__title[_ngcontent-%COMP%]{max-width:100%;margin-bottom:.25rem}.transaction__description[_ngcontent-%COMP%]{max-width:100%;line-height:20px;word-break:break-all}.transaction__error[_ngcontent-%COMP%]{max-width:100%;margin-top:.25rem;line-height:18px}.transaction__details[_ngcontent-%COMP%]{overflow:hidden;right:0;--animate-duration:0.25s}@media(min-width:1280px){.transaction__details[_ngcontent-%COMP%]{width:50%;max-width:450px}}.transaction__body[_ngcontent-%COMP%]{display:grid}@media(min-width:1280px){.transaction__body[_ngcontent-%COMP%]{grid-template-columns:minmax(0,1fr) 128px}}.transaction__content[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;z-index:1;position:relative}@media(min-width:1280px){.transaction__content[_ngcontent-%COMP%]{display:grid;-webkit-column-gap:1rem;-moz-column-gap:1rem;column-gap:1rem;grid-template-columns:minmax(0,4fr) minmax(0,8fr)}}.transaction__prefix[_ngcontent-%COMP%]{flex-shrink:0}.transaction__info[_ngcontent-%COMP%]{-webkit-box-flex:1;flex-grow:1;margin-right:1rem}.transaction__actions[_ngcontent-%COMP%]{display:none}@media(min-width:1280px){.transaction__actions[_ngcontent-%COMP%]{display:-webkit-box;display:flex;margin-left:auto;align-self:baseline}}.transaction__action[_ngcontent-%COMP%]{display:block;margin-left:.5rem;color:#b7bec5}.transaction__action[_ngcontent-%COMP%]:hover{color:#ef5630}.transaction__action--sign[_ngcontent-%COMP%]{color:#1586bb}.transaction__status[_ngcontent-%COMP%]{display:none}@media(min-width:1280px){.transaction__status[_ngcontent-%COMP%]{display:block;align-self:baseline}}.transaction__status-icon[_ngcontent-%COMP%]{margin-right:.5rem}@media(min-width:1280px){.transaction__status-icon[_ngcontent-%COMP%]{display:none}}.signer[_ngcontent-%COMP%]{text-align:left;white-space:nowrap}.status-history[_ngcontent-%COMP%]{display:-webkit-box;display:flex;list-style:none;padding:0;margin:0;position:relative}.status-history[_ngcontent-%COMP%]:before{content:"";position:absolute;top:9px;left:40px;right:40px;height:1px;background:#b7bec5;display:block}.status-history__item[_ngcontent-%COMP%]{position:relative;z-index:1;width:80px;margin-right:20px}.status-history__item[_ngcontent-%COMP%]:last-child{margin-right:0}']}),t})()},pZP7:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var a=n("L+ju"),i=n("fXoL");function o(t,e){1&t&&i.Rb(0,"span",12)}function c(t,e){1&t&&(i.Wb(0,"small",13),i.Tc(1,"ACCOUNTS.INACTIVE"),i.Vb())}function s(t,e){if(1&t&&(i.Wb(0,"small",14),i.Tc(1),i.Vb()),2&t){const t=i.mc();i.Ab(1),i.Uc(t.lockedMessage)}}let r=(()=>{class t{constructor(){}ngOnInit(){}get lockedMessage(){return`ACCOUNTS.STATE.${this.account.blockType}`}get label(){return this.account.accountType===a.a.ACCOUNT?"ACCOUNTS.DROPDOWN.REGULAR":"ACCOUNTS.DROPDOWN.DEPOSIT"}get isBlocked(){return this.account.isMigrated}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=i.Kb({type:t,selectors:[["j-account-item"]],inputs:{account:"account"},decls:14,vars:7,consts:[[1,"account-item"],["size","sm",1,"account-item__img",3,"name"],[1,"account-item__body","p3"],["translate","",1,"text-muted"],[1,"d-flex","align-items-center"],["class","mr-2","inlineSVG","assets/icons/v2/atf-24.svg",4,"ngIf"],[1,"text-dark"],[1,"ml-auto","d-flex","align-items-center"],["class","d-block text-muted mr-2","translate","",4,"ngIf"],[1,"p3","text-right"],[3,"money"],["class","d-block text-muted","translate","",4,"ngIf"],["inlineSVG","assets/icons/v2/atf-24.svg",1,"mr-2"],["translate","",1,"d-block","text-muted","mr-2"],["translate","",1,"d-block","text-muted"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Rb(1,"j-entity-logo",1),i.Wb(2,"div",2),i.Wb(3,"div",3),i.Tc(4),i.Vb(),i.Wb(5,"div",4),i.Rc(6,o,1,0,"span",5),i.Wb(7,"div",6),i.Tc(8),i.Vb(),i.Vb(),i.Vb(),i.Wb(9,"div",7),i.Rc(10,c,2,0,"small",8),i.Wb(11,"div",9),i.Rb(12,"j-money",10),i.Rc(13,s,2,1,"small",11),i.Vb(),i.Vb(),i.Vb()),2&t&&(i.Ab(1),i.uc("name",null==e.account?null:null==e.account.balance?null:e.account.balance.currency),i.Ab(3),i.Uc(e.label),i.Ab(2),i.uc("ngIf",null==e.account?null:e.account.alterCode),i.Ab(2),i.Uc(null==e.account?null:e.account.maskedIban),i.Ab(2),i.uc("ngIf",null==e.account?null:e.account.isMigrated),i.Ab(2),i.uc("money",null==e.account?null:e.account.balance),i.Ab(1),i.uc("ngIf",null==e.account?null:e.account.hasLockedState))},styles:["[_nghost-%COMP%]{display:block;width:100%}.account-item[_ngcontent-%COMP%]{width:100%;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-item--blocked[_ngcontent-%COMP%]{opacity:.4}.account-item__img[_ngcontent-%COMP%]{margin-right:1rem}.selected-account[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:end;align-items:flex-end;padding-right:1rem}.selected-account__label[_ngcontent-%COMP%]{top:10px!important;left:65px!important;-webkit-transform:scale(.75);transform:scale(.75)}.selected-account__label--all[_ngcontent-%COMP%]{left:21px!important}.selected-account__money[_ngcontent-%COMP%]{margin-left:auto}.selected-account__value[_ngcontent-%COMP%]{padding-left:1rem;position:relative;top:8px;padding-right:1rem}.account-dropdown__from-arrow[_ngcontent-%COMP%], .selected-account__value[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.account-dropdown__from-arrow[_ngcontent-%COMP%]{-webkit-transition:all .2s ease-in-out;transition:all .2s ease-in-out;opacity:1;position:absolute;width:28px;height:28px;box-shadow:0 0 1px rgba(0,0,0,.04),0 0 2px rgba(0,0,0,.06),0 4px 8px rgba(0,0,0,.04);border-radius:50%;background:#fff;-webkit-box-pack:center;justify-content:center;left:-14px;bottom:-22px;z-index:2}"]}),t})()},qAFH:function(t,e,n){"use strict";n.r(e);var a=n("ofXK"),i=n("xJkR"),o=n("5cNS"),c=n("PCNd"),s=n("crCf"),r=n("tyNb"),l=n("mrSG"),d=n("quSY"),b=n("fXoL"),u=n("VnnJ"),m=n("7rOj"),p=n("+eKG"),h=n("VO+5"),g=n("sYmb"),f=n("iCQh"),T=n("S1F0"),y=n("oKsb"),v=n("fkRG"),S=n("Kx/q");const _=function(){return{width:"300px",height:"20px","background-color":"#ECEEF1"}},A=function(){return{width:"500px",height:"36px","background-color":"#ECEEF1"}};function C(t,e){1&t&&(b.Ub(0),b.Rb(1,"ngx-skeleton-loader",1),b.Rb(2,"br"),b.Rb(3,"ngx-skeleton-loader",1),b.Tb()),2&t&&(b.Ab(1),b.uc("theme",b.yc(2,_)),b.Ab(2),b.uc("theme",b.yc(3,A)))}function O(t,e){if(1&t&&(b.Wb(0,"section",4),b.Wb(1,"div",5),b.Rb(2,"img",6),b.Wb(3,"span",7),b.Tc(4),b.Vb(),b.Rb(5,"j-card-status",8),b.Vb(),b.Wb(6,"h1",9),b.Rb(7,"j-money",10),b.Vb(),b.Vb()),2&t){const t=b.mc(2);b.Ab(4),b.Wc("",t.card.alias," ",t.card.maskedNumber,""),b.Ab(1),b.uc("cardId",t.card.cardId)("status",t.card.status),b.Ab(2),b.uc("money",t.card.balance)}}function I(t,e){if(1&t&&(b.Wb(0,"div",11),b.Tc(1),b.Vb()),2&t){const t=b.mc(2);b.Ab(1),b.Uc(t.errorText)}}function E(t,e){if(1&t&&(b.Ub(0),b.Rc(1,O,8,5,"section",2),b.Rc(2,I,2,1,"div",3),b.Tb()),2&t){const t=b.mc();b.Ab(1),b.uc("ngIf",t.card),b.Ab(1),b.uc("ngIf",t.errorText)}}let x=(()=>{class t{constructor(t,e){this.route=t,this.cardsService=e,this.isLoading=!0,this.loaded=new b.n,this.failed=new b.n,this.subscription=new d.a;const n=this.route.params.subscribe(t=>{this.cardId=t.id,this.init()});this.subscription.add(n)}ngOnDestroy(){this.subscription.unsubscribe()}init(){this.loadCard()}loadCard(){return Object(l.a)(this,void 0,void 0,(function*(){this.isLoading=!0;try{this.card=yield this.cardsService.getCardById(this.cardId),this.loaded.emit(this.card)}catch(t){this.errorText=t.description,this.failed.emit()}finally{this.isLoading=!1}}))}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(r.a),b.Qb(p.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-card-header"]],outputs:{loaded:"loaded",failed:"failed"},decls:2,vars:2,consts:[[4,"ngIf"],[3,"theme"],["class","account-header",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"account-header"],[1,"iban"],["src","/assets/img/cards/card-black.svg"],[1,"ml-3","text-muted"],[3,"cardId","status"],[1,"f-page-title"],[3,"money"],[1,"alert","alert-danger"]],template:function(t,e){1&t&&(b.Rc(0,C,4,4,"ng-container",0),b.Rc(1,E,3,2,"ng-container",0)),2&t&&(b.uc("ngIf",e.isLoading),b.Ab(1),b.uc("ngIf",!e.isLoading))},directives:[a.u,i.a,v.a,S.a],styles:["[_nghost-%COMP%]{display:block;min-height:90px}.iban[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;margin-bottom:4px;min-height:25px}.iban-img[_ngcontent-%COMP%]{margin-right:12px;border-radius:.5rem}.f-page-title[_ngcontent-%COMP%]{margin-bottom:12px}"]}),t})();const P=function(){return["../statement"]},w=function(){return["../info"]},R=function(){return["../settings"]};let V=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Kb({type:t,selectors:[["j-card-tabs"]],decls:8,vars:6,consts:[[1,"f-page-tabs-wrap"],[1,"f-page-tabs"],["routerLinkActive","active","translate","",3,"routerLink"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"nav",1),b.Wb(2,"a",2),b.Tc(3," CARDS.STATEMENT "),b.Vb(),b.Wb(4,"a",2),b.Tc(5," CARDS.INFO.TITLE "),b.Vb(),b.Wb(6,"a",2),b.Tc(7," CARDS.SETTINGS.TITLE "),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Ab(2),b.uc("routerLink",b.yc(3,P)),b.Ab(2),b.uc("routerLink",b.yc(4,w)),b.Ab(2),b.uc("routerLink",b.yc(5,R)))},directives:[r.f,r.e,g.a],styles:[""]}),t})();var M=n("fvpk"),k=n("e8Ap"),W=n("Dvla");const N=function(){return{width:"435px",height:"96px","background-color":"#ECEEF1"}},L=function(){return{width:"435px",height:"56px","background-color":"#ECEEF1"}},D=function(){return{width:"435px",height:"276px","background-color":"#ECEEF1"}};function j(t,e){1&t&&(b.Ub(0),b.Rb(1,"ngx-skeleton-loader",3),b.Rb(2,"ngx-skeleton-loader",3),b.Rb(3,"ngx-skeleton-loader",3),b.Tb()),2&t&&(b.Ab(1),b.uc("theme",b.yc(3,N)),b.Ab(1),b.uc("theme",b.yc(4,L)),b.Ab(1),b.uc("theme",b.yc(5,D)))}function F(t,e){if(1&t&&(b.Wb(0,"div",19),b.Wb(1,"div",20),b.Tc(2),b.nc(3,"translate"),b.Vb(),b.Wb(4,"div",21),b.Tc(5),b.nc(6,"translate"),b.Vb(),b.Vb()),2&t){const t=e.$implicit;b.Ab(2),b.Vc(" ",b.oc(3,2,t.label),": "),b.Ab(3),b.Vc(" ",b.oc(6,4,t.value)," ")}}function U(t,e){if(1&t&&(b.Wb(0,"div",19),b.Wb(1,"div",20),b.Tc(2),b.nc(3,"translate"),b.Vb(),b.Wb(4,"div",21),b.Tc(5),b.Vb(),b.Vb()),2&t){const t=e.$implicit;b.Ab(2),b.Vc(" ",b.oc(3,2,t.label),": "),b.Ab(3),b.Vc(" ",t.value," ")}}function G(t,e){if(1&t&&(b.Wb(0,"div",22),b.Wb(1,"strong"),b.Tc(2),b.Vb(),b.Vb()),2&t){const t=b.mc(2);b.Ab(2),b.Uc(t.errorText)}}function B(t,e){if(1&t){const t=b.Xb();b.Ub(0),b.Wb(1,"div",4),b.Wb(2,"div",5),b.Wb(3,"div",6),b.Rb(4,"div",7),b.Wb(5,"button",8),b.ic("click",(function(e){return b.Ic(t),b.mc().onQrPrint(e)})),b.Rb(6,"span",9),b.Rb(7,"span",10),b.Vb(),b.Vb(),b.Rb(8,"img",11),b.Vb(),b.Vb(),b.Wb(9,"div",4),b.Rc(10,F,7,6,"div",12),b.Vb(),b.Wb(11,"div",4),b.Rc(12,U,6,4,"div",12),b.Wb(13,"div",13),b.Wb(14,"button",14),b.ic("click",(function(e){return b.Ic(t),b.mc().onCopy()})),b.Rb(15,"div",15),b.Wb(16,"strong",16),b.Tc(17,"CARDS.INFO.COPY"),b.Vb(),b.Vb(),b.Wb(18,"button",17),b.ic("click",(function(e){return b.Ic(t),b.mc().onDownload()})),b.Rb(19,"div",15),b.Wb(20,"strong",16),b.Tc(21,"ACCOUNTS.REQUISITES.DOWNLOAD"),b.Vb(),b.Vb(),b.Vb(),b.Vb(),b.Rc(22,G,3,1,"div",18),b.Tb()}if(2&t){const t=b.mc();b.Ab(5),b.uc("disabled",!t.qrFile),b.Ab(1),b.uc("inlineSVG","assets/icons/account/print.svg"),b.Ab(4),b.uc("ngForOf",t.status),b.Ab(2),b.uc("ngForOf",t.requisites),b.Ab(2),b.uc("cbContent",t.textToCopy),b.Ab(1),b.uc("inlineSVG","assets/icons/account/copy.svg"),b.Ab(4),b.uc("inlineSVG","assets/icons/account/pdf.svg"),b.Ab(3),b.uc("ngIf",t.errorText)}}let H=(()=>{class t{constructor(t,e,n,a,i,o,c,s){this.router=t,this.companyService=e,this.bankFromAccount=n,this.formatIban=a,this.cardsService=i,this.notifierService=o,this.translateService=c,this.filesService=s,this.isLoaded=!1,this.subscription=new d.a}ngOnDestroy(){this.subscription.unsubscribe()}onCardLoad(t){this.init(t);const e=this.cardsService.cardsUpdated$.subscribe(t=>{const e=this.cardsService.findCardById(this.card.cardId);this.init(e)});this.subscription.add(e)}init(t){return Object(l.a)(this,void 0,void 0,(function*(){this.card=t,this.generateStatus(),this.generateRequisites(),this.generateTextToCopy(),this.loadQr(),this.isLoaded=!0}))}onCardFail(){this.isLoaded=!0,this.errorText=this.appendTranslationPrefix("FAILED")}onClose(){this.navigateToHome()}onCopy(){this.notifierService.notify("default",this.translateService.instant(this.appendTranslationPrefix("COPIED")))}loadQr(){return Object(l.a)(this,void 0,void 0,(function*(){this.qrFile=yield this.cardsService.getQrPrint(this.card.cardId,this.card.iban)}))}onQrPrint(t){t.preventDefault(),this.filesService.downloadFile(this.qrFile,`${this.card.formattedFullName} ${this.card.maskedNumber} QR.jpg`)}onDownload(){return Object(l.a)(this,void 0,void 0,(function*(){try{const t=yield this.cardsService.getPdf(this.card.cardId);this.filesService.downloadFile(t,`${this.card.formattedFullName} ${this.card.maskedNumber}.pdf`)}catch(t){console.error(t)}}))}generateStatus(){this.status=[{label:this.appendTranslationPrefix("STATUS"),value:this.cardsService.mapCardStatus(this.card.status)}]}generateRequisites(){this.requisites=[{label:this.appendTranslationPrefix("OWNER"),value:this.card.formattedFullName},{label:this.appendTranslationPrefix("KBE"),value:this.companyService.currentCompany.kod},{label:this.appendTranslationPrefix("IBAN"),value:this.formatIban.transform(this.card.iban),valueToCopy:this.card.iban},{label:this.appendTranslationPrefix("BANK"),value:this.bankFromAccount.transform(this.card.iban,"name")},{label:this.appendTranslationPrefix("BIC"),value:this.bankFromAccount.transform(this.card.iban,"bic")}]}generateTextToCopy(){this.textToCopy=this.requisites.map(t=>{if(t.value||t.valueToCopy)return`${this.translateService.instant(t.label)}: ${t.valueToCopy||t.value}`}).join("\n")}navigateToHome(){this.router.navigate(["/"])}appendTranslationPrefix(t){return`CARDS.INFO.${t}`}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(r.c),b.Qb(u.a),b.Qb(m.b),b.Qb(m.d),b.Qb(p.a),b.Qb(h.c),b.Qb(g.e),b.Qb(f.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-card-info"]],decls:7,vars:2,consts:[["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8",3,"closed"],[3,"loaded","failed"],[4,"ngIf"],[3,"theme"],[1,"info"],[1,"qr"],[1,"qr__info"],["translate","ACCOUNTS.REQUISITES.QR.TITLE"],[1,"btn","btn-link","qr__print","p3",3,"disabled","click"],[1,"mr-2",3,"inlineSVG"],["translate","ACCOUNTS.REQUISITES.QR.PRINT"],["src","/assets/img/cards/qr.png",1,"qr__img"],["class","j-desc-row",4,"ngFor","ngForOf"],[1,"requisites__footer"],["ngxClipboard","",1,"requisites__button","btn","btn-outline-primary","btn-md",3,"cbContent","click"],[3,"inlineSVG"],["translate","",1,"ml-2"],[1,"requisites__button","btn","btn-outline-primary","btn-md",3,"click"],["class","alert alert-danger my-5","role","alert",4,"ngIf"],[1,"j-desc-row"],[1,"j-desc-child","text-muted"],[1,"j-desc-child","text-dark"],["role","alert",1,"alert","alert-danger","my-5"]],template:function(t,e){1&t&&(b.Wb(0,"f-page",0),b.ic("closed",(function(t){return e.onClose()})),b.Wb(1,"f-page-header"),b.Wb(2,"j-card-header",1),b.ic("loaded",(function(t){return e.onCardLoad(t)}))("failed",(function(t){return e.onCardFail()})),b.Vb(),b.Rb(3,"j-card-tabs"),b.Vb(),b.Wb(4,"f-page-body"),b.Rc(5,j,4,6,"ng-container",2),b.Rc(6,B,23,8,"ng-container",2),b.Vb(),b.Vb()),2&t&&(b.Ab(5),b.uc("ngIf",!e.isLoaded),b.Ab(1),b.uc("ngIf",e.isLoaded))},directives:[T.a,y.a,x,V,M.a,a.u,i.a,g.a,k.a,a.t,W.a],pipes:[g.d],styles:[".info[_ngcontent-%COMP%]{padding:1rem;margin:.5rem 0 1rem;background:#fff;border-radius:.75rem;max-width:435px}.requisites__button[_ngcontent-%COMP%]{margin-top:1rem;display:-webkit-box;display:flex;-webkit-box-pack:center;justify-content:center;min-width:calc(50% - .5rem)}.qr[_ngcontent-%COMP%], .requisites__footer[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-pack:justify;justify-content:space-between}.qr[_ngcontent-%COMP%], .qr__print[_ngcontent-%COMP%]{-webkit-box-align:center;align-items:center}.qr__print[_ngcontent-%COMP%]{background:none;border:0;outline:0;color:#666c72;display:-webkit-inline-box;display:inline-flex;margin-top:.5rem;padding:0}.qr__print[_ngcontent-%COMP%], .qr__print[_ngcontent-%COMP%]:hover{-webkit-transform:none;transform:none}.qr__print[_ngcontent-%COMP%]:hover{color:#ef5630}.qr__img[_ngcontent-%COMP%]{width:53px}"]}),t})();var Y=n("3Pt+"),K=n("1kSV"),$=n("9odQ"),Q=n("M6pS");let X=(()=>{class t{constructor(t,e,n,a){this.modal=t,this.cardsService=e,this.notifierService=n,this.translateService=a,this.aliasMaxLength=24,this.translatePrefix="CARDS.RENAME_MODAL",this.isSubmitted=!1,this.isSubmitting=!1}ngOnInit(){this.form=new Y.k({alias:new Y.h(this.card.alias||"",[Y.H.required,Y.H.maxLength(this.aliasMaxLength)])})}get f(){return this.form.controls}dismissModal(){this.modal.dismiss()}closeModal(t){this.modal.close(t)}mapTranslate(t){return`${this.translatePrefix}.${t}`}onSubmit(){return Object(l.a)(this,void 0,void 0,(function*(){if(this.isSubmitted=!0,this.form.invalid)return;this.isSubmitting=!0;let t="";try{const{alias:e}=this.form.getRawValue();yield this.cardsService.renameCard(this.card.cardId,e),t="SUCCESS",this.closeModal(e)}catch(e){t="ERROR"}finally{this.isSubmitting=!1,this.notifierService.notify("default",this.translateService.instant(this.mapTranslate(t)))}}))}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(K.a),b.Qb(p.a),b.Qb(h.c),b.Qb(g.e))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-card-rename-modal"]],inputs:{card:"card"},decls:17,vars:21,consts:[[1,"rename-modal"],[1,"rename-modal__header"],[1,"btn","btn-outline-primary","rename-modal__back","mr-3",3,"click"],[3,"inlineSVG"],[1,"m-0"],[1,"rename-modal__form",3,"formGroup"],[1,"form-group"],[3,"label","formControl","maxLength","isClearable","hasError"],[1,"form-footer"],["type","button",1,"btn","btn-link",3,"disabled","jLoading","jLoadingInverted","click"],["type","submit",1,"btn","btn-primary","ml-3",3,"disabled","jLoading","click"]],template:function(t,e){1&t&&(b.Wb(0,"div",0),b.Wb(1,"div",1),b.Wb(2,"button",2),b.ic("click",(function(t){return e.dismissModal()})),b.Rb(3,"span",3),b.Vb(),b.Wb(4,"h5",4),b.Tc(5),b.nc(6,"translate"),b.Vb(),b.Vb(),b.Wb(7,"form",5),b.Wb(8,"div",6),b.Rb(9,"j-input",7),b.Vb(),b.Wb(10,"div",8),b.Wb(11,"button",9),b.ic("click",(function(t){return e.dismissModal()})),b.Tc(12),b.nc(13,"translate"),b.Vb(),b.Wb(14,"button",10),b.ic("click",(function(t){return e.onSubmit()})),b.Tc(15),b.nc(16,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Ab(3),b.uc("inlineSVG","assets/icons/arrow-left.svg"),b.Ab(2),b.Vc(" ",b.oc(6,15,e.mapTranslate("TITLE"))," "),b.Ab(2),b.uc("formGroup",e.form),b.Ab(2),b.uc("label",e.mapTranslate("LABEL"))("formControl",e.f.alias)("maxLength",e.aliasMaxLength)("isClearable",!1)("hasError",e.f.alias.invalid&&e.isSubmitted),b.Ab(2),b.uc("disabled",e.isSubmitting)("jLoading",e.isSubmitting)("jLoadingInverted",!0),b.Ab(1),b.Vc(" ",b.oc(13,17,"SHARED.CANCEL")," "),b.Ab(2),b.uc("disabled",e.isSubmitting)("jLoading",e.isSubmitting),b.Ab(1),b.Vc(" ",b.oc(16,19,"SHARED.SAVE")," "))},directives:[k.a,Y.J,Y.u,Y.l,$.b,Y.t,Y.i,Q.a],pipes:[g.d],styles:[".rename-modal[_ngcontent-%COMP%]{padding:24px}.rename-modal__back[_ngcontent-%COMP%]{padding:0;width:40px;height:40px}.rename-modal__header[_ngcontent-%COMP%]{display:-webkit-box;display:flex;height:64px;-webkit-box-align:center;align-items:center;margin-bottom:12px}"]}),t})();n("w7f+");var q=n("zwEd"),z=n("Bl/x");const J=function(t){return{height:t,"margin-top":"0.5rem","background-color":"#ECEEF1"}};function Z(t,e){if(1&t&&(b.Ub(0),b.Rb(1,"ngx-skeleton-loader",3),b.Tb()),2&t){const t=b.mc();b.Ab(1),b.uc("theme",b.zc(1,J,t.isPrimaryAuthority?"142px":"72px"))}}function tt(t,e){if(1&t&&(b.Wb(0,"div",4),b.Rb(1,"j-switch",5),b.Wb(2,"span",6),b.Rb(3,"strong",11),b.Wb(4,"small",8),b.Tc(5),b.nc(6,"translate"),b.Vb(),b.Vb(),b.Vb()),2&t){const t=b.mc(2);b.Hb("disabled",t.hiddenControl.disabled),b.Ab(1),b.uc("formControl",t.hiddenControl),b.Ab(4),b.Vc(" ",b.oc(6,4,"CARDS.SETTINGS.HIDE.DESCRIPTION")," ")}}function et(t,e){if(1&t){const t=b.Xb();b.Wb(0,"div",4),b.Wb(1,"div"),b.Rb(2,"strong",12),b.Wb(3,"small",8),b.Tc(4),b.Vb(),b.Vb(),b.Wb(5,"button",13),b.ic("click",(function(e){return b.Ic(t),b.mc(2).onCardRename()})),b.Tc(6),b.nc(7,"translate"),b.Vb(),b.Vb()}if(2&t){const t=b.mc(2);b.Ab(4),b.Vc(" ",t.card.alias," "),b.Ab(2),b.Vc(" ",b.oc(7,2,"CARDS.SETTINGS.RENAME.LINK")," ")}}function nt(t,e){if(1&t&&(b.Ub(0),b.Wb(1,"div",4),b.Rb(2,"j-switch",5),b.Wb(3,"span",6),b.Rb(4,"strong",7),b.Wb(5,"small",8),b.Tc(6),b.nc(7,"translate"),b.Vb(),b.Vb(),b.Vb(),b.Rc(8,tt,7,6,"div",9),b.Rc(9,et,8,4,"div",10),b.Tb()),2&t){const t=b.mc();b.Ab(1),b.Hb("disabled",t.activatedControl.disabled),b.Ab(1),b.uc("formControl",t.activatedControl),b.Ab(4),b.Vc(" ",b.oc(7,6,t.activatedControl.value?"CARDS.SETTINGS.LOCK.ACTIVATE":"CARDS.SETTINGS.LOCK.DEACTIVATE")," "),b.Ab(2),b.uc("ngIf",t.isPrimaryAuthority),b.Ab(1),b.uc("ngIf",t.isPrimaryAuthority)}}const at={backdropClass:"backdrop_light",windowClass:"modal_light modal_dictionary",backdrop:"static",centered:!0};let it=(()=>{class t{constructor(t,e,n,a){this.router=t,this.cardsService=e,this.companyService=n,this.modalService=a,this.isLoaded=!1,this.isPrimaryAuthority=this.companyService.isPrimaryAuthority(),this.subscription=new d.a}ngOnDestroy(){this.subscription.unsubscribe()}onCardLoad(t){this.init(t);const e=this.cardsService.cardsUpdated$.subscribe(t=>{const e=this.cardsService.findCardById(this.card.cardId);this.init(e)});this.subscription.add(e)}init(t){this.card=t,this.initActivatedControl(),this.initHiddenControl(),this.isLoaded=!0}onCardFail(){this.activatedControl=new Y.h({value:!1,disabled:!1}),this.hiddenControl=new Y.h({value:!1,disabled:!1}),this.isLoaded=!0}onClose(){this.navigateToHome()}onCardRename(){return Object(l.a)(this,void 0,void 0,(function*(){const t=this.modalService.open(X,at);t.componentInstance.card=this.card;try{const e=yield t.result;this.card.alias=e}catch(e){}}))}navigateToHome(){this.router.navigate(["/"])}initActivatedControl(){var t,e;this.activatedControl=new Y.h({value:this.card.status===q.b.TEMPORARILY_LOCK,disabled:!((null===(t=this.card)||void 0===t?void 0:t.status)==q.b.ACTIVE||(null===(e=this.card)||void 0===e?void 0:e.status)==q.b.TEMPORARILY_LOCK)}),this.subscription.add(this.activatedControl.valueChanges.subscribe(t=>{this.handleActivatedSwitch(t)}))}initHiddenControl(){this.hiddenControl=new Y.h(this.card.hidden),this.subscription.add(this.hiddenControl.valueChanges.subscribe(t=>{this.handleHiddenSwitch(t)}))}handleActivatedSwitch(t){return Object(l.a)(this,void 0,void 0,(function*(){try{yield this.cardsService.changeCardStatus(this.card.cardId,t)}catch(e){this.activatedControl.setValue(!t,{emitEvent:!1})}}))}handleHiddenSwitch(t){return Object(l.a)(this,void 0,void 0,(function*(){try{yield this.cardsService.changeCardVisibility(this.card.cardId,t)}catch(e){this.hiddenControl.setValue(!t,{emitEvent:!1})}}))}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(r.c),b.Qb(p.a),b.Qb(u.a),b.Qb(K.q))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-card-settings"]],decls:7,vars:2,consts:[["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8",3,"closed"],[3,"loaded","failed"],[4,"ngIf"],[3,"theme"],[1,"settings-item"],[3,"formControl"],[1,"ml-3"],["translate","CARDS.SETTINGS.LOCK.TITLE",1,"d-block"],[1,"text-gray"],["class","settings-item",3,"disabled",4,"ngIf"],["class","settings-item",4,"ngIf"],["translate","CARDS.SETTINGS.HIDE.TITLE",1,"d-block"],["translate","CARDS.SETTINGS.RENAME.TITLE",1,"d-block"],[1,"btn","btn-link","p2","py-0","px-1","link-blue","ml-auto",3,"click"]],template:function(t,e){1&t&&(b.Wb(0,"f-page",0),b.ic("closed",(function(t){return e.onClose()})),b.Wb(1,"f-page-header"),b.Wb(2,"j-card-header",1),b.ic("loaded",(function(t){return e.onCardLoad(t)}))("failed",(function(t){return e.onCardFail()})),b.Vb(),b.Rb(3,"j-card-tabs"),b.Vb(),b.Wb(4,"f-page-body"),b.Rc(5,Z,2,3,"ng-container",2),b.Rc(6,nt,10,8,"ng-container",2),b.Vb(),b.Vb()),2&t&&(b.Ab(5),b.uc("ngIf",!e.card),b.Ab(1),b.uc("ngIf",e.card))},directives:[T.a,y.a,x,V,M.a,a.u,i.a,z.a,Y.t,Y.i,g.a],pipes:[g.d],styles:[".settings-item[_ngcontent-%COMP%]{padding:1rem;background:#fff;max-width:616px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;border-bottom:1px solid #dbdfe2}.settings-item[_ngcontent-%COMP%]:first-child{margin-top:.5rem;border-radius:.75rem .75rem 0 0}.settings-item[_ngcontent-%COMP%]:last-child{border-bottom:0;border-radius:0 0 .75rem .75rem;margin-bottom:1rem}.settings-item.disabled[_ngcontent-%COMP%]{opacity:.5;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}"]}),t})();var ot=n("IzEk"),ct=n("KWy3"),st=n("9N4E"),rt=n("ZF+8"),lt=n("bsP8"),dt=n("THGi"),bt=n("Tile"),ut=n("dlKe"),mt=n("QiVB"),pt=n("/68H"),ht=n("T+Ki");function gt(t,e){1&t&&(b.Wb(0,"div",8),b.Rb(1,"j-statement-loading"),b.Vb())}function ft(t,e){if(1&t&&b.Rb(0,"j-statement-balances",9),2&t){const t=b.mc();b.uc("statement",t.statement)}}function Tt(t,e){1&t&&(b.Wb(0,"div",10),b.Tc(1," ACCOUNTS.STATEMENT.ALL_LOADED "),b.Vb())}function yt(t,e){if(1&t&&(b.Wb(0,"div",11),b.Wb(1,"strong"),b.Tc(2),b.Vb(),b.Vb()),2&t){const t=b.mc();b.Ab(2),b.Uc(t.errorText)}}let vt=(()=>{class t{constructor(t,e,n,a,i,o,c){this.router=t,this.route=e,this.cardsService=n,this.filterService=a,this.datePipe=i,this.filesService=o,this.navService=c,this.statementMode=ct.a.CARDS,this.isLoading=!0,this.filterMode=st.a.CARDS,this.hasMorePages=!0,this.pageNumber=1,this.pageSize=10,this.subscription=new d.a;const s=this.route.params.subscribe(t=>{this.cardId=t.id,this.loadStatement()}),r=this.route.queryParams.pipe(Object(ot.a)(1)).subscribe(t=>{this.filter=this.mapQueryParams(t),this.filterService.updateExtra(this.filter)}),l=this.filterService.getScheme().subscribe(t=>{this.filter=Object.assign({},t),this.pageNumber=1,this.hasMorePages=!0,this.isLoading=!0,this.updateQueryParams(),this.loadStatement()});this.subscription.add(s),this.subscription.add(r),this.subscription.add(l)}ngOnDestroy(){this.subscription.unsubscribe()}onClose(){this.navigateToHome()}onScroll(){this.hasMorePages&&!this.isLoading&&(this.pageNumber++,this.loadStatement())}onDownload(t){return Object(l.a)(this,void 0,void 0,(function*(){const e=yield this.cardsService.getStatement(this.cardId,this.filter,this.pageNumber,this.pageSize,t);let n=t.substring(t.lastIndexOf("/")+1,t.length);"1c"==n&&(n+=".txt"),this.filesService.downloadFile(e,`${this.cardId}.${n}`)}))}loadStatement(){return Object(l.a)(this,void 0,void 0,(function*(){this.errorText="",this.isLoading=!0;try{if(this.filter.periodType&&this.filter.periodType!=st.b.CUSTOM){const t=this.filterService.PERIOD_LIST.find(t=>t.type==this.filter.periodType);this.filter.periodFrom=t.dates.from,this.filter.periodTo=t.dates.to}const t=yield this.cardsService.getStatement(this.cardId,this.filter,this.pageNumber,this.pageSize);this.hasMorePages=this.pageSize<=t.totalTransactionsCount,this.statement=t}catch(t){this.errorText=t.description||t.code||t}finally{this.isLoading=!1}}))}navigateToHome(){this.navService.retrieveContractBadges(),this.navService.retrieveLetterBadges(),this.router.navigate(["/"])}mapQueryParams(t){let e=Object.assign({},this.filterService.getDefaults(st.a.ACCOUNTS));for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const a=t[n];a&&null!=a&&"null"!=a&&(e[n]="periodFrom"==n||"periodTo"==n?new Date(a):a)}return e}updateQueryParams(){const t=Object.assign({},this.filter),e={};for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)){const a=t[n];a&&null!=a&&"null"!=a&&(e[n]="periodFrom"==n||"periodTo"==n?this.datePipe.transform(a,"yyyy-MM-dd"):a)}this.router.navigate([],{queryParams:e,relativeTo:this.route})}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(r.c),b.Qb(r.a),b.Qb(p.a),b.Qb(st.c),b.Qb(a.f),b.Qb(rt.b),b.Qb(lt.a))},t.\u0275cmp=b.Kb({type:t,selectors:[["j-card-statement"]],decls:13,vars:12,consts:[["closePosition","outside","colsClassList","offset-lg-1 col-lg-10 offset-xl-2 col-xl-8","bodyClassList","no-grow",3,"closed"],[3,"mode","currency","downloaded"],["class","py-4",4,"ngIf"],["infiniteScroll","",1,"account-wrapper",3,"scrollWindow","alwaysCallback","infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[3,"statement",4,"ngIf"],[1,"search-results",3,"mode","statement"],["class","text-center text-muted my-5 text-small","translate","",4,"ngIf"],["class","alert alert-danger my-5","role","alert",4,"ngIf"],[1,"py-4"],[3,"statement"],["translate","",1,"text-center","text-muted","my-5","text-small"],["role","alert",1,"alert","alert-danger","my-5"]],template:function(t,e){1&t&&(b.Wb(0,"f-page",0),b.ic("closed",(function(t){return e.onClose()})),b.Wb(1,"f-page-header"),b.Rb(2,"j-card-header"),b.Rb(3,"j-card-tabs"),b.Vb(),b.Wb(4,"f-page-body"),b.Wb(5,"j-filter",1),b.ic("downloaded",(function(t){return e.onDownload(t)})),b.Vb(),b.Vb(),b.Wb(6,"f-page-extra"),b.Rc(7,gt,2,0,"div",2),b.Wb(8,"section",3),b.ic("scrolled",(function(t){return e.onScroll()})),b.Rc(9,ft,1,1,"j-statement-balances",4),b.Rb(10,"j-statement",5),b.Rc(11,Tt,2,0,"div",6),b.Rc(12,yt,3,1,"div",7),b.Vb(),b.Vb(),b.Vb()),2&t&&(b.Ab(5),b.uc("mode",e.filterMode)("currency",null==e.card?null:e.card.balance.currency),b.Ab(2),b.uc("ngIf",e.isLoading),b.Ab(1),b.uc("scrollWindow",!0)("alwaysCallback",!0)("infiniteScrollDistance",2)("infiniteScrollThrottle",500),b.Ab(1),b.uc("ngIf",e.statement&&e.statement.totalTransactionsCount>0),b.Ab(1),b.uc("mode",e.statementMode)("statement",e.statement),b.Ab(1),b.uc("ngIf",(null==e.statement?null:e.statement.totalTransactionsCount)>0),b.Ab(1),b.uc("ngIf",e.errorText))},directives:[T.a,y.a,x,V,M.a,dt.a,bt.a,a.u,ut.a,mt.a,pt.a,ht.a,g.a],styles:["[_nghost-%COMP%]{display:block}.account-wrapper[_ngcontent-%COMP%]{position:relative;min-height:200px}"]}),t})();const St=[{path:"",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=b.Kb({type:t,selectors:[["j-cards"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})(),data:{title:"TRANSFERS.TITLE"}},{path:":id/statement",component:vt},{path:":id/info",component:H},{path:":id/settings",component:it},{path:":id",redirectTo:":id/statement"}];let _t=(()=>{class t{}return t.\u0275mod=b.Ob({type:t}),t.\u0275inj=b.Nb({factory:function(e){return new(e||t)},imports:[[r.g.forChild(St)],r.g]}),t})();n.d(e,"CardsModule",(function(){return At}));let At=(()=>{class t{}return t.\u0275mod=b.Ob({type:t}),t.\u0275inj=b.Nb({factory:function(e){return new(e||t)},imports:[[a.c,Y.n,Y.D,i.b,c.a,o.a,s.a,ut.b,_t]]}),t})()},sFIr:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var a=n("3Pt+"),i=n("y5b2"),o=n("fXoL"),c=n("ofXK"),s=n("sYmb");function r(t,e){if(1&t&&(o.Wb(0,"div",1),o.Rb(1,"input",2),o.Wb(2,"label",3),o.Tc(3),o.nc(4,"translate"),o.Vb(),o.Vb()),2&t){const t=e.$implicit,n=e.index,a=o.mc();o.Ab(1),o.vc("id","sort"+n),o.uc("formControl",a.control)("value",t.value),o.Ab(1),o.vc("for","sort"+n),o.Ab(1),o.Vc(" ",o.oc(4,5,t.label)," ")}}let l=(()=>{class t{constructor(){this.sortOptionList=i.g,this.control=new a.h(i.f.DEFAULT)}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["j-filter-sort"]],inputs:{control:"control"},decls:1,vars:1,consts:[["class","custom-control custom-radio my-3",4,"ngFor","ngForOf"],[1,"custom-control","custom-radio","my-3"],["type","radio","name","sortBy",1,"custom-control-input",3,"id","formControl","value"],[1,"custom-control-label","text-muted",3,"for"]],template:function(t,e){1&t&&o.Rc(0,r,5,7,"div",0),2&t&&o.uc("ngForOf",e.sortOptionList)},directives:[c.t,a.B,a.c,a.t,a.i],pipes:[s.d],styles:[""]}),t})()},"u+5l":function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("fXoL"),i=n("3Pt+"),o=n("quSY"),c=n("wd/R"),s=n("y5b2"),r=n("jZlK");const l=["dropdown"];function d(t,e){1&t&&(a.Wb(0,"span"),a.Tc(1),a.nc(2,"translate"),a.Vb()),2&t&&(a.Ab(1),a.Uc(a.oc(2,1,"FILTER.PERIOD.CUSTOM")))}function b(t,e){if(1&t&&(a.Wb(0,"span"),a.Tc(1),a.Vb()),2&t){const t=a.mc();a.Ab(1),a.Uc(t.formatPeriod)}}function u(t,e){if(1&t&&(a.Wb(0,"span"),a.Tc(1),a.nc(2,"translate"),a.Vb()),2&t){const t=a.mc();a.Ab(1),a.Uc(a.oc(2,1,t.formatPeriod))}}function m(t,e){1&t&&a.Rb(0,"j-icon",14)}function p(t,e){if(1&t){const t=a.Xb();a.Wb(0,"button",11),a.ic("click",(function(n){a.Ic(t);const i=e.$implicit;return a.mc().onPeriodSelect(i)})),a.Rc(1,m,1,0,"j-icon",12),a.Wb(2,"span",13),a.Tc(3),a.Vb(),a.Vb()}if(2&t){const t=e.$implicit,n=a.mc();a.Hb("selected",n.isSelectedPeriod(t)),a.Ab(1),a.uc("ngIf",t.hasCalendarIcon),a.Ab(2),a.Vc(" ",t.label," ")}}function h(t,e){if(1&t){const t=a.Xb();a.Wb(0,"button",15),a.ic("click",(function(e){return a.Ic(t),a.mc().onClearPeriod()})),a.nc(1,"translate"),a.Vb()}2&t&&a.uc("ngbTooltip",a.oc(1,1,"SHARED.CLEAR"))}let g=(()=>{class t{constructor(t){this.filterService=t,this.placement="bottom bottom-right",this.hasClearButton=!0,this.periodList=this.filterService.PERIOD_LIST,this.defaultPeriod=this.periodList[0],this.selectedPeriod=this.defaultPeriod,this.rangeSelection=!1,this.submitted=new a.n,this.subscription=new o.a}ngOnInit(){this.schemeDefaults=this.filterService.getDefaults(this.mode);const t=this.filterService.getScheme().subscribe(t=>{t.periodType&&this.updateByType(t.periodType),this.scheme=t});if(this.inputForm=new i.k({from:new i.h(""),to:new i.h("")}),this.mode===s.c.DEPOSITS){const t={from:this.schemeDefaults.periodFrom,to:this.schemeDefaults.periodTo};this.defaultPeriod={type:this.schemeDefaults.periodType,dates:t},this.onCustomSelect(t)}this.customDates&&(this.defaultPeriod={type:s.e.CUSTOM,dates:this.customDates},this.onCustomSelect(this.customDates)),this.subscription.add(t)}ngOnDestroy(){this.subscription.unsubscribe()}onDropdownToggle(){this.rangeSelection=!1}onCustomCancel(){var t;this.rangeSelection=!1,null===(t=this.dropdown)||void 0===t||t.close()}onCustomSelect(t){this.selectedPeriod=this.periodList.find(t=>t.type==s.e.CUSTOM),this.rangeSelection=!1,this.updateInputs(t),this.selectedPeriod.dates=t,this.onSubmit()}onPeriodSelect(t){t.type==s.e.CUSTOM?this.rangeSelection=!0:(this.selectedPeriod=t,this.onSubmit())}updateByType(t){const e=this.periodList.find(e=>e.type==t);this.selectedPeriod=e}onSubmit(){var t;const e=this.selectedPeriod.dates;this.filterService.updatePeriod(this.selectedPeriod.type,e.from,e.to),this.submitted.emit(e),null===(t=this.dropdown)||void 0===t||t.close()}onClearPeriod(){this.defaultPeriod.type==s.e.CUSTOM?this.onCustomSelect(this.defaultPeriod.dates):this.onPeriodSelect(this.defaultPeriod)}isSelectedPeriod(t){var e;return t.type==(null===(e=this.selectedPeriod)||void 0===e?void 0:e.type)}get isClearable(){var t,e;return(null===(t=this.selectedPeriod)||void 0===t?void 0:t.type)!==(null===(e=this.defaultPeriod)||void 0===e?void 0:e.type)}get formatPeriod(){var t,e,n;if(!(null===(t=this.selectedPeriod)||void 0===t?void 0:t.showDates))return this.selectedPeriod.label;let a=null,i=null;return this.selectedPeriod.type!=s.e.CUSTOM?(this.selectedPeriod.dates.from&&(a=c(this.selectedPeriod.dates.from,s.j).format(s.i)),this.selectedPeriod.dates.to&&(i=c(this.selectedPeriod.dates.to,s.j).format(s.i))):((null===(e=this.scheme)||void 0===e?void 0:e.periodFrom)&&(a=c(this.scheme.periodFrom,s.j).format(s.i)),(null===(n=this.scheme)||void 0===n?void 0:n.periodTo)&&(i=c(this.scheme.periodTo,s.j).format(s.i))),a&&i?`${a} - ${i}`:a?`${a}`:i?`${i}`:void 0}updateInputs(t){var e,n;const a=c(t.from).format(s.j);null===(e=this.inputForm.controls)||void 0===e||e.from.setValue(a);const i=c(t.to).format(s.j);null===(n=this.inputForm.controls)||void 0===n||n.to.setValue(i)}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(r.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-period-dropdown"]],viewQuery:function(t,e){var n;1&t&&a.Yc(l,!0),2&t&&a.Ec(n=a.jc())&&(e.dropdown=n.first)},inputs:{mode:"mode",placement:"placement",hasClearButton:"hasClearButton",customDates:"customDates"},outputs:{submitted:"submitted"},decls:15,vars:13,consts:[[1,"filter-period-dropdown"],["ngbDropdown","","autoClose","outside",3,"placement","openChange"],["dropdown","ngbDropdown"],["type","button","ngbDropdownToggle","",1,"period-dropdown-toggle","filter-dropdown-toggle","no-caret",3,"click"],["src","/assets/icons/calendar-blue.svg",3,"alt"],[4,"ngIf"],["ngbDropdownMenu","",1,"filter-dropdown-menu"],[3,"hidden"],["class","filter-dropdown-item","ngbDropdownItem","",3,"selected","click",4,"ngFor","ngForOf"],[3,"closed","submitted"],["class","filter-period-dropdown__clear","tooltipClass","tooltip-light","inlineSVG","/assets/icons/tags-remove.svg",3,"ngbTooltip","click",4,"ngIf"],["ngbDropdownItem","",1,"filter-dropdown-item",3,"click"],["name","calendar",4,"ngIf"],["translate",""],["name","calendar"],["tooltipClass","tooltip-light","inlineSVG","/assets/icons/tags-remove.svg",1,"filter-period-dropdown__clear",3,"ngbTooltip","click"]],template:function(t,e){1&t&&(a.Wb(0,"div",0),a.Wb(1,"div",1,2),a.ic("openChange",(function(t){return e.onDropdownToggle()})),a.Wb(3,"button",3),a.ic("click",(function(t){return t.preventDefault()})),a.Rb(4,"img",4),a.nc(5,"translate"),a.Rc(6,d,3,3,"span",5),a.Rc(7,b,2,1,"span",5),a.Rc(8,u,3,3,"span",5),a.Vb(),a.Wb(9,"div",6),a.Wb(10,"div",7),a.Rc(11,p,4,4,"button",8),a.Vb(),a.Wb(12,"form",7),a.Wb(13,"j-range-input",9),a.ic("closed",(function(t){return e.onCustomCancel()}))("submitted",(function(t){return e.onCustomSelect(t)})),a.Vb(),a.Vb(),a.Vb(),a.Vb(),a.Rc(14,h,2,3,"button",10),a.Vb()),2&t&&(a.Ab(1),a.uc("placement",e.placement),a.Ab(3),a.uc("alt",a.oc(5,11,"FILTER.PERIOD.CALENDAR")),a.Ab(2),a.uc("ngIf",null==e.selectedPeriod),a.Ab(1),a.uc("ngIf",null!=e.selectedPeriod&&(null==e.selectedPeriod?null:e.selectedPeriod.showDates)),a.Ab(1),a.uc("ngIf",null!=e.selectedPeriod&&!(null!=e.selectedPeriod&&e.selectedPeriod.showDates)),a.Ab(1),a.Hb("period-dropdown-menu",e.rangeSelection),a.Ab(1),a.uc("hidden",e.rangeSelection),a.Ab(1),a.uc("ngForOf",e.periodList),a.Ab(1),a.uc("hidden",!e.rangeSelection),a.Ab(2),a.uc("ngIf",e.isClearable&&e.hasClearButton))},styles:[".filter-period-dropdown[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center}.period-dropdown-toggle[_ngcontent-%COMP%]{display:inline-block;font-weight:400;color:#1a1c1f;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;cursor:pointer;color:#1586bb;display:-webkit-box;display:flex;padding:8px 10px;border-radius:8px}.period-dropdown-toggle[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{margin-right:.5rem}.period-dropdown-toggle[_ngcontent-%COMP%]:hover{background:#e9ecf1}.period-dropdown-menu[_ngcontent-%COMP%]{min-width:582px;padding:0;width:100%}.filter-period-dropdown__clear[_ngcontent-%COMP%]{display:inline-block;font-weight:400;color:#1a1c1f;text-align:center;vertical-align:middle;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;cursor:pointer;width:24px;height:24px;padding:0;margin-left:8px;display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center}"]}),t})()},"w7f+":function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var a=n("mrSG"),i=n("fXoL"),o=n("1kSV"),c=n("+eKG"),s=n("sYmb"),r=n("ofXK");function l(t,e){if(1&t&&(i.Wb(0,"a",11),i.Tc(1," CARDS.STATUS.BRANCHES "),i.Vb()),2&t){const t=i.mc();i.uc("href",t.link,i.Kc)}}function d(t,e){if(1&t){const t=i.Xb();i.Wb(0,"a",12),i.ic("click",(function(e){return i.Ic(t),i.mc().unlockCard(e)})),i.Tc(1," CARDS.STATUS.UNLOCK "),i.Vb()}}let b=(()=>{class t{constructor(t,e){this.modal=t,this.cardsService=e,this.link="https://jysanbank.kz/ru/find/offices/almaty"}dismissModal(t=null){var e;null===(e=t)||void 0===e||e.preventDefault(),this.modal.dismiss()}unlockCard(t=null){var e;return Object(a.a)(this,void 0,void 0,(function*(){null===(e=t)||void 0===e||e.preventDefault();try{yield this.cardsService.changeCardStatus(this.cardId,!1),this.modal.close()}catch(n){this.modal.dismiss()}}))}}return t.\u0275fac=function(e){return new(e||t)(i.Qb(o.a),i.Qb(c.a))},t.\u0275cmp=i.Kb({type:t,selectors:[["j-card-status-modal"]],inputs:{img:"img",title:"title",description:"description",cardId:"cardId",canUnlock:"canUnlock"},decls:14,vars:11,consts:[[1,"modal-header","j-modal-header"],["type","button",1,"close",3,"click"],["src","/assets/icons/close.svg",3,"alt"],[1,"modal-body","j-modal-body","text-center","pb-4"],[3,"src","alt"],[1,"light","mb-3","mt-2",3,"translate"],[1,"m-0","text-muted",3,"translate"],[1,"modal-footer","d-block","py-4","px-3"],["translate","","target","_blank","class","btn btn-block btn-link mb-3",3,"href",4,"ngIf"],["translate","","class","btn btn-block btn-link mb-3","href","#",3,"click",4,"ngIf"],["translate","","href","#",1,"btn","btn-block","btn-link","m-0",3,"click"],["translate","","target","_blank",1,"btn","btn-block","btn-link","mb-3",3,"href"],["translate","","href","#",1,"btn","btn-block","btn-link","mb-3",3,"click"]],template:function(t,e){1&t&&(i.Wb(0,"div",0),i.Wb(1,"button",1),i.ic("click",(function(t){return e.dismissModal()})),i.Rb(2,"img",2),i.nc(3,"translate"),i.Vb(),i.Vb(),i.Wb(4,"div",3),i.Rb(5,"img",4),i.nc(6,"translate"),i.Rb(7,"h3",5),i.Rb(8,"p",6),i.Vb(),i.Wb(9,"div",7),i.Rc(10,l,2,1,"a",8),i.Rc(11,d,2,0,"a",9),i.Wb(12,"a",10),i.ic("click",(function(t){return e.dismissModal(t)})),i.Tc(13," SHARED.CLOSE "),i.Vb(),i.Vb()),2&t&&(i.Ab(2),i.vc("alt",i.oc(3,7,"SHARED.CLOSE")),i.Ab(3),i.uc("src",e.img,i.Kc)("alt",i.oc(6,9,e.title)),i.Ab(2),i.uc("translate",e.title),i.Ab(1),i.uc("translate",e.description),i.Ab(2),i.uc("ngIf",!e.canUnlock),i.Ab(1),i.uc("ngIf",e.canUnlock))},directives:[s.a,r.u],pipes:[s.d],styles:[""]}),t})()},wqe5:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("2G+r"),i=n("TwVa"),o=n("fXoL");let c=(()=>{class t{constructor(){this.isStatement=!1}ngOnInit(){this.generateImgPath()}generateImgPath(){this.transaction.isPayment?this.imgPath=this.getPaymentImg(this.transaction.paymentType):(this.isStatement=!0,this.imgPath=this.getStatementImg(this.transaction.type))}getPaymentImg(t){const e="/assets/img/history/payment";switch(t){case i.j.TAX:return`${e}/taxes.svg`;case i.j.PENSION:return`${e}/pension.svg`;case i.j.SOCIAL:return`${e}/social.svg`;case i.j.MEDICAL:return`${e}/medical.svg`;case i.j.SALARY:return`${e}/salary.svg`;case i.j.FOREIGN:return`${e}/foreign.svg`;case i.j.CONVERSION:return`${e}/conversion.svg`;case i.j.INTERNAL:case i.j.EXTERNAL:default:return`${e}/regular.svg`}}getStatementImg(t){const e="/assets/img/history/statement";switch(t){case a.c.CREDIT:return`${e}/credit.svg`;case a.c.DEBIT:return`${e}/debit.svg`;case a.c.RETURN:default:return`${e}/return.svg`}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=o.Kb({type:t,selectors:[["j-transaction-type"]],inputs:{transaction:"transaction",isInversed:"isInversed"},decls:2,vars:5,consts:[[1,"transaction__type"],["alt","type",3,"src"]],template:function(t,e){1&t&&(o.Wb(0,"div",0),o.Rb(1,"img",1),o.Vb()),2&t&&(o.Hb("transaction__type--inversed",e.isInversed)("transaction__type--statement",e.isStatement),o.Ab(1),o.uc("src",e.imgPath,o.Kc))},styles:["@media(min-width:960px){.transaction__type[_ngcontent-%COMP%]{margin-right:.5rem}}@media(min-width:1280px){.transaction__type[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#f6f7f8;width:40px;height:40px;border-radius:.75rem}}.transaction__type--inversed[_ngcontent-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;background:#f6f7f8;width:40px;height:40px;border-radius:.75rem;background:#fff}@media(min-width:1280px){.transaction__type--statement[_ngcontent-%COMP%]{-webkit-box-align:start;align-items:flex-start;-webkit-box-pack:end;justify-content:flex-end;position:relative}}@media(min-width:1280px){.transaction__type--statement[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:2px;top:2px}}"]}),t})()},x2ms:function(t,e,n){"use strict";n.d(e,"a",(function(){return p}));var a=n("fXoL"),i=n("quSY"),o=n("y5b2"),c=n("jZlK"),s=n("ofXK"),r=n("1kSV"),l=n("sYmb");function d(t,e){if(1&t){const t=a.Xb();a.Wb(0,"button",8),a.ic("click",(function(n){a.Ic(t);const i=e.$implicit;return a.mc(2).onSelect(i.code)})),a.Tc(1),a.Vb()}if(2&t){const t=e.$implicit,n=a.mc(2);a.Hb("selected",n.isSelected(t)),a.Ab(1),a.Vc(" ",t.label," ")}}function b(t,e){if(1&t&&(a.Wb(0,"div",4),a.Wb(1,"button",5),a.Tc(2),a.nc(3,"translate"),a.Vb(),a.Wb(4,"div",6),a.Rc(5,d,2,3,"button",7),a.Vb(),a.Vb()),2&t){const t=a.mc();a.Ab(2),a.Vc(" ",a.oc(3,2,t.selected.label)," "),a.Ab(3),a.uc("ngForOf",t.operationTypeList)}}function u(t,e){if(1&t&&(a.Wb(0,"button",9),a.Tc(1),a.Vb()),2&t){const t=a.mc();a.Ab(1),a.Vc(" ",t.selected.label,"\n")}}function m(t,e){if(1&t){const t=a.Xb();a.Wb(0,"button",10),a.ic("click",(function(n){a.Ic(t);const i=e.$implicit;return a.mc().onSelect(i.code)})),a.Tc(1),a.Vb()}if(2&t){const t=e.$implicit,n=a.mc();a.Hb("active",n.isSelected(t)),a.Ab(1),a.Vc(" ",t.label," ")}}let p=(()=>{class t{constructor(t){this.filterService=t,this.isUpdateEnabled=!0,this.changed=new a.n,this.operationTypeList=[{label:"FILTER.OPERATION.ALL",code:o.h.ALL},{label:"FILTER.OPERATION.INCOME",code:o.h.INCOME},{label:"FILTER.OPERATION.OUTCOME",code:o.h.OUTCOME}],this.selected=this.operationTypeList[0],this.subscription=new i.a;const e=this.filterService.getScheme().subscribe(t=>{t.operationType&&t.operationType!=this.selected.code&&this.setSelected(t.operationType)});this.subscription.add(e)}ngOnInit(){this.mode===o.c.CARDS&&(this.operationTypeList=[{label:"FILTER.OPERATION.ALL",code:o.h.ALL}],this.selected=this.operationTypeList[0])}ngOnDestroy(){this.subscription.unsubscribe()}isSelected(t){return t==this.selected}onSelect(t){this.setSelected(t),this.filterService.updateOperation(t),this.changed.emit(t)}setSelected(t){this.selected=this.operationTypeList.find(e=>t==e.code)}}return t.\u0275fac=function(e){return new(e||t)(a.Qb(c.a))},t.\u0275cmp=a.Kb({type:t,selectors:[["j-filter-operations"]],inputs:{isUpdateEnabled:"isUpdateEnabled",mode:"mode",value:"value"},outputs:{changed:"changed"},decls:4,vars:3,consts:[["ngbDropdown","","class","d-none d-sm-block d-md-none",4,"ngIf"],["type","button","class","btn btn-sm filter-btn active","translate","",4,"ngIf"],[1,"filter-buttons","d-flex","d-sm-none","d-md-flex"],["type","button","class","btn btn-sm filter-btn","translate","",3,"active","click",4,"ngFor","ngForOf"],["ngbDropdown","",1,"d-none","d-sm-block","d-md-none"],["ngbDropdownToggle","","type","button",1,"btn","btn-sm","filter-btn","active"],["ngbDropdownMenu","",1,"filter-dropdown-menu"],["ngbDropdownItem","","class","filter-dropdown-item","type","button","translate","",3,"selected","click",4,"ngFor","ngForOf"],["ngbDropdownItem","","type","button","translate","",1,"filter-dropdown-item",3,"click"],["type","button","translate","",1,"btn","btn-sm","filter-btn","active"],["type","button","translate","",1,"btn","btn-sm","filter-btn",3,"click"]],template:function(t,e){1&t&&(a.Rc(0,b,6,4,"div",0),a.Rc(1,u,2,1,"button",1),a.Wb(2,"div",2),a.Rc(3,m,2,3,"button",3),a.Vb()),2&t&&(a.uc("ngIf",e.operationTypeList.length>0),a.Ab(1),a.uc("ngIf",0===e.operationTypeList.length),a.Ab(2),a.uc("ngForOf",e.operationTypeList))},directives:[s.u,s.t,r.i,r.n,r.l,r.k,l.a],pipes:[l.d],styles:["[_nghost-%COMP%]{margin-right:auto}"]}),t})()},zt08:function(t,e,n){"use strict";n.d(e,"a",(function(){return C}));var a=n("quSY"),i=n("+/Tu"),o=n("y5b2"),c=n("fXoL"),s=n("jZlK");function r(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",2),c.Wb(1,"span"),c.Tc(2),c.Vb(),c.Wb(3,"a",3),c.ic("click",(function(e){return c.Ic(t),c.mc(2).onTagRemove(e,"recipientIban")})),c.Rb(4,"img",4),c.nc(5,"translate"),c.Vb(),c.Vb()}if(2&t){const t=c.mc(2);c.Ab(2),c.Uc(t.filter.recipientIban),c.Ab(2),c.uc("alt",c.oc(5,2,"FILTER.REMOVE"))}}function l(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",2),c.Wb(1,"span"),c.Tc(2),c.Vb(),c.Wb(3,"a",3),c.ic("click",(function(e){return c.Ic(t),c.mc(2).onTagRemove(e,"recipientBin")})),c.Rb(4,"img",4),c.nc(5,"translate"),c.Vb(),c.Vb()}if(2&t){const t=c.mc(2);c.Ab(2),c.Uc(t.filter.recipientBin),c.Ab(2),c.uc("alt",c.oc(5,2,"FILTER.REMOVE"))}}function d(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",2),c.Wb(1,"span"),c.Tc(2),c.Vb(),c.Wb(3,"a",3),c.ic("click",(function(e){return c.Ic(t),c.mc(2).onTagRemove(e,"documentNumber")})),c.Rb(4,"img",4),c.nc(5,"translate"),c.Vb(),c.Vb()}if(2&t){const t=c.mc(2);c.Ab(2),c.Uc(t.filter.documentNumber),c.Ab(2),c.uc("alt",c.oc(5,2,"FILTER.REMOVE"))}}function b(t,e){if(1&t&&(c.Wb(0,"span"),c.Rb(1,"span",5),c.Rb(2,"j-money",6),c.Vb()),2&t){const t=c.mc(3);c.Ab(2),c.uc("money",t.amountFromMoney)}}function u(t,e){1&t&&(c.Wb(0,"span"),c.Tc(1," - "),c.Vb())}function m(t,e){if(1&t&&(c.Wb(0,"span"),c.Rb(1,"span",7),c.Rb(2,"j-money",6),c.Vb()),2&t){const t=c.mc(3);c.Ab(2),c.uc("money",t.amountToMoney)}}function p(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",2),c.Rc(1,b,3,1,"span",0),c.Rc(2,u,2,0,"span",0),c.Rc(3,m,3,1,"span",0),c.Wb(4,"a",3),c.ic("click",(function(e){return c.Ic(t),c.mc(2).onTagRemove(e,"amounts")})),c.Rb(5,"img",4),c.nc(6,"translate"),c.Vb(),c.Vb()}if(2&t){const t=c.mc(2);c.Ab(1),c.uc("ngIf",t.filter.amountFrom),c.Ab(1),c.uc("ngIf",t.filter.amountFrom&&t.filter.amountTo),c.Ab(1),c.uc("ngIf",t.filter.amountTo),c.Ab(2),c.uc("alt",c.oc(6,4,"FILTER.REMOVE"))}}function h(t,e){if(1&t&&(c.Wb(0,"span"),c.Tc(1),c.nc(2,"date"),c.Vb()),2&t){const t=c.mc(3);c.Ab(1),c.Vc("",c.pc(2,1,t.filter.periodFrom,"dd.MM.yyyy")," ")}}function g(t,e){1&t&&(c.Wb(0,"span"),c.Tc(1," - "),c.Vb())}function f(t,e){if(1&t&&(c.Wb(0,"span"),c.Tc(1),c.nc(2,"date"),c.Vb()),2&t){const t=c.mc(3);c.Ab(1),c.Vc("",c.pc(2,1,t.filter.periodTo,"dd.MM.yyyy")," ")}}function T(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",2),c.Rc(1,h,3,4,"span",0),c.Rc(2,g,2,0,"span",0),c.Rc(3,f,3,4,"span",0),c.Wb(4,"a",3),c.ic("click",(function(e){return c.Ic(t),c.mc(2).onTagRemove(e,"periods")})),c.Rb(5,"img",4),c.nc(6,"translate"),c.Vb(),c.Vb()}if(2&t){const t=c.mc(2);c.Ab(1),c.uc("ngIf",t.filter.periodFrom),c.Ab(1),c.uc("ngIf",t.filter.periodFrom&&t.filter.periodTo),c.Ab(1),c.uc("ngIf",t.filter.periodTo),c.Ab(2),c.uc("alt",c.oc(6,4,"FILTER.REMOVE"))}}function y(t,e){1&t&&c.Rb(0,"span",12)}function v(t,e){1&t&&c.Rb(0,"span",13)}function S(t,e){1&t&&c.Rb(0,"span",14)}function _(t,e){if(1&t){const t=c.Xb();c.Wb(0,"div",2),c.Wb(1,"span",8),c.Rc(2,y,1,0,"span",9),c.Rc(3,v,1,0,"span",10),c.Rc(4,S,1,0,"span",11),c.Vb(),c.Wb(5,"a",3),c.ic("click",(function(e){return c.Ic(t),c.mc(2).onTagRemove(e,"sortBy")})),c.Rb(6,"img",4),c.nc(7,"translate"),c.Vb(),c.Vb()}if(2&t){const t=c.mc(2);c.Ab(1),c.uc("ngSwitch",t.filter.sortBy),c.Ab(1),c.uc("ngSwitchCase","none"),c.Ab(1),c.uc("ngSwitchCase","amount"),c.Ab(1),c.uc("ngSwitchCase","-amount"),c.Ab(2),c.uc("alt",c.oc(7,5,"FILTER.REMOVE"))}}function A(t,e){if(1&t&&(c.Ub(0),c.Rc(1,r,6,4,"div",1),c.Rc(2,l,6,4,"div",1),c.Rc(3,d,6,4,"div",1),c.Rc(4,p,7,6,"div",1),c.Rc(5,T,7,6,"div",1),c.Rc(6,_,8,7,"div",1),c.Tb()),2&t){const t=c.mc();c.Ab(1),c.uc("ngIf",t.filter.recipientIban),c.Ab(1),c.uc("ngIf",t.filter.recipientBin),c.Ab(1),c.uc("ngIf",t.filter.documentNumber),c.Ab(1),c.uc("ngIf",t.filter.amountFrom||t.filter.amountTo),c.Ab(1),c.uc("ngIf",t.isPeriodsShown),c.Ab(1),c.uc("ngIf",t.filter.sortBy!=t.DEFAULTS.sortBy)}}let C=(()=>{class t{constructor(t){this.filterService=t,this.subscription=new a.a;const e=this.filterService.getScheme().subscribe(t=>{this.filter=Object.assign({},t)});this.subscription.add(e)}ngOnInit(){this.DEFAULTS=this.filterService.getDefaults(this.mode)}ngOnDestroy(){this.subscription.unsubscribe()}onTagRemove(t,e){t.preventDefault(),"amounts"==e?(this.filter.amountFrom=this.DEFAULTS.amountFrom,this.filter.amountTo=this.DEFAULTS.amountTo):"periods"==e?(this.filter.periodType=this.DEFAULTS.periodType,this.filter.periodFrom=this.DEFAULTS.periodFrom,this.filter.periodTo=this.DEFAULTS.periodTo):this.filter[e]=this.DEFAULTS[e],this.filterService.updateExtra(this.filter)}get isPeriodsShown(){return this.mode===o.c.HISTORY&&(""!==this.filter.periodFrom&&this.filter.periodFrom!==this.DEFAULTS.periodFrom||""!==this.filter.periodTo&&this.filter.periodTo!==this.DEFAULTS.periodTo)}get amountFromMoney(){return{amount:this.filter.amountFrom,currency:i.a.KZT}}get amountToMoney(){return{amount:this.filter.amountTo,currency:i.a.KZT}}}return t.\u0275fac=function(e){return new(e||t)(c.Qb(s.a))},t.\u0275cmp=c.Kb({type:t,selectors:[["j-filter-tags"]],inputs:{mode:"mode"},decls:1,vars:1,consts:[[4,"ngIf"],["class","tag p2",4,"ngIf"],[1,"tag","p2"],["href","#",1,"tag__close",3,"click"],["src","/assets/icons/tags-remove.svg",3,"alt"],["translate","FILTER.AMOUNT.FROM"],[3,"money"],["translate","FILTER.AMOUNT.TO"],[3,"ngSwitch"],["translate","FILTER.SORT.DEFAULT",4,"ngSwitchCase"],["translate","FILTER.SORT.AMOUNT_ASC",4,"ngSwitchCase"],["translate","FILTER.SORT.AMOUNT_DESC",4,"ngSwitchCase"],["translate","FILTER.SORT.DEFAULT"],["translate","FILTER.SORT.AMOUNT_ASC"],["translate","FILTER.SORT.AMOUNT_DESC"]],template:function(t,e){1&t&&c.Rc(0,A,7,6,"ng-container",0),2&t&&c.uc("ngIf",e.filter)},styles:["[_nghost-%COMP%]{display:none}@media(min-width:670px){[_nghost-%COMP%]{display:-webkit-box;display:flex;flex-wrap:wrap}}.tag[_ngcontent-%COMP%]{background:#e9ecf1;color:#666c72;border-radius:.5rem;padding:.25rem 1rem;margin-top:.5rem;margin-right:1rem}.tag[_ngcontent-%COMP%]:last-child{margin-right:0}.tag__close[_ngcontent-%COMP%]{margin-left:.5rem}"]}),t})()},zwEd:function(t,e,n){"use strict";var a=n("L+ju"),i=n("LvDl"),o=function(t){return t.COMMERCIAL="COMMERCIAL",t.PRIVATE="PRIVATE",t}({});class c{constructor(t){this.accountType=a.a.CARD,Object(i.defaults)(this,t),this.maskedNumber=this.getMaskedNumber(),this.formattedName=this.getFormattedName(),this.formattedFullName=this.getFormattedFullName()}get hasLockedState(){return this.status!==s.ACTIVE}getMaskedNumber(){var t;return`\u2022\u2022\u2022\u2022 ${this.cardNumber.substr((null===(t=this.cardNumber)||void 0===t?void 0:t.length)-4)}`}getFormattedName(){return this.firstName||this.lastName||!this.fullName?this.firstName||this.lastName?`${this.capitalized(this.lastName)} ${this.capitalized(this.firstName)}`:"":this.fullName}getFormattedFullName(){return this.fullName}capitalized(t){var e;return t?`${null===(e=t[0])||void 0===e?void 0:e.toUpperCase()}${t.substr(1).toLowerCase()}`:""}}var s=function(t){return t.ACTIVE="ACTIVE",t.CLOSED="CLOSED",t.FRAUD="FRAUD",t.EXPIRED="EXPIRED",t.LOST_LOCK="LOST_LOCK",t.THEFT_LOCK="THEFT_LOCK",t.TEMPORARILY_LOCK="TEMPORARILY_LOCK",t}({});n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s}))}}]);